<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Agmt_QTR_Review_Notification_075day</fullName>
        <description>Agmt - QTR Review Notification 075day</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>no-reply@news.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Agreement_Notifications/Agreement_Quarterly_Review_075day</template>
    </alerts>
    <alerts>
        <fullName>Agmt_QTR_Review_Notification_165day</fullName>
        <description>Agmt - QTR Review Notification 165day</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>no-reply@news.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Agreement_Notifications/Agreement_Quarterly_Review_165day</template>
    </alerts>
    <alerts>
        <fullName>Agmt_QTR_Review_Notification_255day</fullName>
        <description>Agmt - QTR Review Notification 255day</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>no-reply@news.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Agreement_Notifications/Agreement_Quarterly_Review_255day</template>
    </alerts>
    <alerts>
        <fullName>Agmt_QTR_Review_Notification_345day</fullName>
        <description>Agmt - QTR Review Notification 345day</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>no-reply@news.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Agreement_Notifications/Agreement_Quarterly_Review_345day</template>
    </alerts>
    <alerts>
        <fullName>Agreement_Contract_Expiry_Notification_0day</fullName>
        <description>Agmt - Contract Expiry Notification 0day</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>no-reply@news.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Agreement_Notifications/Agreement_Expiry_Notification_0day</template>
    </alerts>
    <alerts>
        <fullName>Agreement_Contract_Expiry_Notification_30day</fullName>
        <description>Agmt - Contract Expiry Notification 30day</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>no-reply@news.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Agreement_Notifications/Agreement_Expiry_Notification_30day</template>
    </alerts>
    <alerts>
        <fullName>Agreement_Contract_Expiry_Notification_60day</fullName>
        <description>Agmt - Contract Expiry Notification 60day</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>no-reply@news.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Agreement_Notifications/Agreement_Expiry_Notification_60day</template>
    </alerts>
    <alerts>
        <fullName>Agreement_Contract_Expiry_Notification_90day</fullName>
        <description>Agmt - Contract Expiry Notification 90day</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>no-reply@news.com.au</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Agreement_Notifications/Agreement_Expiry_Notification_90day</template>
    </alerts>
    <fieldUpdates>
        <fullName>Agmt_Check_Agmt_Expiry_NotificationFALSE</fullName>
        <field>Trigger_Send_emails_to_account_owners__c</field>
        <literalValue>0</literalValue>
        <name>Agmt Check Agmt Expiry NotificationFALSE</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Agmt_Check_QTR_Review_Notification</fullName>
        <field>Trigger_Send_emails_for_QTR_Review_AMs__c</field>
        <literalValue>1</literalValue>
        <name>Agmt Check QTR Review NotificationTRUE</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Agmt_Check_QTR_Review_NotificationFALSE</fullName>
        <field>Trigger_Send_emails_for_QTR_Review_AMs__c</field>
        <literalValue>0</literalValue>
        <name>Agmt Check QTR Review NotificationFALSE</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Agreement_Check_send_email_checkbox</fullName>
        <description>Check for agreement expiry</description>
        <field>Trigger_Send_emails_to_account_owners__c</field>
        <literalValue>1</literalValue>
        <name>Agmt Check Agmt Expiry NotificationTRUE</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
    </fieldUpdates>
    <rules>
        <fullName>Agreement Expiry Notification</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Agreement__c.End_Date__c</field>
            <operation>greaterOrEqual</operation>
            <value>TODAY</value>
        </criteriaItems>
        <criteriaItems>
            <field>Agreement__c.Status__c</field>
            <operation>notEqual</operation>
            <value>Cancelled,Expired</value>
        </criteriaItems>
        <criteriaItems>
            <field>Agreement__c.STOP_expiry_notification_emails__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <description>Notification on agreement expiry  to all account owners + agreement owner
Once the trigger runs; it will deselect the checkbox</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Agreement_Contract_Expiry_Notification_90day</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Agreement_Check_send_email_checkbox</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.End_Date__c</offsetFromField>
            <timeLength>-90</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agreement_Contract_Expiry_Notification_60day</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Agreement_Check_send_email_checkbox</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.End_Date__c</offsetFromField>
            <timeLength>-60</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agreement_Contract_Expiry_Notification_0day</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Agreement_Check_send_email_checkbox</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.End_Date__c</offsetFromField>
            <timeLength>0</timeLength>
            <workflowTimeTriggerUnit>Hours</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agreement_Contract_Expiry_Notification_30day</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Agreement_Check_send_email_checkbox</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.End_Date__c</offsetFromField>
            <timeLength>-30</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_Check_Agmt_Expiry_NotificationFALSE</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.End_Date__c</offsetFromField>
            <timeLength>-89</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_Check_Agmt_Expiry_NotificationFALSE</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.End_Date__c</offsetFromField>
            <timeLength>-59</timeLength>
            <workflowTimeTriggerUnit>Hours</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_Check_Agmt_Expiry_NotificationFALSE</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.End_Date__c</offsetFromField>
            <timeLength>1</timeLength>
            <workflowTimeTriggerUnit>Hours</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_Check_Agmt_Expiry_NotificationFALSE</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.End_Date__c</offsetFromField>
            <timeLength>-29</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Agreement QTR Review Notification</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Agreement__c.STOP_QTR_Review_notification_emails__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <criteriaItems>
            <field>Agreement__c.Status__c</field>
            <operation>notEqual</operation>
            <value>Cancelled,Expired</value>
        </criteriaItems>
        <description>Notification on agreement for quarterly reviews to all account owners + agreement owner
Once the trigger runs; it will deselect the checkbox</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_QTR_Review_Notification_255day</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Agmt_Check_QTR_Review_Notification</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.Start_Date__c</offsetFromField>
            <timeLength>255</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_Check_QTR_Review_NotificationFALSE</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.Start_Date__c</offsetFromField>
            <timeLength>346</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_QTR_Review_Notification_165day</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Agmt_Check_QTR_Review_Notification</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.Start_Date__c</offsetFromField>
            <timeLength>165</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_Check_QTR_Review_NotificationFALSE</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.Start_Date__c</offsetFromField>
            <timeLength>166</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_Check_QTR_Review_NotificationFALSE</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.Start_Date__c</offsetFromField>
            <timeLength>256</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_QTR_Review_Notification_345day</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Agmt_Check_QTR_Review_Notification</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.Start_Date__c</offsetFromField>
            <timeLength>345</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_QTR_Review_Notification_075day</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Agmt_Check_QTR_Review_Notification</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.Start_Date__c</offsetFromField>
            <timeLength>75</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Agmt_Check_QTR_Review_NotificationFALSE</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Agreement__c.Start_Date__c</offsetFromField>
            <timeLength>76</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
</Workflow>
