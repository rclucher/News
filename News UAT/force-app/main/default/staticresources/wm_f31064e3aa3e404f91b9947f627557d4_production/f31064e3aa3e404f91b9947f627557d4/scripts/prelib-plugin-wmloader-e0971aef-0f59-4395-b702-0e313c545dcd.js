!function(){var t={buildDate:"2019-04-04T03:46:23.998Z",plugins:[{name:"wm-plugin-sf-lightning-init-user-context@0.1.0@prelib",url:"prelib"},{name:"wm-plugin-sf-vars@1.0.17@prelib",url:"prelib"},{name:"wm-plugin-lightning-spa@1.0.0@prelib",url:"prelib"},{name:"wm-plugin-salesforce-iframe-remover@1.2.0@prelib",url:"prelib"},{name:"wm-plugin-wm-smart-tip-dont-embed-tooltip@1.0.0@prelib",url:"prelib"},{name:"wm-plugin-page-identifier-salesforce-classic@1.0.7@prelib",url:"prelib"},{name:"wm-plugin-spa-title-change@1.0.3@prelib",url:"prelib"},{name:"wm-plugin-page-identifier-salesforce-console@1.0.6@prelib",url:"prelib"},{name:"wm-plugin-native-functions-restorer@0.2.3@prelib",url:"prelib"},{name:"wm-plugin-salesforce-find-element-adapter@2.3.0@prelib",url:"prelib"},{name:"wm-plugin-sf-lightning-modal-find-element@1.6.0@prelib",url:"prelib"},{name:"wm-plugin-salesforce-lightning-find-element@1.1.3@prelib",url:"prelib"},{name:"wm-plugin-wm-jquery-shadow-dom@2.3.1@prelib",url:"prelib"},{name:"wm-plugin-user-behavior@5.0.4@prelib",url:"prelib"}]};!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(e,n,r){function o(){return y}var i=r(1)["default"],a=r(2),u=r(3),s=r(4).promiseManager,c=r(6).PluginsManager,l=r(7).EventsTrigger,f=r(7).EventsListener,p=r(10).LegoDI,d=r(11);window._walkmeInternals=window._walkmeInternals||{};var h=new i({Promise:s.Promise,document:document});window._walkmeInternals.wmloader=h;var y;a(window._walkmeInternals);var v=window._walkmeInternals.ctx;v.register("PromiseManager").asInstance(s),v.register("Promise").asCtor(s.Promise).asProto(),y=new p(window._walkmeInternals,c,s);var g=wmjQuery({}),m=new l(g,s),w=new f(g);window._walkmeInternals.events={listener:w,trigger:m,_eventsBase:g},y.ctx.register("EventsTrigger").asInstance(m),y.ctx.register("EventsListener").asInstance(w),y.ctx.register("PrelibLogger").asInstance(u);var _=function(){var t,e=window.wmSnippet||window.wmPlaySnippet||window.wmPreviewSnippet;return e&&(t=e.getSettingsFile()),t||(t={}),t}();s.resolve().then(function(){return d(t,o,h)})["catch"](function(t){u.write("cannot load plugins"),u.write(t)}).then(function(){return u.write("starting plugins"),y.start(_)}).then(function(){u.write("plugins started")})["catch"](function(t){u.write("cannot start plugins"),u.write(t)})},function(t,e){"use strict";function n(t){function e(t,e,n){var r=j[t]=j[t]||{name:t};if(r.factory||(r.factory=n,r.build=e),r.resolve)try{h(r,s(r))}catch(o){d(r,i(o,t))}}function n(t,e){if(!t)throw new Error("cannot load module without a name");if(!e)throw new Error("cannot load module without an URL");var n=j[t]=j[t]||{name:t};if(!n.promise)if(n.factory)n.promise=m.resolve(s(n));else{p(n);var r=c(t,e);"loaded"===r.status?d(n,a(t,e)):"error"===r.status&&d(n,u(t,e))}return n.promise}function s(t){return t.factory(t.build)}function c(t,e){var n=E[e];if(n)n.packages[t]=!0;else{var r;n=E[e]={url:e,status:"loading",start:new Date,packages:(r={},r[t]=!0,r)};var o=f(e);l(o,e),b.appendChild(o)}return n}function l(t,e){if(t.addEventListener)t.addEventListener("load",T(e),!1),t.addEventListener("error",x(e),!1);else{if(!t.attachEvent)throw new Error("neither addEventListener nor attachEvent is supported");t.attachEvent("onreadystatechange",T(e))}}function f(t){var e=w.createElement("script");return e.type="text/javascript",e.charset="utf-8",e.async=!0,e.src=t,e}function p(t){t.promise=new m(function(e,n){t.resolve=e,t.reject=n})}function d(t,e){g(e),t.reject(e),y(t)}function h(t,e){t.resolve(e),y(t)}function y(t){delete t.resolve,delete t.reject}function v(t){t.parentNode.removeChild(t)}function g(t){t.date=new Date,k.push(t)}var m=t.Promise,w=t.document,_=this;_.load=n,_.define=e;var b=w.getElementsByTagName("head")[0],E={},j={},k=[];_.bundles=E,_.packages=j,_.errors=k;var T=function(t){return function(e){if(r(e)){var n=E[t];n.status="loaded",n.loadMs||(n.loadMs=(new Date).getTime()-n.start);for(var i in n.packages)if(n.packages.hasOwnProperty(i)){var u=j[i];u.reject&&d(u,a(i,t))}v(o(e))}}},x=function(t){return function(e){var n=E[t];n.status="error",n.loadMs||(n.loadMs=(new Date).getTime()-n.start);for(var r in n.packages)if(n.packages.hasOwnProperty(r)){var i=j[r];i.reject&&d(i,u(r,t))}v(o(e))}}}function r(t){if("load"===t.type)return!0;var e=o(t),n=e.readyState;return"complete"===n||"loaded"===n}function o(t){return t.currentTarget||t.srcElement}function i(t,e){var n=new Error("error thrown in factory. package: "+e+"\ncaused by:\n"+t.stack);return n.name="FactoryError",n.cause=t,n["package"]=e,n}function a(t,e){var n=new Error("package not found in the specified bundle. package: "+t+", bundle: "+e);return n.name="PackageNotFound",n["package"]=t,n.bundle=e,n}function u(t,e){var n=new Error("cannot load bundle. package: "+t+", bundle: "+e);return n.name="BundleLoadError",n["package"]=t,n.bundle=e,n}e.__esModule=!0,e["default"]=n},function(t,e){!function(){function e(t,e){this._object=void 0,this._name=t,this._ctx=e,this.properties={strategy:i.defaults.strategy,factory:i.defaults.factory,injector:i.defaults.injector,load:i.defaults.load,wasReady:!1,initialize:!0}}e.prototype.name=function(){return this._name},e.prototype.asFactory=function(t,e){return void 0!=e&&this.type(e),this.factory(t),this},e.prototype.loadDependencies=function(t,e){return void 0!=e&&this.dependencies(e),this.load(t),this},e.prototype.asFunction=function(t){return this.asFactory(i.factory.func,t)},e.prototype.asInstance=function(t){return this.asFactory(i.factory.instance,t)},e.prototype.asCtor=function(t){return this.asFactory(i.factory.constructor,t)},e.prototype.asSingleton=function(){return this.strategy(i.strategy.singleton)},e.prototype.asProto=function(){return this.strategy(i.strategy.proto)},e.prototype.injectToCtor=function(){return this.injector(i.injector.ctor)},e.prototype.injectToReady=function(){return this.injector(i.injector.ready)},e.prototype.injectToProperty=function(){return this.injector(i.injector.property)},e.prototype.flatDependencies=function(t){return this.loadDependencies(i.load.flat,t)},e.prototype.recursiveDependencies=function(t){return this.loadDependencies(i.load.recursive,t)},e.prototype.useOnce=function(){var t=this.getObject;return this.getObject=function(){return this._ctx.map[this.name()]=null,t.apply(this,arguments)},this},e.prototype.depsDictionary=function(t){return arguments.length?(this.properties.depsDictionary=t,this):(this.properties.depsDictionary||this.depsDictionary(this._ctx.resolve(this)),this.properties.depsDictionary)},e.prototype.create=function(t,e,n){n=n||i.load.recursive;var r=this.properties.strategy.test(this._object,n);if(e)return r;r&&(t=this.properties.injector.create(t||this.properties.args,this,this._ctx,n));var o=this.properties.strategy.create(this._object,this.properties.factory,this.properties.type,t,this._ctx,this,n);return this._ctx.ready(o,this)},e.prototype.getObject=function(t){return this.create(void 0,void 0,t)},e.prototype.object=function(t){return arguments.length?(this._object=t,this):this.create()};for(var n=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],r=0;r<n.length;r++){var o=n[r];!function(t){e.prototype[t]=function(e){return arguments.length?(this.properties[t]=e,this):this.properties[t]}}(o)}var i=function(t){function n(t,e,n,r,o){var i=t(e,n,o),a=r.decorators[o.name()];if(a)for(var u=0;u<a.length;u++)i=a[u](i);return i}return t=t||{},t.version="0.3.3",t.logger=function(t,e){},t.log=function(e,n,r){n&&(e="[class="+n.name()+"] "+e),t.logger("DI - "+e,r||4)},t.error=function(e,n,r){t.log(e,n,r)},t.createContext=function(){function e(t){for(;t.indexOf(" ")>=0;)t=t.replace(" ","");return t}var n={map:{},decorators:{}};return n.decorate=function(t,e){n.decorators[t]||(n.decorators[t]=[]),n.decorators[t].push(e)},n.entry=function(t){return n.map[t]},n.register=function(e,r,o){var i=t.entry(e,n).type(r).args(o);return n.map[e]=i,i},n.has=function(t){return null!=n.entry(t)},n.remove=function(t){return!!n.has(t)&&(n.map[t]=null,!0)},n.isEntryRemoved=function(t){return null===n.entry(t)},n.get=function(e,r){return n.isEntryRemoved(e)&&t.error("Object["+e+"] was removed"),n.has(e)||t.error("Object["+e+"] is not registered"),n.entry(e).getObject(r)},n.create=function(e,r){if(n.entry(e).strategy()==t.strategy.singleton&&t.error("Attempt to create singleton object ["+e+"]"),n.has(e))return n.entry(e).create(r);t.error("Object["+e+"] is not registered")},n.initialize=function(){function e(e){var r=n.entry(e);r?r.initialize()&&r.strategy().initialize()&&n.get(e):t.error("Object["+e+"] is not registered")}return function(t){if(t)e(t);else for(var t in n.map)e(t)}}(),n.clear=function(){this.map={},this.decorators={}},n.resolve=function(e){var r=e.load(),o={};return n.eachDependency(e.dependencies(),function(i,a){var u=n.get(i,r);n.ready(u,n.entry(i)),null==u&&t.error("Dependency ["+e.name()+"."+a+"]->["+i+"] can not be satisfied",e),o[a]=u}),o},n.eachDependency=function(n,r){if(n)for(var o=e(n).split(","),i=0;i<o.length;i++){var a=o[i];if(a){var u=t.dependencyExpression(a);try{r(u.name,u.property,i)}catch(s){t.error("An exception was thrown while the DI tried to resolve class '"+u.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+s.message)}}}},n.ready=function(t,e){if(null===e&&t)return t;var r=e.wasReady();if(e.wasReady(!0),!r){var o=n.createCallback();o&&o(e.name(),t),t&&"function"==typeof t.ready&&t!=window&&t!=window.document&&t!=window.document.body&&(e.wasReady(!0),t.ready.apply(t,e.injector().ready(t,e)||[]))}return t},n.createCallback=function(){var t;return function(e){return 0==arguments.length?t:(t=e,n)}}(),n},t.dependencyExpression=function(t){var e={},n=t,r=t;if(t.indexOf("=")>0){var o=t.split("=");n=o[0],r=o[1]}return e.name=r,e.property=n,e},t.entry=function(t,n){return new e(t,n)},t.strategy={proto:{test:function(t,e){return!e||e()},initialize:function(){return!1},create:function(t,e,r,o,i,a,u){return t=n(e,r,o,i,a),u()&&a.injector().ready(t,a),a.depsDictionary(void 0),a.wasReady(!1),t}},singleton:{test:function(t,e){return!t&&(!e||e())},initialize:function(){return!0},create:function(t,e,r,o,i,a,u){return t||(t=n(e,r,o,i,a),a.object(t),a.wasReady(!0),u()&&a.injector().ready(t,a),a.wasReady(!1)),t}}},t.factory={constructor:function(e,n,r){return n instanceof Array?n.length<=10?new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]):n.length<=30?new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29]):void t.error("trying to create a class with too many args!",r):new e(n)},func:function(t,e,n){return e instanceof Array?t.apply(t,e):t(e)},instance:function(t,e,n){return t}},t.injector={property:{create:function(t,e,n){return t},ready:function(t,e){var n=e.depsDictionary();for(var r in n)t[r]=n[r];var o=e.args();void 0==o||n.hasOwnProperty("args")||(t.args=o)}},ready:{create:function(t,e,n){return t},ready:function(t,e){var n=e.args(),r=[],o=e.depsDictionary();if(a.eachDependency(e.dependencies(),function(t,e,n){r[n]=o[e]}),n){n=n instanceof Array?n:[n];for(var i=0;i<n.length;i++)r.push(n[i])}return r}},ctor:{create:function(t,e,n){var r=[],o=e.depsDictionary();if(n.eachDependency(e.dependencies(),function(t,e,n){r[n]=o[e]}),t){t=t instanceof Array?t:[t];for(var i=0;i<t.length;i++)r.push(t[i])}return r},ready:function(t,e){}}},t.load={flat:function(t,e,n){return!1},recursive:function(t,e,n){return!0}},t.defaults={strategy:t.strategy.singleton,factory:t.factory.constructor,injector:t.injector.ctor,load:t.load.recursive},t}(),a=i.createContext();t.exports=function(t){t.di=i,t.ctx=a}}()},function(t,e){"use strict";function n(){if(c()){var t=arguments;try{t.stack=(new Error).stack}catch(e){}r(t);var n=Array().slice.call(t);console.log.apply(console,n)}}function r(t){var e=new Date;t.timeElapsed=e-(h||e),h=e,g.unshift(t),g=g.splice(0,v)}function o(){return g}function i(t){y=t}function a(){return y}function u(){d=!0,p(y,!0)}function s(){d=!1,p(y,"",-1)}function c(){return void 0!==d?d:(l(),d)}function l(){var t=window.console&&(f(y)||!1);d=t&&"true"==t.toString().toLowerCase()}function f(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():void 0}function p(t,e,n){var r,o="";n&&(r=new Date,r.setTime(r.getTime()+864e5*n),o="; expires="+r.toUTCString()),document.cookie=t+"="+e+o+"; path=/"}var d,h,y="walkme_prelib_log_enabled",v=1e4,g=[],m={write:n,getCookieName:a,setCookieName:i,enableLog:u,disableLog:s,isLogEnabled:c,readCookie:f,writeCookie:p,getLogHistoryRecords:o};t.exports=m},function(t,e,n){(function(t,r){e.promiseManager=function(){"use strict";function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function a(){}function u(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function s(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}function c(t,e){return"onerror"===t?void _t.on("error",e):2!==arguments.length?_t[t]:void(_t[t]=e)}function l(){setTimeout(function(){for(var t,e=0;e<bt.length;e++){t=bt[e];var n=t.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),_t.trigger(t.name,t.payload)}bt.length=0},50)}function f(t,e,n){1===bt.push({name:t,payload:{key:e._guidKey,id:e._id,eventName:t,detail:e._result,childId:n&&n._id,label:e._label,timeStamp:gt(),error:_t["instrument-with-stack"]?new Error(e._label):null}})&&l()}function p(){return new TypeError("A promises callback cannot return that same promise.")}function d(){}function h(t){try{return t.then}catch(e){return xt.error=e,xt}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function v(t,e,n){_t.async(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?w(t,n):b(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,E(t,o))},t)}function g(t,e){e._state===kt?b(t,e._result):e._state===Tt?(e._onError=null,E(t,e._result)):j(e,void 0,function(n){e!==n?w(t,n):b(t,n)},function(e){E(t,e)})}function m(t,e){if(e.constructor===t.constructor)g(t,e);else{var n=h(e);n===xt?E(t,xt.error):void 0===n?b(t,e):o(n)?v(t,e,n):b(t,e)}}function w(t,n){t===n?b(t,n):e(n)?m(t,n):b(t,n)}function _(t){t._onError&&t._onError(t._result),k(t)}function b(t,e){t._state===jt&&(t._result=e,t._state=kt,0===t._subscribers.length?_t.instrument&&Et("fulfilled",t):_t.async(k,t))}function E(t,e){t._state===jt&&(t._state=Tt,t._result=e,_t.async(_,t))}function j(t,e,n,r){var o=t._subscribers,i=o.length;t._onError=null,o[i]=e,o[i+kt]=n,o[i+Tt]=r,0===i&&t._state&&_t.async(k,t)}function k(t){var e=t._subscribers,n=t._state;if(_t.instrument&&Et(n===kt?"fulfilled":"rejected",t),0!==e.length){for(var r,o,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function T(){this.error=null}function x(t,e){try{return t(e)}catch(n){return Pt.error=n,Pt}}function P(t,e,n,r){var i,a,u,s,c=o(n);if(c){if(i=x(n,r),i===Pt?(s=!0,a=i.error,i=null):u=!0,e===i)return void E(e,p())}else i=r,u=!0;e._state!==jt||(c&&u?w(e,i):s?E(e,a):t===kt?b(e,i):t===Tt&&E(e,i))}function A(t,e){var n=!1;try{e(function(e){n||(n=!0,w(t,e))},function(e){n||(n=!0,E(t,e))})}catch(r){E(t,r)}}function D(t,e,n){return t===kt?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function C(t,e,n,r){var o=this;o._instanceConstructor=t,o.promise=new t(d,r),o._abortOnReject=n,o._validateInput(e)?(o._input=e,o.length=e.length,o._remaining=e.length,o._init(),0===o.length?b(o.promise,o._result):(o.length=o.length||0,o._enumerate(),0===o._remaining&&b(o.promise,o._result))):E(o.promise,o._validationError())}function L(t,e){return new At(this,t,(!0),e).promise}function M(t,e){function n(t){w(i,t)}function r(t){E(i,t)}var o=this,i=new o(d,e);if(!vt(t))return E(i,new TypeError("You must pass an array to race.")),i;for(var a=t.length,u=0;i._state===jt&&u<a;u++)j(o.resolve(t[u]),void 0,n,r);return i}function O(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(d,e);return w(r,t),r}function I(t,e){var n=this,r=new n(d,e);return E(r,t),r}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function S(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(t,e){var n=this;n._id=It++,n._label=e,n._state=void 0,n._result=void 0,n._subscribers=[],_t.instrument&&Et("created",n),d!==t&&(o(t)||R(),n instanceof N||S(),A(n,t))}function B(t,e,n){this._superConstructor(t,e,!1,n)}function F(t,e){return new B(Rt,t,e).promise}function z(t,e){return Rt.all(t,e)}function U(t,e){Gt[zt]=t,Gt[zt+1]=e,2===(zt+=2)&&Nt()}function W(){return function(){St(H)}}function Y(){return function(){setTimeout(H,1)}}function H(){for(var t=0;t<zt;t+=2)(0,Gt[t])(Gt[t+1]),Gt[t]=void 0,Gt[t+1]=void 0;zt=0}function K(t){var e={};return e.promise=new Rt(function(t,n){e.resolve=t,e.reject=n},t),e}function q(t,e,n){return Rt.all(t,n).then(function(t){if(!o(e))throw new TypeError("You must pass a function as filter's second argument.");for(var r=t.length,i=new Array(r),a=0;a<r;a++)i[a]=e(t[a]);return Rt.all(i,n).then(function(e){for(var n=new Array(r),o=0,i=0;i<r;i++)e[i]&&(n[o]=t[i],o++);return n.length=o,n})})}function G(t,e,n){this._superConstructor(t,e,!0,n)}function Q(t,e,n){this._superConstructor(t,e,!1,n)}function Z(t,e){return new Q(Rt,t,e).promise}function $(t,e){return new $t(Rt,t,e).promise}function J(t,e,n){return Rt.all(t,n).then(function(t){if(!o(e))throw new TypeError("You must pass a function as map's second argument.");for(var r=t.length,i=new Array(r),a=0;a<r;a++)i[a]=e(t[a]);return Rt.all(i,n)})}function V(){this.value=void 0}function X(t){try{return t.then}catch(e){return te.value=e,te}}function tt(t,e,n){try{t.apply(e,n)}catch(r){return te.value=r,te}}function et(t,e){for(var n,r,o={},i=t.length,a=new Array(i),u=0;u<i;u++)a[u]=t[u];for(r=0;r<e.length;r++)n=e[r],o[n]=a[r+1];return o}function nt(t){for(var e=t.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=t[r];return n}function rt(t,e){return{then:function(n,r){return t.call(e,n,r)}}}function ot(t,e){var n=function(){for(var n,r=this,o=arguments.length,i=new Array(o+1),a=!1,u=0;u<o;++u){if(n=arguments[u],!a){if((a=ut(n))===ee){var s=new Rt(d);return E(s,ee.value),s}a&&!0!==a&&(n=rt(a,n))}i[u]=n}var c=new Rt(d);return i[o]=function(t,n){t?E(c,t):void 0===e?w(c,n):!0===e?w(c,nt(arguments)):vt(e)?w(c,et(arguments,e)):w(c,n)},a?at(c,i,t,r):it(c,i,t,r)};return n.__proto__=t,n}function it(t,e,n,r){var o=tt(n,r,e);return o===te&&E(t,o.value),t}function at(t,e,n,r){return Rt.all(e).then(function(e){var o=tt(n,r,e);return o===te&&E(t,o.value),t})}function ut(t){return!(!t||"object"!=typeof t)&&(t.constructor===Rt||X(t))}function st(t,e){return Rt.race(t,e)}function ct(t,e){return Rt.reject(t,e)}function lt(t,e){return Rt.resolve(t,e)}function ft(t){throw setTimeout(function(){throw t}),t}function pt(t,e){_t.async(t,e)}function dt(){_t.on.apply(_t,arguments)}function ht(){_t.off.apply(_t,arguments)}var yt;yt=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var vt=yt,gt=Date.now||function(){return(new Date).getTime()},mt=Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return a.prototype=t,new a},wt={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=void 0,t},on:function(t,e){if("function"!=typeof e)throw new TypeError("Callback must be a function");var n,r=s(this);n=r[t],n||(n=r[t]=[]),-1===u(n,e)&&n.push(e)},off:function(t,e){var n,r,o=s(this);if(!e)return void(o[t]=[]);n=o[t],-1!==(r=u(n,e))&&n.splice(r,1)},trigger:function(t,e,n){var r,o=s(this);if(r=o[t])for(var i=0;i<r.length;i++)(0,r[i])(e,n)}},_t={instrument:!1};wt.mixin(_t);var bt=[],Et=f,jt=void 0,kt=1,Tt=2,xt=new T,Pt=new T,At=C;C.prototype._validateInput=function(t){return vt(t)},C.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},C.prototype._init=function(){this._result=new Array(this.length)},C.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===jt&&o<e;o++)t._eachEntry(r[o],o)},C.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;i(t)?t.constructor===r&&t._state!==jt?(t._onError=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=n._makeResult(kt,e,t))},C.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===jt&&(r._remaining--,r._abortOnReject&&t===Tt?E(o,n):r._result[e]=r._makeResult(t,e,n)),0===r._remaining&&b(o,r._result)},C.prototype._makeResult=function(t,e,n){return n},C.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){n._settledAt(kt,e,t)},function(t){n._settledAt(Tt,e,t)})};var Dt=L,Ct=M,Lt=O,Mt=I,Ot="rsvp_"+gt()+"-",It=0,Rt=N;N.cast=Lt,N.all=Dt,N.race=Ct,N.resolve=Lt,N.reject=Mt,N.prototype={constructor:N,_guidKey:Ot,_onError:function(t){var e=this;_t.after(function(){e._onError&&_t.trigger("error",t,e._label)})},then:function(t,e,n){var r=this,o=r._state;if(o===kt&&!t||o===Tt&&!e)return _t.instrument&&Et("chained",r,r),r;r._onError=null;var i=new r.constructor(d,n),a=r._result;if(_t.instrument&&Et("chained",r,i),o){var u=arguments[o-1];_t.async(function(){P(o,i,u,a)})}else j(r,i,t,e);return i},"catch":function(t,e){return this.then(void 0,t,e)},"finally":function(t,e){var n=this,r=n.constructor;return n.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})},e)}},B.prototype=mt(At.prototype),B.prototype._superConstructor=At,B.prototype._makeResult=D,B.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var St,Nt,Bt=F,Ft=z,zt=0,Ut=U,Wt="undefined"!=typeof window?window:void 0,Yt=Wt||{},Ht=Yt.MutationObserver||Yt.WebKitMutationObserver,Kt="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),qt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Gt=new Array(1e3);Nt=Kt?function(){var e=t.nextTick,n=t.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(e=setImmediate),function(){e(H)}}():Ht?function(){var t=0,e=new Ht(H),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():qt?function(){var t=new MessageChannel;return t.port1.onmessage=H,function(){t.port2.postMessage(0)}}():void 0===Wt?function(){try{var t=n(!function(){var t=new Error('Cannot find module "vertx"');throw t.code="MODULE_NOT_FOUND",t}());return St=t.runOnLoop||t.runOnContext,W()}catch(e){return Y()}}():Y();var Qt=K,Zt=q,$t=G;G.prototype=mt(At.prototype),G.prototype._superConstructor=At,G.prototype._init=function(){this._result={}},G.prototype._validateInput=function(t){return t&&"object"==typeof t},G.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},G.prototype._enumerate=function(){var t=this,e=t.promise,n=t._input,r=[];for(var o in n)e._state===jt&&Object.prototype.hasOwnProperty.call(n,o)&&r.push({position:o,entry:n[o]});var i=r.length;t._remaining=i;for(var a,u=0;e._state===jt&&u<i;u++)a=r[u],t._eachEntry(a.entry,a.position)},Q.prototype=mt($t.prototype),Q.prototype._superConstructor=At,Q.prototype._makeResult=D,Q.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var Jt=Z,Vt=$,Xt=J,te=new V,ee=new V,ne=ot;if("object"==typeof self)self;else if("object"!=typeof r)throw new Error("no global: `self` or `global` found");var re=st,oe=ct,ie=lt,ae=ft;if(_t.async=Ut,_t.after=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var ue=window.__PROMISE_INSTRUMENTATION__;c("instrument",!0);for(var se in ue)ue.hasOwnProperty(se)&&dt(se,ue[se])}return{race:re,Promise:Rt,allSettled:Bt,hash:Vt,hashSettled:Jt,denodeify:ne,on:dt,off:ht,map:Xt,filter:Zt,resolve:ie,reject:oe,all:Ft,rethrow:ae,defer:Qt,EventTarget:wt,configure:c,async:pt}}()}).call(e,n(5),function(){return this}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?h=d.concat(h):v=-1,h.length&&u())}function u(){if(!y){var t=o(a);y=!0;for(var e=h.length;e;){for(d=h,h=[];++v<e;)d&&d[v].run();v=-1,e=h.length}d=null,y=!1,i(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,h=[],y=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new s(t,e)),1!==h.length||y||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){"use strict";var n=function(){function t(t){this.promiseManager=t,this._plugins=[]}return t.prototype.register=function(t){this._plugins.push(t)},t.prototype.run=function(t){for(var e,n=this._plugins,r=[],o=0;o<n.length;o++)(e=n[o].run(t))&&r.push(e);return this.promiseManager.all(r)},t}();e.PluginsManager=n},function(t,e,n){"use strict";e.__esModule=!0;var r=n(8);e.EventsListener=r.EventsListener;var o=n(9);e.EventsTrigger=o.EventsTrigger},function(t,e){"use strict";function n(t){return t.__wmEventWrapped||(t.__wmEventWrapped=r(t)),t.__wmEventWrapped}function r(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=(e[0],e[1]);return o&&o.__asyncResults&&o.__asyncResults.push(r),r}}function o(t){return t&&t.__wmEventWrapped||t}e.__esModule=!0;var i=function(){function t(t){this._eventsBase=t}return t.prototype.on=function(t,e){var r=n(e);this._eventsBase.on(t,r)},t.prototype.once=function(t,e){var r=n(e);this._eventsBase.one(t,r)},t.prototype.off=function(t,e){var n=o(e);this._eventsBase.off(t,n)},t}();e.EventsListener=i},function(t,e){"use strict";e.__esModule=!0;var n=function(){function t(t,e){this._eventsBase=t,this._promiseManager=e}return t.prototype.async=function(t,e,n,r){var o;try{o=this._eventsBase.triggerHandler(t,e)}catch(i){r&&r()}this._promiseManager.Promise.resolve(o).then(n,r)},t.prototype.sync=function(t,e,n){var r=e&&e.asyncCallback;r&&(e.__asyncResults=[]);var o=this._eventsBase.triggerHandler(t,e);return r&&(o=this._promiseManager.all(e.__asyncResults).then(function(t){return t[t.length-1]})),void 0==o?n:o},t}();e.EventsTrigger=n},function(t,e){"use strict";var n=function(){function t(t,e,n){this.PluginsManager=e,this._configs=new this.PluginsManager(n),this._plugins=new this.PluginsManager(n),this.ctx=t.ctx,this.di=t.di}return t.prototype.config=function(t){this._configs.register(t)},t.prototype.plugin=function(t){this._plugins.register(t)},t.prototype.start=function(t){var e=this,n=this._configs,r=this._plugins;return n.run(t).then(function(){return r.run(t)}).then(function(){return e.callWalkmePreLibLoaded()})["catch"](function(t){e.logError(t)})},t.prototype.callWalkmePreLibLoaded=function(){window.walkme_pre_lib_loaded&&window.walkme_pre_lib_loaded()},t.prototype.logError=function(t){throw this.ctx.has("PrelibLogger")&&this.ctx.get("PrelibLogger").write("Prelib encountered an error while loading: "+t+"\nDetails:\n"+t.stack),t},t}();e.LegoDI=n},function(t,e){function n(t,e,n){function r(){for(var t=["[prelib-loader]"],e=0;e<arguments.length;e++)t.push(arguments[e]);s.write.apply(s,t)}function o(){return}var i=e(),a=i.ctx,u=a.get("PromiseManager").Promise,s=a.get("PrelibLogger");r("loading plugins",t);for(var c=[],l=0;l<t.plugins.length;l++){var f=function(t){return r("loading",t.name,"from",t.url),n.load(t.name,t.url).then(function(n){r("loaded",t.name),n(e)})["catch"](function(e){r("cannot load",t.name),s.write(e),n.errors.push(e)})}(t.plugins[l]);c.push(f)}return u.all(c).then(o)}t.exports=n}])}();

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-sf-lightning-init-user-context@0.1.0@prelib",{name:"wm-plugin-sf-lightning-init-user-context",version:"0.1.0",toolbelt:"1.2.1",packageDate:"2018-06-19T08:27:40.633Z",entry:"prelib"},function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r=n(2).createPluginEntry;e.exports=r(function(e){var t=n(3).SfLightningInitUserContext;e(new t)})},function(e,t){var n,r={createPluginEntry:i,getCtx:o};function i(e){return function(t){n=t(),e(a)}}function o(){return n.ctx}function a(e){n.plugin(e)}t.__esModule=!0,t["default"]=r,t.createPluginEntry=r.createPluginEntry,t.getCtx=r.getCtx},function(e,t,n){var r=n(2).getCtx;function i(){var e=this;e.run=u;var t,n,i,o,a=[];function s(){t=r().get("PromiseManager"),n=r().get("EventsListener"),i=r().get("EventsTrigger"),o=r().get("PrelibLogger")}function u(){var e=null;return window._walkmeInternals.sfLightningInitUserContext=!0,c()&&!window.UserContext&&(r().decorate("LibInitializer",function(e){return e.originalStartInitializer=e.startInitializer,e.startInitializer=function(){try{x()}catch(t){}e.originalStartInitializer.apply(e,arguments)},e}),e=f().then(function(e){l(e)})["catch"](function(e){if(e instanceof Error&&e.extraData)g(e.message,e.extraData);else{var t="UserContext plugin internal error: "+e,n={sfUCCode:"Plugin.InternalError",sfUCError:""+e};g(t,n)}})),e}function l(e,t){try{var n="while(1);",r=e.indexOf(n);r>=0&&r<8?e=e.substr(r+n.length):g("UserContextServlet response does not start with while(1)",{sfUCCode:"UserContextServlet.NoSecurityPrefix",sfUCServletResponse:e}),window.UserContext=JSON.parse(e),window.UserContext.initializeFromServlet=function(){},g("UserContext OK",{sfUCCode:"OK"})}catch(i){var o=new Error("Failed to parse UserContextServlet response");throw o.extraData={sfUCCode:"UserContextServlet.ParseResponseFailed",sfUCServletResponse:e},o}}function f(){return o.write("UserContext: none found in Lightning - requesting UserContextServlet..."),r().create("Promise",function(e,t){wmjQuery.ajax({type:"GET",url:"/_ui/system/context/UserContextServlet",dataType:"text",success:e,error:function(e){var n=new Error("Request to UserContextServlet failed.");n.extraData={sfUCCode:"UserContextServlet.RequestFailed",sfUCServletResponse:e.status},t(n)}})})}function c(){var e=new RegExp("/one/one\\.app.*");return e.test(window.location.pathname)}function g(e,t){a.push({message:e,extraData:t}),o.write(e)}function x(){for(var e=r().get("EventSenderErrorLogger"),t=d(),n=t.UserGuids&&t.UserGuids[0],i=0;i<a.length;i++){var o=a[i];o.extraData?o.extraData.uId=n:o.extraData={uId:n},e.logError(o.message,o.extraData)}}function d(){return p("wmSnippet")||p("wmPlaySnippet")||p("wmPreviewSnippet")}function p(e){if(window[e]&&window[e].getSettingsFile)return window[e].getSettingsFile()}s()}t.SfLightningInitUserContext=i}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-sf-vars@1.0.17@prelib",{name:"wm-plugin-sf-vars",version:"1.0.17",toolbelt:"1.2.1",packageDate:"2018-06-05T13:57:23.490Z",entry:"prelib"},function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r=n(2).createPluginEntry;e.exports=r(function(e){var t=n(3).SfVars;e(new t)})},function(e,t){var n,r={createPluginEntry:i,getCtx:o};function i(e){return function(t){n=t(),e(a)}}function o(){return n.ctx}function a(e){n.plugin(e)}t.__esModule=!0,t["default"]=r,t.createPluginEntry=r.createPluginEntry,t.getCtx=r.getCtx},function(e,t,n){var r=n(2).getCtx,i=n(4);n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21);function o(){var e=this;e.run=u;var t,n,o,a;function s(){t=r().get("PromiseManager"),n=r().get("EventsListener"),o=r().get("EventsTrigger"),a=r().get("PrelibLogger")}function u(){a.write("sf-vars plugin was deployed."),n.on("BeforeStorageLoadedCallback",function(){var e=r().get("SfVarsEventLogger");if(r().has("sfVarsRemovedFromLib")){a.write("sf-vars plugin detected Lib 152+ - initializing");var t=r().get("SfVarsFeatureLoader");return t.load(),r().create("Promise",function(t,n){try{r().get("SalesForceManager").init(function(){t()})}catch(i){t(),e.logEvent("FAIL",{errorMsg:i.message||i})}})}a.write("sf-vars plugin did not detect Lib 152+ - do nothing"),e.logEvent("OFF")});var e=i(window,r());return e}s()}t.SfVars=o},function(e,t,n){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=n:t.sfLightningInitContext=n}(this,function(e,t,r){if(e._walkmeInternals&&e._walkmeInternals.sfLightningInitUserContext)return e._walkmeInternals.sfLightningInitUserContext.result;var i=n(5)(t),o=i.ConstsLogLevel,a=(t.get("PromiseManager"),t.get("EventsListener"),t.get("EventsTrigger"),t.get("PrelibLogger")),s=[];function u(){var n=null;return l()||(t.decorate("LibInitializer",function(e){return e.originalStartInitializer=e.startInitializer,e.startInitializer=function(){try{p()}catch(t){}e.originalStartInitializer.apply(e,arguments)},e}),n=f().then(function(e){c(e)})["catch"](function(e){if(e instanceof Error&&e.extraData)d(e.message,e.extraData);else{var t="UserContext plugin internal error: "+e,n={sfUCCode:"Plugin.InternalError",sfUCError:""+e,logLevel:o.ALWAYS};d(t,n)}})),e._walkmeInternals&&(e._walkmeInternals.sfLightningInitUserContext={result:n}),n}function l(){return e.UserContext&&e.UserContext.userId&&e.UserContext.userName&&e.UserContext.vfDomainPattern}function c(t){try{var n="while(1);",r=t.indexOf(n);r>=0&&r<8?t=t.substr(r+n.length):d("UserContextServlet response does not start with while(1)",{sfUCCode:"UserContextServlet.NoSecurityPrefix",sfUCServletResponse:t,logLevel:o.ALWAYS}),l()||(e.UserContext=e.UserContext||{},wmjQuery.extend(e.UserContext,JSON.parse(t)),e.UserContext.initializeFromServlet=e.UserContext.initializeFromServlet||function(){},e.UserContext.getUrl=e.UserContext.getUrl||function(e){return e}),d("UserContext OK",{sfUCCode:"OK",logLevel:o.WEEKLY})}catch(i){var a=new Error("Failed to parse UserContextServlet response");throw a.extraData={sfUCCode:"UserContextServlet.ParseResponseFailed",sfUCServletResponse:t,logLevel:o.DAILY},a}}function f(){return a.write("UserContext: none found in Lightning - requesting UserContextServlet..."),t.create("Promise",function(e,t){wmjQuery.ajax({type:"GET",url:"/_ui/system/context/UserContextServlet",dataType:"text",success:e,error:function(e){var n=new Error("Request to UserContextServlet failed.");n.extraData={sfUCCode:"UserContextServlet.RequestFailed",sfUCServletResponse:e.status,logLevel:o.DAILY},t(n)}})})}function d(e,t){s.push({message:e,extraData:t}),a.write(e)}function p(){for(var e=g(),t=e&&e.UserGuids&&e.UserGuids[0],n=0;n<s.length;n++){var o=s[n];o.extraData?o.extraData.uId=t:o.extraData={uId:t},r&&r.push(o),i.sendLog(o)}}function g(){return h("wmSnippet")||h("wmPlaySnippet")||h("wmPreviewSnippet")}function h(t){if(e[t]&&e[t].getSettingsFile)return e[t].getSettingsFile()}return u()})},function(e,t,n){function r(e){var t,r,i,o=this,a=864e5,s=365*a*10,u=7*a,l={ALWAYS:1,DAILY:2,WEEKLY:3,ONCE:4},c={};o._messageQueue=[],o.ConstsLogLevel=l,o.sendLog=g;function f(){o._logsIoSender=n(6)(e),t=e.get("EventsListener"),t.on("BeforeStorageLoadedCallback",d),p()}function d(){return e.create("Promise",function(t){r=e.get("PrelibLogger"),i=e.get("ClientStorageManager"),h(),t()})}function p(){c[l.ALWAYS]=function(){return!0},c[l.ONCE]=v(s),c[l.WEEKLY]=v(u),c[l.DAILY]=v(a)}function g(e){if(!i)return void o._messageQueue.push(e);r.write(e.message),m(e)&&o._logsIoSender.sendLog(e.message,e.extraData)}function h(){o._messageQueue.forEach(function(e){o.sendLog(e)}),o._messageQueue=[]}function m(e){var t=!!c[e.extraData.logLevel]&&c[e.extraData.logLevel](e.message);return t}function v(e){return function(t){var n=y(window._walkMe.getUserGuid(),window._walkMe.getEndUserGuid(),t),r=i.getData(n)||-1,o=(new Date).getTime();if(o-e>r)return i.saveData(n,o,e),!0;return!1}}function y(e,t,n){var r=e+t+n.split(" ").join("");return w(r)}function w(e){var t,n,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return""+r}f()}var i;e.exports=function(e){return i||(i=new r(e)),i}},function(e,t){var n,r=function(){function e(e){var t=this;this._ctx=e,this._messageQueue=[],this._eventsListener=e.get("EventsListener"),this._eventsListener.on("DataLoadedEvent",function(){t._eventSenderErrorLogger||(t._eventSenderErrorLogger=t._ctx.get("EventSenderErrorLogger"),t.emptyQueue())})}return e.prototype.sendLog=function(e,t){if(!e)return;if(!this._eventSenderErrorLogger)return void this.pushToQueue(e,t);this._eventSenderErrorLogger.logError(e,t)},e.prototype.pushToQueue=function(e,t){this._messageQueue.push({message:e,extraData:t})},e.prototype.emptyQueue=function(){for(var e=0;e<this._messageQueue.length;e++)this._eventSenderErrorLogger.logError(this._messageQueue[e].message,this._messageQueue[e].extraData);this._messageQueue=null},e}();e.exports=function(e){return n?n:n=new r(e)}},function(e,t,n){var r=n(2).getCtx;r().register("SfVarsEventLogger").asCtor(i).dependencies("PrelibLogger, EventSenderErrorLogger");function i(e,t){var n=this;n.logEvent=function(n,r){e.write("sfVars plugin event: "+n);var o=i();r||(r={plugin:null,uId:null,sfVarsResult:null}),r.plugin="sf-vars",r.sfVarsResult=n,o&&(r.uId=o),t.logError(n,r)};function i(){var e=o();return e&&e.UserGuids&&e.UserGuids[0]}function o(){return a("wmSnippet")||a("wmPlaySnippet")||a("wmPreviewSnippet")}function a(e){var t=r().get("win");if(t[e]&&t[e].getSettingsFile)return t[e].getSettingsFile()}}},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o,a,s,u,l,c){var f,d,p=".oneHomeCardListDesktop",g="sfVarsBlacklist",h="#WM_EXT_IFRAME {display:none !important}",m="walkme-extention-tile-hide",v=200,y=this,w=s.wrapCustomerLog(r),S=!1;function C(){U()}y.init=function(e){f=k(),f&&!b()?(w("Start to extract sfVars",2),A(e)):e&&e()};function b(){var e=x();if(e instanceof Array)for(var t=0;t<e.length;t++)if(location.href.indexOf(e[t])>-1)return!0}function x(){return _walkMe.getSiteConfig().Custom[g]}function E(){return"lightning"==a.getCurrentSfEnvironment()}function U(){if(!window.WalkMe_Extension)return;var e=window.location.href;e.indexOf("lightning.force")>-1&&(d=0,L())}y.removeIFrame=function(){i.isFeatureEnabled("keepSFFrame")||(E()?T():wmjQuery("iframe[title*='WM_EXT_IFRAME']").remove())};function T(){c.injectCss(h,m)}function L(){if(d<v){var e=wmjQuery('li:has(div:contains("WalkMe"))',p);0==e.length?(d++,u.libSetTimeout(L,300)):(e.remove(),S=!0,w("walkme SF action bar removed due to exsiting extension",2))}}function A(e){if(R()){w("Find window.UserContext",2);var n=o.getSfVarsRetriever(f);if(!n)return void a.handleNoSfVars("Can't get any right sfRetriever",e,{errType:"sfVarsFailure"});w("Got the right sfRetriever",2),t.extractSalesForceVars(e,n)}else a.handleNoSfVars("There is no UserContext on the page",e,{errType:"sfVarsFailure"})}y.search=function(e,t){n.search(e,t)};function R(){var e=a.getCurrentSfEnvironment();if(!e)return!1;var t="lightning"==e;if(t)return N();return V()}function V(){return!(!window.UserContext||"undefined"==typeof window.UserContext.userId)}function N(){var e=l.get().Custom.sfVarsLightningBaseUrl;if(e)return!0;return V()&&window.UserContext.vfDomainPattern}function k(){if(i.isFeatureEnabled(a.BASIC_SF_VARS_FEATURE)&&!i.isFeatureEnabled(a.GENERAL_SF_VARS_FEATURE))return a.BASIC_SF_VARS_FEATURE;return a.GENERAL_SF_VARS_FEATURE}C.apply(null)}t.SalesForceManager=i},function(e,t,n){var r=n(2).getCtx,i="salesforce";function o(e,t,n){var o,a=this,s=(t.wrapCustomerLog(i),{legacy:{ctxUrlBuilderName:"",separatedFeatureName:"legacySfVars",appEndpoint:""},lightning:{ctxUrlBuilderName:"LightningSfVarsUrlBuilder",separatedFeatureName:"lightningSfVars",appEndpoint:"/apex/vf_WalkMeSfVars"},community:{ctxUrlBuilderName:"CommunitySfVarsUrlBuilder",separatedFeatureName:"communitiesSfVars",appEndpoint:"/apex/WM4SF3__vf_WalkMeSfVars"}});a.GENERAL_SF_VARS_FEATURE="sfVars",a.BASIC_SF_VARS_FEATURE="basicSfVars";function u(){}function l(){if(c())return"legacy";if(f())return"lightning";if(d())return"community"}a.getCurrentSfEnvironment=function(){if(o)return o;return o=l()},a.getAppEndpointByEnvironment=function(e){return s[e]&&s[e].appEndpoint},a.getUrlBuilderByEnvironment=function(e){var t=s[e]&&s[e].ctxUrlBuilderName;return r().get(t)},a.to18CharId=function(e){if(null==e||18==e.length)return e;if(e=e.replace(/\"/g,""),15!=e.length)return null;for(var t="",n=0;n<3;n++){for(var r=0,i=0;i<5;i++){var o=e.charAt(5*n+i);"A"<=o&&"Z">=o&&(r+=1<<i)}t=25>=r?t+"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r):t+"012345".charAt(r-26)}return e+t},a.handleNoSfVars=function(r,i,o){var a=p(),s=a?"sfVars failed to load (optional) - ":"sfVars failed to load (walkme removed) - ";t.error(void 0,s+r,o),a?i&&i():n.libSetTimeout(function(){e.removeWalkMe(r)},500)};function c(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!f()}function f(){var e=new RegExp("/one/one\\.app.*");return e.test(window.location.pathname)}function d(){return!c()&&!f()&&window.UserContext}function p(){return!0}u.apply(null,arguments)}t.SfVarsUtils=o},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o,a,s,u){var l,c,f=this,d="wm-sf-users-data_"+s.get(),p="wm-sf-lst-usr",g=31536e5,h=864e5,m=86400,v=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];f.extractSalesForceVars=function(n,r){c=n;try{var i=y("wm-expirationCookie");i&&(h=parseInt(i));var o=w(),a=b();x(a,o,r).then(function(e){U(e.userData,e.isPrev),e.isPrev||u.logEvent("OK",{retrieverType:r.getType()})}).fail(function(e){t.handleNoSfVars("Failed getting user data. Message: "+e,c,{errType:"sfVarsFailure"}),u.logEvent("FAIL",{errorMsg:e,retrieverType:r.getType()})})}catch(s){e.error(s,"unknown error getting walkmeSfVars: "+s.message,{errType:"sfVarsFailure"}),u.logEvent("FAIL",{errorMsg:s.message||s,retrieverType:r.getType()}),c&&c()}};function y(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=wmjQuery.trim(n[r]);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function w(){if(window.UserContext&&window.UserContext.userId){var e=t.to18CharId(window.UserContext.userId);if(S(e),e)return e}var n=C();if(n)return n;l("No UserContext on window. Can't get userId")}function S(e){e&&n.saveData(p,e,m)}function C(){return n.getData(p)}function b(){var e=n.getData(d);if(e)return i.secureEvalJSON(e)}function x(e,t,n){var r=wmjQuery.Deferred(),i=e&&e[t];return!i||E(i)?n.getUserData(v).then(function(e){l("Get sfVars from server"),r.resolve({userData:e,isPrev:!1})}).fail(function(e){i?(l("reuse sfVars that already expired"),r.resolve({userData:i,isPrev:!0})):(l("no sfVars"),r.reject(e))}):(l("sfVars is already exist"),r.resolve({userData:i,isPrev:!0})),r.promise()}function E(e){if(e.lastModified){var t=(new Date).getTime();if(t-h<e.lastModified)return!1}return!0}function U(t,n){t?(n||T(w(),t),window.walkme_sf_vars=t,delete window.walkme_sf_vars.lastModified,o.raiseEvent(a.EVENTS.SalesForceVarsExposed),l("sales force var were exposed",5)):l("no user data for user: "+w(),5);try{c&&c()}catch(r){e.error(r,"error during callback in extract sf vars: exposeData")}}function T(e,t){if(!e)return;var r=b();r||(r={}),r[e]=t,r[e].lastModified=(new Date).getTime();var o=i.toJSON(r);o&&n.saveData(d,o,g)}function L(){l=e.wrapCustomerLog(r)}L.apply(null,arguments)}t.SalesForceVarsExtractor=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i,o=this,a="Account (Id, Name), Contact (Id, Name), Opportunity (Id, Name), Lead (Id, Name)",s="";o.search=function(e,t){n.injectSFConnection(function(n){u(n,e,t)},function(){t(s)})};function u(e,n,r){var o=s;try{var u=t.get().Settings.sfSearch||a;o=e.connection.search("find {"+n+"*} RETURNING "+u)}catch(l){i("unknown error getting search results: "+l.message)}r(o)}function l(){i=e.wrapCustomerLog(r)}l.apply(null,arguments)}t.SalesForceSearcher=i},function(e,t,n){var r=n(2).getCtx;function i(e,t,n){var i=this;i.injectSFConnection=function(e,t){var n=r().get("SalesForceConnection"),i=n.getSforce();i?e&&e(i):t()}}t.SalesForceConnectionUtils=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i=window,o={},a=n.wrapCustomerLog(r),s=!1,u="undefined"!=typeof i.UserContext?i.UserContext:{siteUrlPrefix:"",getUrl:function(e){if("undefined"==typeof e||"undefined"==typeof u.siteUrlPrefix||!u.siteUrlPrefix)return e;if(0!=e.indexOf("/"))return e;if(0==e.indexOf(u.siteUrlPrefix))return e;return u.siteUrlPrefix+e}};this.getSforce=function(){if(s)return o;return null},o.internal={},o.StringBuffer=function(){this.buffer=[],this.append=function(e){return this.buffer.push(e),this},this.toString=function(){return this.buffer.join("")}},o.Base64Binary=function(e){this.input=e},o.Base64Binary.prototype.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.Base64Binary.prototype.toString=function(){var e,t,n,r,i,o=[],a="",s="",u=0;do e=this.input.charCodeAt(u++),t=this.input.charCodeAt(u++),a=this.input.charCodeAt(u++),n=e>>2,r=(3&e)<<4|t>>4,i=(15&t)<<2|a>>6,s=63&a,isNaN(t)?i=s=64:isNaN(a)&&(s=64),o.push(this.keyStr.charAt(n)+this.keyStr.charAt(r)+this.keyStr.charAt(i)+this.keyStr.charAt(s)),e=t=a="",n=r=i=s="";while(u<this.input.length);return o.join("")},o.Base64Binary.prototype.decode=function(e){var t,n,r,i,o,s=[],u="",l="",c=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(e)&&a("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/', and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.keyStr.indexOf(e.charAt(c++)),i=this.keyStr.indexOf(e.charAt(c++)),o=this.keyStr.indexOf(e.charAt(c++)),l=this.keyStr.indexOf(e.charAt(c++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,u=(3&o)<<6|l,s.push(String.fromCharCode(t)),64!=o&&s.push(String.fromCharCode(n)),64!=l&&s.push(String.fromCharCode(u)),t=n=u="",r=i=o=l="";while(c<e.length);return s.join("")},o.internal.dateToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return n+"-"+r+"-"+i},o.internal.dateTimeToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getTimezoneOffset(),l=u<0?"+":"-";u=Math.abs(u);var c=u/60,f=u%60;s<=9&&(s="0"+s);var d=t.getMilliseconds();0!==d&&(d="."+d,d.length>4&&(d=d.substring(0,4)),s+=d);var p;return 0===u?p="Z":(f<10&&(f="0"+f),c<10&&(c="0"+c),p=l+c+":"+f),r<=9&&(r="0"+r),i<=9&&(i="0"+i),o<=9&&(o="0"+o),a<=9&&(a="0"+a),n+"-"+r+"-"+i+"T"+o+":"+a+":"+s+p},o.internal.stringToDate=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),10!=e.length)throw"Unable to parse date, "+e+" length != 10";if("-"!=e.charAt(4)||"-"!=e.charAt(7))throw"Unable to parse date";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),o=new Date(n,r-1,i,0,0,0);return o.setMilliseconds(0),o},o.internal.stringToDateTime=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),e.length<19)throw"Unable to parse dateTime";if("-"!=e.charAt(4)||"-"!=e.charAt(7)||"T"!=e.charAt(10))throw"Unable to parse dateTime";if(":"!=e.charAt(13)||":"!=e.charAt(16))throw"Unable to parse dateTime";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),a=e.substring(11,13),s=e.substring(14,16),u=e.substring(17,19),l=new Date(n,r-1,i,a,s,u),c=19;if(c<e.length&&"."==e.charAt(c)){for(var f=0,d=++c;c<e.length&&o.internal.isDigit(e.charAt(c));)c++;var p=e.substring(d,c);3==p.length?f=p:p.length<3?f=(p+"000").substring(0,3):(f=p.substring(0,3),p.charAt(3)>="5"&&++f),l.setMilliseconds(f)}var g=6e4*l.getTimezoneOffset();if(c+5<e.length&&("+"==e.charAt(c)||"-"==e.charAt(c))){if(!(o.internal.isDigit(e.charAt(c+1))&&o.internal.isDigit(e.charAt(c+2))&&":"==e.charAt(c+3)&&o.internal.isDigit(e.charAt(c+4))&&o.internal.isDigit(e.charAt(c+5))))throw"Unable to parse dateTime";var h=10*(e.charAt(c+1)-"0")+e.charAt(c+2)-"0",m=10*(e.charAt(c+4)-"0")+e.charAt(c+5)-"0",v=60*(60*h+m)*1e3;"+"==e.charAt(c)&&(v=-v),l=new Date(l.getTime()-g+v),c+=6}if(c<e.length&&"Z"==e.charAt(c)&&(c++,l=new Date(l.getTime()-g)),c<e.length)throw"Unable to parse dateTime";return l},o.internal.isDigit=function(e){return"0"==e||"1"==e||"2"==e||"3"==e||"4"==e||"5"==e||"6"==e||"7"==e||"8"==e||"9"==e},o.Xml=function(e){},o.Xml.prototype.toXml=function(e,t,n){n.writeStartElement(t,e),this._xsiType&&n.writeXsiType(this._xsiType);for(var r in this)if("_name"==r||"_xsiType"==r);else{var i=this[r];if("function"!=typeof i)if("array"==typeof i)for(var o=0;o<i.length;o++)this.writeValue(e,n,r,i[o]);else this.writeValue(e,n,r,i)}n.writeEndElement(t,e)},o.Xml.prototype.writeValue=function(e,t,n,r){if(null===r)return void t.writeNameValueNode("fieldsToNull",n);if("undefined"==typeof r)return;r.toXml?r.toXml(e,n,t):t.writeNameValueNode(n,r)},o.Xml.prototype.get=function(e){return this[e]?this[e]:null},o.Xml.prototype.set=function(e,t){this[e]=t},o.Xml.prototype.getArray=function(e){var t=this[e];return t?t.join?t:[t]:[]},o.Xml.prototype.getBoolean=function(e){return"true"==this[e]},o.Xml.prototype.getDate=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDate(this[e]):null},o.Xml.prototype.getDateTime=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDateTime(this[e]):null},o.Xml.prototype.getInt=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseInt(this[e],10);throw"Unable to parse int field: "+e},o.Xml.prototype.getFloat=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseFloat(this[e]);throw"Unable to parse float field: "+e},o.Xml.prototype.getBase64Binary=function(e){if(this[e])return o.Base64Binary.prototype.decode(this[e]);throw"Unable to parse base64Binary field: "+e},o.Xml.prototype.toString=function(){var e=new o.StringBuffer;e.append("{");for(var t in this){var n=this[t];if(n)if("object"==typeof n)e.append(t).append(":").append(n.toString());else if(n.join){e.append(t).append(":").append("[");for(var r=0;r<n.length;r++)e.append(n[r]),r<n.length-1&&e.append(", ");e.append("]")}else{if("function"==typeof n)continue;e.append(t).append(":").append("'"+n+"'")}else e.append(t).append(":").append(""+n);e.append(", ")}return e.append("}"),e.toString()},o.internal.Debug=function(){this.output=null,this.trace=!1,this.apexTrace=!1,this.win=null,this.traceQueue=[],this.quiet=!1,this.open=function(){this.println("","print")},this.println=function(e,t){if(this.quiet)return;if("function"==typeof println)return void println(e,t);null!==this.win&&this.win.document||(this.output=null,this.win=i.open("undefined"!=typeof i.UserContext?u.getUrl("/soap/ajax/29.0/debugshell.html"):"/soap/ajax/29.0/debugshell.html","","width=800,height=400,toolbar=no,location=no,directories=no,alwaysRaised=yes,status=no,menubar=no,scrollbars=yes,copyhistory=yes,resizable=yes")),null===this.output&&this.findOutput(),null!==this.output?(o.debug.traceQueue.length>0&&this.traceCallback(),this.win.println(e,t)):(o.debug.traceQueue.push({message:e,type:t}),setTimeout(o.debug.traceCallback,1e3))},this.traceCallback=function(){if(o.debug.findOutput(),null===o.debug.output)return void setTimeout(o.debug.traceCallback,1e3);for(var e=0;e<o.debug.traceQueue.length;e++){var t=o.debug.traceQueue[e];o.debug.win.println(t.message,t.type)}o.debug.traceQueue=[]},this.findOutput=function(){return null===this.output&&(this.output=this.win.document.getElementById("output")),this.output},this.logXml=function(e){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e="<textarea cols=80 rows=5 wrap=hard>"+e+"</textarea>",this.println(e,"printxml")},this.log=function(e){this.println(e,"print")},this.logApex=function(e){var t=e.indexOf("<debugLog>"),n=e.indexOf("</debugLog>");t===-1?t=0:t+="<debugLog>".length,n===-1&&(n=e.length);var r=e.substring(t,n);this.println(r,"printxml")}},o.debug=new o.internal.Debug,o.internal._connections=[],o.internal.ConnectionHolder=function(e,t){this.connection=e,this.callback=t,this.timedout=!1},o.Transport=function(e){this.url=e,this.connection=null,this.newConnection=function(){try{this.connection=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.connection=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.connection=new XMLHttpRequest}}return this.connection},this.send=function(e,t,n,r){this.newConnection(),n&&(this.connection.onreadystatechange=this.httpConnectionCallback);var i=new o.internal.ConnectionHolder(this.connection,t);o.internal._connections.push(i),this.connection.open("POST",this.url,n),this.connection.setRequestHeader("Content-Type","text/xml; charset=UTF-8"),this.connection.setRequestHeader("SOAPAction",'""'),this.connection.setRequestHeader("Accept","text/xml"),this.connection.send(e),n&&"undefined"!=typeof r&&this.setTimeoutOn(i,r),n||this.httpConnectionCallback()},this.setTimeoutOn=function(e,t){function n(){4!==e.connection.readyState&&(e.timedout=!0,e.connection.abort())}setTimeout(n,t)},this.httpConnectionCallback=function(){for(var e=0;e<o.internal._connections.length;e++){var t=o.internal._connections[e];if(null!==t)if(t.timedout)o.internal._connections[e]=null,o.internal._connections.slice(e,1),t.callback.httpCallback("Remote invocation timed out",!1);else if(4==t.connection.readyState){o.internal._connections[e]=null,o.internal._connections.slice(e,1);var n=200==t.connection.status;o.debug.trace&&(o.debug.log("Response : status - "+t.connection.status),o.debug.logXml(t.connection.responseText)),o.debug.apexTrace&&o.debug.logApex(t.connection.responseText),t.connection.responseXML&&t.connection.responseXML.documentElement?t.callback.httpCallback(t.connection.responseXML.documentElement,n):t.callback.httpCallback("Remote invocation failed, due to: "+t.connection.responseText+" status code: ",t.connection.status)}}}},o.XmlWriter=function(){this.buffer=new o.StringBuffer,this.namespaces={},this.prefixCount=0,this.writingStartElement=!1},o.XmlWriter.prototype.writeStartElement=function(e,t,n){this.writingStartElement&&this.buffer.append(">"),this.buffer.append("<");var r=!1;t&&(this.namespaces[t]||""===this.namespaces[t]||(r=!0),n||(n=this.getPrefix(t)),null!==n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))),this.buffer.append(e),r===!0&&this.writeNamespace(t,n),this.writingStartElement=!0},o.XmlWriter.prototype.writeEndElement=function(e,t){if(this.writingStartElement)this.buffer.append("/>");else{if(this.buffer.append("</"),t){var n=this.getPrefix(t);n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))}this.buffer.append(e),this.buffer.append(">")}this.writingStartElement=!1},o.XmlWriter.prototype.writeNamespace=function(e,t){t&&""!==t?(this.namespaces[e]=t,this.buffer.append(" "),this.buffer.append("xmlns:"),this.buffer.append(t)):(this.namespaces[e]="",this.buffer.append(" "),this.buffer.append("xmlns")),this.buffer.append('="'),this.buffer.append(e),this.buffer.append('"')},o.XmlWriter.prototype.writeText=function(e){if(!this.writingStartElement)throw"Can only write text after a start element";this.buffer.append(">"),this.writingStartElement=!1,"string"==typeof e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")),this.buffer.append(e)},o.XmlWriter.prototype.writeXsiType=function(e){this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:type",e)},o.XmlWriter.prototype.writeAttribute=function(e,t){this.buffer.append(" "+e+'="'+t+'"')},o.XmlWriter.prototype.getPrefix=function(e){var t=this.namespaces[e];if(!t&&""!==t)return t="ns"+this.prefixCount,this.prefixCount++,this.namespaces[e]=t,t;return t},o.XmlWriter.prototype.toString=function(){return this.buffer.toString()},o.XmlWriter.prototype.soapNS="http://schemas.xmlsoap.org/soap/envelope/",o.XmlWriter.prototype.startEnvelope=function(){this.writeStartElement("Envelope",this.soapNS,"se")},o.XmlWriter.prototype.endEnvelope=function(){this.writeEndElement("Envelope",this.soapNS)},o.XmlWriter.prototype.startHeader=function(){this.writeStartElement("Header",this.soapNS,"se")},o.XmlWriter.prototype.endHeader=function(){this.writeEndElement("Header",this.soapNS)},o.XmlWriter.prototype.startBody=function(){this.writeStartElement("Body",this.soapNS,"se")},o.XmlWriter.prototype.endBody=function(){this.writeEndElement("Body",this.soapNS)},o.XmlWriter.prototype.writeNameValueNode=function(e,t){if(null===t)return this.writeStartElement(e),this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:nill","true"),void this.writeEndElement(e);if(t.toUTCString&&(t=o.internal.dateTimeToString(t)),"boolean"==typeof t&&(t=t?"true":"false"),t&&t.join)for(var n=0;n<t.length;n++)this.writeStartElement(e),this.writeText(t[n]),this.writeEndElement(e);else this.writeStartElement(e),this.writeText(t),this.writeEndElement(e)},o.XmlReader=function(e){this.envelope=e},o.XmlReader.prototype.getEnvelope=function(){if(this.isTag("Envelope",this.envelope))return this.envelope;throw"Unable to find soap envelope, but found "+this.envelope.nodeName},o.XmlReader.prototype.getBody=function(){return this.getChild("Body",this.envelope)},o.XmlReader.prototype.getHeader=function(){return this.getChild("Header",this.envelope)},o.XmlReader.prototype.getChild=function(e,t){for(var n=t.childNodes,r=0;r<n.length;r++)if(1==n[r].nodeType&&this.isTag(e,n[r]))return n[r];return null},o.XmlReader.prototype.getFirstElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(1==t[n].nodeType)return t[n];return null},o.XmlReader.prototype.isTag=function(e,t){var n=t.nodeName.split(":");if(2==n.length&&n[1]==e)return!0;if(1==n.length&&n[0]==e)return!0;return!1},o.XmlReader.prototype.isNameValueNode=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(3!=t[n].nodeType)return!1;return!0},o.XmlReader.prototype.getTextValue=function(e){if(3==e.nodeType)return e.nodeValue;var t=e.getAttribute("xsi:nil");if("true"==t)return null;for(var n="",r=e.childNodes,i=0;i<r.length;i++){if(3!=r[i].nodeType)throw"Not a simple name value node";n+=r[i].nodeValue}return n},o.XmlReader.prototype.toXmlObject=function(e){var t=e.getAttribute("xsi:nil");if("true"==t)return null;var n=new o.Xml,r=[];for(r.push({node:e,obj:n});r.length>0;)for(var i=r.shift(),a=i.node.firstChild;null!==a;a=a.nextSibling){if(1!=a.nodeType)continue;var s=a.nodeName,u=s.indexOf(":");s=u==-1?s:s.substring(u+1);for(var l,c=!0,f="",d=a.firstChild;null!==d;d=d.nextSibling){if(3!=d.nodeType){c=!1;break}f+=d.nodeValue}if(c?l="true"==a.getAttribute("xsi:nil")?null:f:(l=new o.Xml,r.push({node:a,obj:l})),i.obj[s])if(i.obj[s].push)i.obj[s].push(l);else{var p=i.obj[s];"Id"===s&&p===l||(i.obj[s]=[],i.obj[s].push(p),i.obj[s].push(l))}else i.obj[s]=l}return n},o.SoapTransport=function(){this.connectionCallback=null,this.result=null,this.fault=null,this.isAsync=!0,this.isArray=!1},o.SoapTransport.prototype.onFailure=function(e,t){var n="ERROR: ........... ";a(n+e),this.result=null},o.SoapTransport.prototype.send=function(e,t,n,r){this.isArray=n;var i=new o.Transport(e);if(this.isAsync=!!r,!this.isAsync){if(i.send(t.toString(),this,this.isAsync),null!==this.fault)throw this.fault;return this.result}this.connectionCallback=r,i.send(t.toString(),this,this.isAsync,r.timeout)},o.SoapTransport.prototype.httpCallback=function(e,t){try{if(t===!0){var n=new o.XmlReader(e),r=(n.getEnvelope(),n.getBody()),i=n.getFirstElement(r);if(null===i)throw"Unable to find operation response element";for(var a=[],s=i.childNodes,u=0;u<s.length;u++){if(1!=s[u].nodeType)continue;n.isNameValueNode(s[u])?a.push(n.getTextValue(s[u])):a.push(n.toXmlObject(s[u]))}if(this.isArray)this.result=a;else{if(a.length>1)throw"Found more than one response: "+a;this.result=a[0]}if(this.isAsync)try{if(this.beforeCallback(),"function"==typeof this.connectionCallback)this.connectionCallback(this.result);else{if(!this.connectionCallback.onSuccess)throw"Unable to find onSuccess method in the callback object";this.connectionCallback.onSuccess(this.result,this.connectionCallback.source)}}finally{this.afterCallback()}}else if("undefined"!=typeof e.nodeName){var l=new o.XmlReader(e),c=(l.getEnvelope(),l.getBody()),f=l.getFirstElement(c),d=l.toXmlObject(f);this.sendFault(d)}else this.sendFault(e)}catch(p){this.sendFault(p)}},o.SoapTransport.prototype.sendFault=function(e){if(this.isAsync)if(this.connectionCallback.onFailure)try{this.beforeCallback(),this.connectionCallback.onFailure(e,this.connectionCallback.source)}finally{this.afterCallback()}else this.onFailure(e);else this.fault=e},o.SoapTransport.prototype.beforeCallback=function(){},o.SoapTransport.prototype.afterCallback=function(){},o.SObject=function(e){this.type=e},o.SObject.prototype=new o.Xml("sObjects"),o.LeadConvert=function(){},o.LeadConvert.prototype=new o.Xml("leadConverts"),o.MergeRequest=function(){},o.MergeRequest.prototype=new o.Xml("request"),o.QuickAction=function(){},o.QuickAction.prototype=new o.Xml("quickActions"),o.Connection=function(){this.sessionId=null,this.updateMru=null,this.allowFieldTruncation=null,this.disableFeedTracking=null,this.streamingEnabled=null,this.allOrNone=null,this.client=null,this.defaultNamespace=null,this.batchSize=null,this.loginScopeHeader=null,this.emailHeader=null,this.assignmentRuleHeader=null,this.transferToUserId=null,this.debuggingHeader=null,this.serverUrl="undefined"!=typeof i.UserContext?u.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0"},o.internal.Parameter=function(e,t,n){this.name=e,this.value=t,this.isArray=n},o.Connection.prototype.sforceNs="urn:partner.soap.sforce.com",o.Connection.prototype.sobjectNs="sobject.partner.soap.sforce.com",o.Connection.prototype.writeOne=function(e,t,n,r){null===n?e.writeNameValueNode(t,null):n.toXml?n.toXml(r,t,e):e.writeNameValueNode(t,n)},o.Connection.prototype.init=function(e,t){this.sessionId=e,this.serverUrl=t},o.Connection.prototype.login=function(e,t){var n=new o.internal.Parameter("username",e,(!1)),r=new o.internal.Parameter("password",t,(!1)),i=this.invoke("login",[n,r],!1,null);return this.sessionId=i.sessionId,i},o.Connection.prototype.describeSObject=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!1));return this.invoke("describeSObject",[n],!1,t)},o.Connection.prototype.describeSObjects=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!0));return this.invoke("describeSObjects",[n],!0,t)},o.Connection.prototype.describeGlobal=function(e){
return this.invoke("describeGlobal",[],!1,e)},o.Connection.prototype.describeLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeLayout",[r,i],!1,n)},o.Connection.prototype.describeAvailableQuickActions=function(e,t){var n=new o.internal.Parameter("parentType",e,(!1));return this.invoke("describeAvailableQuickActions",[n],!0,t)},o.Connection.prototype.describeQuickActions=function(e,t){var n=new o.internal.Parameter("quickActionNames",e,(!0));return this.invoke("describeQuickActions",[n],!0,t)},o.Connection.prototype.performQuickActions=function(e,t){var n=new o.internal.Parameter("quickActions",e,(!0));return this.invoke("performQuickActions",[n],!0,t)},o.Connection.prototype.describeCompactLayouts=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeCompactLayouts",[r,i],!1,n)},o.Connection.prototype.describeTabs=function(e){return this.invoke("describeTabs",[],!0,e)},o.Connection.prototype.describeFlexiPages=function(e,t){var n=new o.internal.Parameter("FlexiPage",e,(!1));return this.invoke("describeFlexiPages",[n],!0,t)},o.Connection.prototype.describeTheme=function(e,t){var n=new o.internal.Parameter("themeNames",e,(!0));return this.invoke("describeTheme",[n],!0,t)},o.Connection.prototype.describeGlobalTheme=function(e){return this.invoke("describeGlobalTheme",[],!0,e)},o.Connection.prototype.describeSoftphoneLayout=function(e){return this.invoke("describeSoftphoneLayout",[],!1,e)},o.Connection.prototype.describeMiniLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1)),i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeMiniLayout",[r,i],!1,n)},o.Connection.prototype.describeSearchScopeOrder=function(e){return this.invoke("describeSearchScopeOrder",[],!0,e)},o.Connection.prototype.create=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("create",[n],!0,t)},o.Connection.prototype.update=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("update",[n],!0,t)},o.Connection.prototype.upsert=function(e,t,n){var r=new o.internal.Parameter("externalIDFieldName",e,(!1)),i=new o.internal.Parameter("sObjects",t,(!0));return this.invoke("upsert",[r,i],!0,n)},o.Connection.prototype.deleteIds=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("delete",[n],!0,t)},o.Connection.prototype.impersonateUser=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("impersonateUser",[n],!0,t)},o.Connection.prototype.query=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("query",[n],!1,t)},o.Connection.prototype.queryAll=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("queryAll",[n],!1,t)},o.Connection.prototype.queryMore=function(e,t){var n=new o.internal.Parameter("queryLocator",e,(!1));return this.invoke("queryMore",[n],!1,t)},o.Connection.prototype.retrieve=function(e,t,n,r){var i=new o.internal.Parameter("fieldList",e,(!1)),a=new o.internal.Parameter("sObjectType",t,(!1)),s=new o.internal.Parameter("ids",n,(!0));return this.invoke("retrieve",[i,a,s],!0,r)},o.Connection.prototype.getUserInfo=function(e){return this.invoke("getUserInfo",[],!1,e)},o.Connection.prototype.resetPassword=function(e,t){var n=new o.internal.Parameter("userId",e,(!1));return this.invoke("resetPassword",[n],!1,t)},o.Connection.prototype.setPassword=function(e,t,n){var r=new o.internal.Parameter("userId",e,(!1)),i=new o.internal.Parameter("password",t,(!1));return this.invoke("setPassword",[r,i],!1,n)},o.Connection.prototype.search=function(e,t){var n=new o.internal.Parameter("searchString",e,(!1));return this.invoke("search",[n],!1,t)},o.Connection.prototype.getDeleted=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getDeleted",[i,a,s],!1,r)},o.Connection.prototype.getUpdated=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getUpdated",[i,a,s],!1,r)},o.Connection.prototype.getServerTimestamp=function(e){return this.invoke("getServerTimestamp",[],!1,e)},o.Connection.prototype.convertLead=function(e,t){var n=new o.internal.Parameter("leadConverts",e,(!0));return this.invoke("convertLead",[n],!0,t)},o.Connection.prototype.merge=function(e,t){var n=new o.internal.Parameter("request",e,(!0));return this.invoke("merge",[n],!0,t)},o.Connection.prototype.undelete=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("undelete",[n],!0,t)},o.Connection.prototype.process=function(e,t){var n=new o.internal.Parameter("actions",e,(!0));return this.invoke("process",[n],!0,t)},o.Connection.prototype.sendEmail=function(e,t){var n=new o.internal.Parameter("messages",e,(!0));return this.invoke("sendEmail",[n],!0,t)},o.Connection.prototype.emptyRecycleBin=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("emptyRecycleBin",[n],!0,t)},o.Connection.prototype.invalidateSessions=function(e,t){var n=new o.internal.Parameter("sessionIds",e,(!0));return this.invoke("invalidateSessions",[n],!0,t)},o.Connection.prototype.logout=function(e){return this.invoke("logout",[],!0,e)},o.Connection.prototype.remoteFunction=function(e){if(!e.url)throw"url not defined";if(!e.onSuccess)throw"onSuccess method not defined";if(e.method||(e.method="GET"),e.mimeType||(e.mimeType="text/plain"),"undefined"==typeof e.async&&(e.async=!0),"undefined"==typeof e.cache&&(e.cache=!1),"text/plain"!=e.mimeType&&"text/xml"!=e.mimeType)throw"Unknown mime type "+e.mimeType;o.debug.trace&&o.debug.log("Open connection to ... "+e.url);var t=(new o.Transport).newConnection(),n="undefined"!=typeof i.UserContext?u.getUrl("/services/proxy"):"/services/proxy";if(n=e.cache?n+"?end-point-url="+e.url:n+"?no-cache="+(new Date).getTime(),t.open(e.method,n,e.async),e.requestHeaders)for(var r in e.requestHeaders)"function"!=typeof e.requestHeaders[r]&&t.setRequestHeader(r,e.requestHeaders[r]);t.setRequestHeader("SalesforceProxy-Endpoint",e.url),t.setRequestHeader("SalesforceProxy-SID",this.sessionId),e.async&&(t.onreadystatechange=a),o.debug.trace&&o.debug.log("Sending ..."),e.requestData?t.send(e.requestData):t.send(null),o.debug.trace&&o.debug.log("Done Sending ..."),e.async||a();function a(){if(o.debug.trace&&o.debug.log("callback called ..."),4==t.readyState)if(200==t.status)if("text/plain"==e.mimeType)e.onSuccess(t.responseText,t);else{if("text/xml"!=e.mimeType)throw"unsupported mime type: "+e.mimeType;if(!t.responseXML||!t.responseXML.documentElement)throw"Response not text/xml mime type: "+t.responseText;e.onSuccess(t.responseXML.documentElement,t)}else e.onFailure?e.onFailure(t.responseText,t):o.debug.log(t.responseText)}},o.Connection.prototype.writeHeader=function(e,t){if(e.startHeader(),e.writeNamespace(t,"sfns"),null!==this.sessionId&&(e.writeStartElement("SessionHeader",t),e.writeNameValueNode("sessionId",this.sessionId),e.writeEndElement("SessionHeader",t)),"undefined"!=typeof this.organizationId)throw"Use sforce.connection.loginScopeHeader.organizationId instead of sforce.connection.organizationId";if(null!==this.loginScopeHeader&&(e.writeStartElement("LoginScopeHeader",t),null!==this.loginScopeHeader.organizationId&&e.writeNameValueNode("organizationId",this.loginScopeHeader.organizationId),null!==this.loginScopeHeader.portalId&&e.writeNameValueNode("portalId",this.loginScopeHeader.portalId),e.writeEndElement("LoginScopeHeader",t)),null===this.client&&null===this.defaultNamespace||(e.writeStartElement("CallOptions",t),null!==this.client&&e.writeNameValueNode("client",this.client),null!==this.defaultNamespace&&e.writeNameValueNode("defaultNamespace",this.defaultNamespace),e.writeEndElement("CallOptions",t)),null!==this.batchSize&&(e.writeStartElement("QueryOptions",t),e.writeNameValueNode("batchSize",this.batchSize),e.writeEndElement("QueryOptions",t)),null!==this.allowFieldTruncation&&(e.writeStartElement("AllowFieldTruncationHeader",t),e.writeNameValueNode("allowFieldTruncation",this.allowFieldTruncation),e.writeEndElement("AllowFieldTruncationHeader",t)),null!==this.disableFeedTracking&&(e.writeStartElement("DisableFeedTrackingHeader",t),e.writeNameValueNode("disableFeedTracking",this.disableFeedTracking),e.writeEndElement("DisableFeedTrackingHeader",t)),null!==this.streamingEnabled&&(e.writeStartElement("StreamingEnabledHeader",t),e.writeNameValueNode("StreamingEnabled",this.streamingEnabled),e.writeEndElement("StreamingEnabledHeader",t)),null!==this.allOrNone&&(e.writeStartElement("AllOrNoneHeader",t),e.writeNameValueNode("allOrNone",this.allOrNone),e.writeEndElement("AllOrNoneHeader",t)),null!==this.updateMru&&(e.writeStartElement("MruHeader",t),e.writeNameValueNode("updateMru",this.updateMru),e.writeEndElement("MruHeader",t)),null!==this.emailHeader&&(e.writeStartElement("EmailHeader",t),this.emailHeader.triggerAutoResponseEmail&&e.writeNameValueNode("triggerAutoResponseEmail",this.emailHeader.triggerAutoResponseEmail),this.emailHeader.triggerOtherEmail&&e.writeNameValueNode("triggerOtherEmail",this.emailHeader.triggerOtherEmail),this.emailHeader.triggerUserEmail&&e.writeNameValueNode("triggerUserEmail",this.emailHeader.triggerUserEmail),e.writeEndElement("EmailHeader",t)),null!==this.assignmentRuleHeader&&(e.writeStartElement("AssignmentRuleHeader",t),this.assignmentRuleHeader.assignmentRuleId&&e.writeNameValueNode("assignmentRuleId",this.assignmentRuleHeader.assignmentRuleId),this.assignmentRuleHeader.useDefaultRule&&e.writeNameValueNode("useDefaultRule",this.assignmentRuleHeader.useDefaultRule),e.writeEndElement("AssignmentRuleHeader",t)),null!==this.transferToUserId&&(e.writeStartElement("UserTerritoryDeleteHeader",t),e.writeNameValueNode("transferToUserId",this.transferToUserId),e.writeEndElement("UserTerritoryDeleteHeader",t)),null!==this.debuggingHeader){if(e.writeStartElement("DebuggingHeader",t),this.debuggingHeader.debugLevel&&e.writeNameValueNode("debugLevel",this.debuggingHeader.debugLevel),this.debuggingHeader.debugCategories)for(var n=this.debuggingHeader.debugCategories,r=0;r<n.length;r++){var i=n[r].split(",");2==i.length&&(e.writeStartElement("categories"),e.writeNameValueNode("category",i[0]),e.writeNameValueNode("level",i[1]),e.writeEndElement("categories"))}e.writeEndElement("DebuggingHeader",t)}e.endHeader()},o.Connection.prototype.namespaceMap=[{ns:o.Connection.prototype.sforceNs,prefix:null},{ns:o.Connection.prototype.sobjectNs,prefix:"ns1"}],o.Connection.prototype.invoke=function(e,t,n,r){return this._invoke(e,t,n,r,this.namespaceMap,this.serverUrl,this.sforceNs,this.sobjectNs)},o.Connection.prototype._invoke=function(e,t,n,r,i,a,s,u){if(r)if("function"==typeof r);else{if(!r.onSuccess)throw"onSuccess not defined in the callback";if(!r.onFailure)throw"onFailure not defined in the callback"}var l=new o.XmlWriter;l.startEnvelope(),this.writeHeader(l,s),l.startBody(),l.writeStartElement(e);for(var c=0;c<i.length;c++)l.writeNamespace(i[c].ns,i[c].prefix);for(var c=0;c<t.length;c++){var f=t[c];if("undefined"==typeof f.value)throw"arg "+c+" '"+f.name+"' not specified";if(null!==f.value){if(f.isArray&&!f.value.push)throw"arg "+c+" '"+f.name+"' is an array. But passed in value is not an array";if(!f.isArray&&f.value.push)throw"arg "+c+" '"+f.name+"' is not an array. But passed in value is an array"}if(null===f.value)this.writeOne(l,f.name,null,u);else if(f.value.push)for(var d=0;d<f.value.length;d++){var p=f.value[d];if(!p)throw"Array element at "+d+" is null.";this.writeOne(l,f.name,p,u)}else this.writeOne(l,f.name,f.value,u)}l.writeEndElement(e),l.endBody(),l.endEnvelope(),o.debug.trace&&(o.debug.log("Request: server- "+a),o.debug.logXml(l.toString()));var g=new o.SoapTransport;return g.send(a,l,n,r)},o.QueryResultIterator=function(e){this.queryResult=e,this.index=0,this.records=this.queryResult.getArray("records")},o.QueryResultIterator.prototype.hasNext=function(){if(this.records.length>this.index)return!0;return null!==this.queryResult.queryLocator&&(this.queryResult=o.connection.queryMore(this.queryResult.queryLocator),this.records=this.queryResult.getArray("records"),this.index=0),this.records.length>this.index},o.QueryResultIterator.prototype.next=function(){if(this.records.length>this.index){var e=this.records[this.index];return this.index++,e}throw"Index out of bound : "+this.index},o.Email=function(){},o.Email.prototype=new o.Xml("messages"),o.MassEmailMessage=function(){},o.MassEmailMessage.prototype=new o.Xml("messages"),o.MassEmailMessage.prototype._xsiType="MassEmailMessage",o.SingleEmailMessage=function(){},o.SingleEmailMessage.prototype=new o.Xml("messages"),o.SingleEmailMessage.prototype._xsiType="SingleEmailMessage",o.ProcessRequest=function(){},o.ProcessRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest=function(){},o.ProcessSubmitRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest.prototype._xsiType="ProcessSubmitRequest",o.ProcessWorkitemRequest=function(){},o.ProcessWorkitemRequest.prototype=new o.Xml("actions"),o.ProcessWorkitemRequest.prototype._xsiType="ProcessWorkitemRequest",o.connection=new o.Connection,"undefined"!=typeof __sfdcSiteUrlPrefix&&(u.siteUrlPrefix=__sfdcSiteUrlPrefix),o.connection.serverUrl="undefined"!=typeof i.UserContext?u.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0","undefined"!=typeof __sfdcSessionId&&(o.connection.sessionId=__sfdcSessionId);function l(){var e="salesforce",t=new RegExp(e+".+com");return t.test(i.document.domain)}function c(){var n;if(n=l()?e.getCookie("sid"):i.__sfdcSessionId,!n)return void a("there is no session id in this page.");if(t.isFeatureEnabled("sfCommunity"))o.connection.sessionId=n;else{var r="https://"+i.location.host+"/services/Soap/u/29.0";o.connection.init(n,r)}s=!0}c.apply(null,arguments)}t.SalesForceConnection=i},function(e,t,n){var r=n(2).getCtx,i="salesforce";function o(e,t,n,o,a){var s=this,u=e.wrapCustomerLog(i);s.getSfVarsRetriever=function(e){var n=r().get("SiteConfigManager").get().Custom.sfVars;if(n&&n.UseProxyRegex){u("Selecting sfVars retriever by regex: "+n.UseProxyRegex);var i=new RegExp(n.UseProxyRegex,"i");if(i.test(location.href))return u("Use NonLegacySfVarsRetriever because proxy regex matched"),r().get("NonLegacySfVarsRetriever");u("Proxy regex did not match")}if(n&&n.UseProxy)return u("Use NonLegacySfVarsRetriever configured"),r().get("NonLegacySfVarsRetriever");if(n&&n.UseRestApi)return u("Use LegacySfVarsRetriever configured"),r().get("LegacySfVarsRetriever");if(u("No specific sfVars retriever configured - use default"),e==t.GENERAL_SF_VARS_FEATURE){var o=t.getCurrentSfEnvironment();return l(o)}if(e==t.BASIC_SF_VARS_FEATURE)return u("Retrieving sf vars with basicSfVars",1),a};function l(e){switch(e){case"legacy":return u("Retrieving sf vars with LegacySfVarsRetriever",1),n;case"lightning":case"community":return u("Retrieving sf vars with NonLegacySfVarsRetriever",1),o}}}t.SfVarsRetrieverFactory=o},function(e,t,n){var r=n(2).getCtx,i="salesforce";function o(e,t,n){var o,a,s=this;s.getType=function(){return"LegacySfVarsRetriever"},s.getUserData=function(e){return a=wmjQuery.Deferred(),t.injectSFConnection(function(){u(e)},function(){a.reject()}),a.promise()};function u(t){var n,i,s,u=null;try{var f=r().get("SalesForceConnection");n=f.getSforce().connection.getUserInfo()}catch(p){o(p,5),u=p.message||p}try{i=d(e.get()),s=l(n.userId,i),s=s&&s[0]||[]}catch(p){o(p,5),u||(u=p.message||p)}try{var g=c(n,t,s,i||[]);a.resolve(g)}catch(p){o(p,5),u||(u=p.message||p),a.reject(u)}}function l(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",i=r().get("SalesForceConnection"),o=i.getSforce().connection.query(n);return o.getArray("records")}}function c(e,t,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o];i[a]=e[a]}for(var o=0;o<r.length;o++)f(r[o],n,i);return i}function f(e,t,n){for(var r=t,i=e.split("."),o=0;o<i.length;o++){if(""===i[o])return;if(r=r&&r[i[o]],null===r&&o==i.length-1)return void(n[i[o]]=null);"object"==typeof r?(n[i[o]]={},n=n[i[o]]):n[i[o]]=r}}function d(e){var t=e.Settings.sfCustomVars;return t||[]}function p(){o=n.wrapCustomerLog(i)}p.apply(null,arguments)}t.LegacySfVarsRetriever=o},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o,a){var s,u,l,c,f,d=this,p={},g=!1,h=14400,m=1e4,v=500,y="walkme-sf-vars-last-fail",w="walkme-sf-vars-iframe",S={SKIP_AFTER_FAILURE:"skip loading due to a failure in the last 4 hours",VARS_LIST_EMPTY:"list to extract was empty",DATA_HAS_NO_VAL:"nonLegacy sfVars postback data was ",IFRAME_CREATED_TIMEOUT:"10 seconds passed since iframe was created",IFRAME_LOADED_TIMEOUT:"0.5 seconds passed since iframe was loaded",FAIL_FIND_SALESFORCE_NAME:"Couldn't determine endpoint for more than 7 seconds"};function C(){u=e.wrapCustomerLog(r)}d.getType=function(){return"NonLegacySfVarsRetriever"},d.getUserData=function(e){return s=wmjQuery.Deferred(),b()?s.reject(S.SKIP_AFTER_FAILURE):(e=a.extractUserContextVars(e,p),e=a.mapLegacyToNonLegacyVars(e),e.length?x(e.join(",")):s.reject(S.VARS_LIST_EMPTY)),s.promise()};function b(){var e=i.getData(y);return!!e}function x(e){var n=o.getCurrentSfEnvironment();"legacy"==n&&(n="lightning");var r=o.getAppEndpointByEnvironment(n),i=o.getUrlBuilderByEnvironment(n),a=r+"?sfVars="+e,c=i.buildRequestUrl(a);c?(u("SfVars endpoint - "+c),U(),l=t.createIframe(c,w,!1,E,T)):(L(),s.reject(S.FAIL_FIND_SALESFORCE_NAME))}function E(){u("sfVars Non-Legacy iframe loaded",3),c&&c.clear&&c.clear();var e=R(S.IFRAME_LOADED_TIMEOUT);f=n.libSetTimeout(e,v)}function U(){u("Finished creating iframe",3);var e=R(S.IFRAME_CREATED_TIMEOUT);c=n.libSetTimeout(e,m)}function T(e){if(g)return;var n;try{n=t.secureEvalJSON(e.data)}catch(r){return void u("sfVars reciver unknown message: error="+r.message,5)}if(!n||!n.attributes||"User"!==n.attributes.type)return;t.removeIframeListeners(l,"message",T),g=!0,f&&f.clear&&f.clear(),n=a.mapNonLegacyDataToLegacy(n),wmjQuery.extend(!0,p,n),s.resolve(p)}function L(){A()||i.saveData(y,(new Date).getTime(),h)}function A(){return"pending"!==s.state()}function R(e){return function(){t.removeIframeListeners(l,"message",T),L(),s.reject(e)}}C.apply(null,arguments)}t.NonLegacySfVarsRetriever=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t){var n,i=this;function o(){n=e.wrapCustomerLog(r)}i.getType=function(){return"BasicSfVarsRetriever"},i.getUserData=function(){var e={},r=wmjQuery.Deferred();return window.UserContext&&window.UserContext.userId&&window.UserContext.userName&&window.UserContext.language?(e.userId=t.to18CharId(window.UserContext.userId),e.userName=window.UserContext.userName,e.userLanguage=window.UserContext.language,r.resolve(e),n("Gets basic SfVar with basicSfVars feature",1)):r.reject('Can not get sfVars from "basicSfVars" feature'),r.promise()},o.apply(null,arguments)}t.BasicSfVarsRetriever=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i,o;function a(){i=e.wrapCustomerLog(r),o=n.get()}this.buildRequestUrl=function(e){if(!e)return;var t,n=window.location.hostname,r=o.Custom.sfVarsCommunityBaseUrl,a=o.Custom.sfVarsCommunityBaseUrlDictionary;return r?(t="https://"+r+e,i("buildRequestUrl - with custom community base url "+t,1)):a&&a[n]?(t="https://"+a[n]+e,i("buildRequestUrl - with custom community base url dictionary "+t,1)):window.UserContext&&window.UserContext.siteUrlPrefix?(t="https://"+n+window.UserContext.siteUrlPrefix+e,i("buildRequestUrl - with regular community url plus siteUrlPrefix "+t,1)):(t="https://"+n+e,i("buildRequestUrl - with regular community url "+t,1)),i("Community sfVars endpoint - "+t,1),t},a.apply(null,arguments)}t.CommunitySfVarsUrlBuilder=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o){var a,s;function u(){a=e.wrapCustomerLog(r),s=n.get()}this.buildRequestUrl=function(e){if(!e)return;var t,n,r=window.location.hostname,i=s.Custom.sfVarsLightningBaseUrl,o=s.Custom.sfVarsLightningBaseUrlDictionary;return window.UserContext&&window.UserContext.vfDomainPattern&&(a("buildRequestUrl - window.UserContext.vfDomainPattern = ",window.UserContext.vfDomainPattern),n=window.UserContext.vfDomainPattern.replace("(?:[^.]+)*","wm4sf3").replace("(?:[^.]+)","wm4sf3")),i?(t="https://"+i+e,a("buildRequestUrl - with custom lightning base url "+t,1)):o&&o[r]?(t="https://"+o[r]+e,a("buildRequestUrl - with custom lightning base url dictionary "+t,1)):n&&(t="https://"+n+e,a("buildRequestUrl - base vfDomainPattern, the url is "+t,1)),a("Lightning sfVars endpoint - "+t,1),t},u.apply(null,arguments)}t.LightningSfVarsUrlBuilder=i},function(e,t,n){n(2).getCtx;function r(e,t){var n={userName:"Username",profileId:"ProfileId",roleId:"UserRoleId",userLanguage:"LanguageLocaleKey"};this.extractUserContextVars=function(t,n){var r,i,o=window.UserContext;if(o)for(var a=t.length-1;a>=0;a--)r=t[a],i=o[r],e.isDefined(i)&&""!==i&&(n[r]=i,t.splice(a,1));return t},this.mapLegacyToNonLegacyVars=function(e){var r=[];wmjQuery.each(e,function(e,t){var i=n[t];i&&r.push(i)});var i=t.get().Settings.sfCustomVars;return i&&i.length&&(r=r.concat(i)),r},this.mapNonLegacyDataToLegacy=function(e){var r={};wmjQuery.each(e,function(t,i){var o=wmjQuery.grep(Object.keys(n),function(e){return n[e]===t});o&&o[0]&&(r[o[0]]=e[n[o[0]]])});var i=t.get().Settings.sfCustomVars;return i&&i.length&&wmjQuery.each(i,function(t,n){r[n]=e[n]}),r}}t.SfVarsMapper=r},function(e,t,n){var r=n(8).SalesForceManager,i=n(9).SfVarsUtils,o=n(10).SalesForceVarsExtractor,a=n(11).SalesForceSearcher,s=n(12).SalesForceConnectionUtils,u=n(13).SalesForceConnection,l=n(14).SfVarsRetrieverFactory,c=n(15).LegacySfVarsRetriever,f=n(16).NonLegacySfVarsRetriever,d=n(17).BasicSfVarsRetriever,p=n(18).CommunitySfVarsUrlBuilder,g=n(19).LightningSfVarsUrlBuilder,h=n(20).SfVarsMapper,m=n(2).getCtx;m().register("SfVarsFeatureLoader").asCtor(v);function v(){this.load=function(){m().register("BasicSfVarsRetriever").asCtor(d).dependencies("Logger, SfVarsUtils"),m().register("CommunitySfVarsUrlBuilder").asCtor(p).dependencies("Logger, CommonUtils, SiteConfigManager"),m().register("LegacySfVarsRetriever").asCtor(c).dependencies("SiteConfigManager, SalesForceConnectionUtils, Logger"),m().register("LightningSfVarsUrlBuilder").asCtor(g).dependencies("Logger, CommonUtils, SiteConfigManager, SfVarsUtils, FeaturesManager"),m().register("NonLegacySfVarsRetriever").asCtor(f).dependencies("Logger, CommonUtils, TimerManager, ClientStorageManager, SfVarsUtils, SfVarsMapper"),m().register("SalesForceConnection").asCtor(u).dependencies("CookiesManager, FeaturesManager, Logger"),m().register("SalesForceConnectionUtils").asCtor(s).dependencies("Logger, CookiesManager, FeaturesManager"),m().register("SalesForceManager").asCtor(r).dependencies("CommonUtils, SalesForceVarsExtractor,SalesForceSearcher,FeaturesManager,SfVarsRetrieverFactory,SfVarsUtils,Logger,TimerManager,SiteConfigManager,ResourceManager"),m().register("SalesForceSearcher").asCtor(a).dependencies("Logger,SiteConfigManager,SalesForceConnectionUtils"),m().register("SalesForceVarsExtractor").asCtor(o).dependencies("Logger, SfVarsUtils, ClientStorageManager, CommonUtils, CommonEvents, Consts, AuditSourceManager, SfVarsEventLogger"),m().register("SfVarsMapper").asCtor(h).dependencies("CommonUtils, SiteConfigManager"),m().register("SfVarsRetrieverFactory").asCtor(l).dependencies("Logger, SfVarsUtils, LegacySfVarsRetriever, NonLegacySfVarsRetriever, BasicSfVarsRetriever"),m().register("SfVarsUtils").asCtor(i).dependencies("LibDestroyer, Logger, TimerManager")}}t.SfVarsFeatureLoader=v}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-lightning-spa@1.0.0@prelib",{name:"wm-plugin-lightning-spa",version:"1.0.0",toolbelt:"1.2.1",packageDate:"2018-06-04T16:44:58.978Z",entry:"prelib"},function(n){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return n[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}return t.m=n,t.c=e,t.p="",t(0)}([function(n,e,t){n.exports=t(1)},function(n,e,t){var r=t(2).createPluginEntry;n.exports=r(function(n){var e=t(3).LightningSPA;n(new e)})},function(n,e){var t,r={createPluginEntry:i,getCtx:a};function i(n){return function(e){t=e(),n(o)}}function a(){return t.ctx}function o(n){t.plugin(n)}e.__esModule=!0,e["default"]=r,e.createPluginEntry=r.createPluginEntry,e.getCtx=r.getCtx},function(n,e,t){var r=t(2).getCtx,i=t(4).log;function a(){var n=this;n.run=l;var e,t,a,o="aura:doneRendering";function g(){e=r().get("PromiseManager"),t=r().get("EventsListener"),a=r().get("EventsTrigger")}function l(){return i("Initializing Lightning SPA"),t.on("WalkMeReady",u),null}function u(){var n=r().get("ObjectJpath").getValue(window,"$A.root.addEventHandler");if(!n)return void i('Error: Evaluating "window.$A.root.addEventHandler" returned empty. Lightning SPA stopped.');n.apply(window.$A.root,[o,d]),t.on("removeWalkMe",function(){window.$A.root.removeEventHandler(o,d)}),i("Lightning SPA initialized and listening to rendering events")}function d(n){try{i("Rendering ended. Trying to trigger a throttled UIChange.",n),r().get("UIChangeTracker").triggerThrottledUIChange()}catch(e){i("An error happened when triggring a UIChange",e)}}g()}e.LightningSPA=a},function(n,e,t){var r=t(2).getCtx,i=r().get("PrelibLogger");function a(){var n=Array().slice.call(arguments);n.unshift("[ LightningSPA ]"),i.write.apply(i,n)}e.log=a}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-salesforce-iframe-remover@1.2.0@prelib",{name:"wm-plugin-salesforce-iframe-remover",version:"1.2.0",toolbelt:"1.2.1",packageDate:"2018-06-12T06:11:35.358Z",entry:"prelib"},function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r=n(2).createPluginEntry;e.exports=r(function(e){var t=n(3).SalesforceIframeRemover;e(new t)})},function(e,t){var n,r={createPluginEntry:o,getCtx:i};function o(e){return function(t){n=t(),e(u)}}function i(){return n.ctx}function u(e){n.plugin(e)}t.__esModule=!0,t["default"]=r,t.createPluginEntry=r.createPluginEntry,t.getCtx=r.getCtx},function(e,t,n){var r=n(2).getCtx,o=n(4).log,i=n(5)(r()),u=new Date;function a(){var e=this;e.run=l;var t,n,a,s;function c(){s=0,a=0,t=r().get("EventsListener")}function l(){return t.on("DICreated",function(){if(w()){if(_())return o("Inside the iframe "+window.self.location.href),null;o("Salesforce Classic detected, using legacy iframe remover"),v()}else window.MutationObserver?(o("Using MutationObserver"),f(),g()):(o("No mutation observer, going old school"),v())}),null}function f(){n=new MutationObserver(function(){m()}),n.observe(document.body,{childList:!0,subtree:!0}),o("Listening to document children changes")}function g(){t.on("removeWalkMe",function(){n&&n.disconnect(),o("Observer disconnected")}),o("Registred to WM removal")}function m(){o("Document changed"),a&&window.clearTimeout(a),a=window.setTimeout(function(){d()},500),o("Idle timer set, waiting for the page to go idle")}function d(){o("Trying to remove WM CurlyHairGuy frame");var e=wmjQuery("#WM_EXT_IFRAME, iframe[title*='WM_EXT_IFRAME'], a[title^='WM_EXT_IFRAME'], .sidebarModule:has(img[alt=WalkMe_Call_To_Action])"),t=e.length;return t&&(e.remove(),E()),t}function v(){var e=d();if(e)return void(s&&i.sendLog("WM_EXT_IFRAME removed on the: "+s+" try"));if(s<15){s++;var t=s<10?100:300;return window.setTimeout(function(){v()},t)}o("error: could not remove iframe from salesforce")}function w(){return h()}function h(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!p()}function p(){var e=new RegExp("/one/one\\.app.*"),t=new RegExp("/lightning/");return e.test(window.location.pathname)||t.test(window.location.pathname)}function _(){return window.self!==window.top}function E(){var e=new Date-u;o("Time that took to remove the iframe "+e+"ms")}c()}t.SalesforceIframeRemover=a},function(e,t,n){var r=n(2).getCtx;r().get("PrelibLogger");function o(){var e=Array().slice.call(arguments);e.unshift("[ SalesforceIframeRemover ]")}t.log=o},function(e,t){var n,r=function(){function e(e){var t=this;this._ctx=e,this._messageQueue=[],this._eventsListener=e.get("EventsListener"),this._eventsListener.on("DataLoadedEvent",function(){t._eventSenderErrorLogger||(t._eventSenderErrorLogger=t._ctx.get("EventSenderErrorLogger"),t.emptyQueue())})}return e.prototype.sendLog=function(e,t){if(!e)return;if(!this._eventSenderErrorLogger)return void this.pushToQueue(e,t);this._eventSenderErrorLogger.logError(e,t)},e.prototype.pushToQueue=function(e,t){this._messageQueue.push({message:e,extraData:t})},e.prototype.emptyQueue=function(){for(var e=0;e<this._messageQueue.length;e++)this._eventSenderErrorLogger.logError(this._messageQueue[e].message,this._messageQueue[e].extraData);this._messageQueue=null},e}();e.exports=function(e){return n?n:n=new r(e)}}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-wm-smart-tip-dont-embed-tooltip@1.0.0@prelib",{name:"wm-plugin-wm-smart-tip-dont-embed-tooltip",version:"1.0.0",toolbelt:"1.2.1",packageDate:"2018-06-11T07:38:28.666Z",entry:"prelib"},function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.wmSmartTipDontEmbedTooltipPlugin=n}(this,function(t){var e=t(),n=(e.ctx,e.di,function(){function t(){}return t.prototype.run=function(t){return e.ctx.decorate("SmartTipDrawerOptionsProvider",function(t){return{getTooltipDrawerOptions:function(e,n){var o=t.getTooltipDrawerOptions(e,n);return o.stepSettings&&(o.stepSettings.embed=!1),o}}}),null},t}());e.plugin(new n)})}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-page-identifier-salesforce-classic@1.0.7@prelib",{name:"wm-plugin-page-identifier-salesforce-classic",version:"1.0.7",toolbelt:"1.2.1",packageDate:"2018-09-12T20:32:20.311Z",entry:"prelib"},function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r=n(2).createPluginEntry;e.exports=r(function(e){var t=n(3).PageIdentifierSalesforceClassic;e(new t)})},function(e,t){var n,r={createPluginEntry:i,getCtx:o};function i(e){return function(t){n=t(),e(a)}}function o(){return n.ctx}function a(e){n.plugin(e)}t.__esModule=!0,t["default"]=r,t.createPluginEntry=r.createPluginEntry,t.getCtx=r.getCtx},function(e,t,n){var r=n(2).getCtx,i=n(4),o=n(7);function a(){var e=this;e.run=s;var t;function a(){t=r().get("EventsListener")}function s(){n(31)(),t.on("DataLoadedEvent",function(){try{var e=n(32);e.init()}catch(t){i.logzioLog("error","initializing BI Logger",i.errorData(t))}}),t.on("wm_walkmeLibLoaded",function(){n(8).init().then(function(){try{var e=n(33),t=_walkmeInternals.extendElementDescription;_walkmeInternals.extendElementDescription=function(){var n=Array.prototype.slice.call(arguments,0);return t&&(n[1]=t.apply(this,n)),e.extendElementDescription.apply(e,n)},i.log("Finished Loading FE plugin",{success:r().get("FindElementPlugins").length>0&&null!=_walkmeInternals.extendElementDescription});var a=o.identifyCurrentPage(),s=o.isValidPage(a);s||i.logzioLog("warn","can't ID current page",{currPage:r().get("CommonUtils").toJSON(a)})}catch(l){i.logzioLog("error","initializing extendElementDescription",i.errorData(l))}})["catch"](function(e){i.logzioLog("error","initializing sf-entity-resolver",i.errorData(e))});try{var e=n(34).pluginClass;_makeTutorial.registerFindElementPlugin(new e)}catch(t){i.logzioLog("error","initializing FE plugin",i.errorData(t))}})}a()}t.PageIdentifierSalesforceClassic=a},function(e,t,n){var r=n(2).getCtx,i=r().get("PrelibLogger"),o=n(5)(r()),a="PageIdentifierSalesforceClassic";function s(){var e=Array.prototype.slice.call(arguments);e.unshift("[ "+a+" ]"),i.write.apply(i,e)}function l(e,t,r){s.apply(this,arguments),r=r||{},r.level=e,r.plugin=a,r.pluginVersion=n(6).version,o.sendLog(t,r)}function u(e){return{errMessage:e.message,errStack:e.stack}}t.log=s,t.logzioLog=l,t.errorData=u},function(e,t){var n,r=function(){function e(e){var t=this;this._ctx=e,this._messageQueue=[],this._eventsListener=e.get("EventsListener"),this._eventsListener.on("DataLoadedEvent",function(){t._eventSenderErrorLogger||(t._eventSenderErrorLogger=t._ctx.get("EventSenderErrorLogger"),t.emptyQueue())})}return e.prototype.sendLog=function(e,t){if(!e)return;if(!this._eventSenderErrorLogger)return void this.pushToQueue(e,t);this._eventSenderErrorLogger.logError(e,t)},e.prototype.pushToQueue=function(e,t){this._messageQueue.push({message:e,extraData:t})},e.prototype.emptyQueue=function(){for(var e=0;e<this._messageQueue.length;e++)this._eventSenderErrorLogger.logError(this._messageQueue[e].message,this._messageQueue[e].extraData);this._messageQueue=null},e}();e.exports=function(e){return n?n:n=new r(e)}},function(e,t){e.exports={_args:[[{raw:"wm-plugin-page-identifier-salesforce-classic@1.0.7",scope:null,escapedName:"wm-plugin-page-identifier-salesforce-classic",name:"wm-plugin-page-identifier-salesforce-classic",rawSpec:"1.0.7",spec:"1.0.7",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\wmpack-1000EzZ8kmdFKuM7"]],_from:"wm-plugin-page-identifier-salesforce-classic@1.0.7",_id:"wm-plugin-page-identifier-salesforce-classic@1.0.7",_inCache:!0,_location:"/wm-plugin-page-identifier-salesforce-classic",_phantomChildren:{},_requested:{raw:"wm-plugin-page-identifier-salesforce-classic@1.0.7",scope:null,escapedName:"wm-plugin-page-identifier-salesforce-classic",name:"wm-plugin-page-identifier-salesforce-classic",rawSpec:"1.0.7",spec:"1.0.7",type:"version"},_requiredBy:["/"],_resolved:"https://npm.walkmedev.com/wm-plugin-page-identifier-salesforce-classic/-/wm-plugin-page-identifier-salesforce-classic-1.0.7.tgz",_shasum:"fce24323ee3ab60859cb8e2b65ac8f3351b197f3",_shrinkwrap:null,_spec:"wm-plugin-page-identifier-salesforce-classic@1.0.7",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\wmpack-1000EzZ8kmdFKuM7",dependencies:{"coffee-script":"^1.12.7","wm-logzio-sender":"1.1.0","wm-prelib-plugin-entry-manager":"0.1.0","wm-sf-common-components":"1.2.5"},description:"Identify pages in SalesForce classic. Save it on ElementDescription for automatic segmentation.",devDependencies:{browserify:"^13.0.1",eslint:"4.10.0",grunt:"~0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-copy":"1.0.0","grunt-contrib-watch":"^0.6.1","grunt-git":"^0.3.7","grunt-release":"^0.13.0",watchify:"^3.7.0","wm-grunt-module-validate":"0.1.2","wm-package-json-validate":"0.1.1","wm-plugins-core":"^2.6.2"},dist:{shasum:"fce24323ee3ab60859cb8e2b65ac8f3351b197f3",tarball:"https://npm.walkmedev.com/wm-plugin-page-identifier-salesforce-classic/-/wm-plugin-page-identifier-salesforce-classic-1.0.7.tgz"},legoDirectoryName:"c:\\Projects\\lego\\wm-plugin-page-identifier-salesforce-classic",main:"src/main.js",name:"wm-plugin-page-identifier-salesforce-classic",optionalDependencies:{},peerDependencies:{},pluginType:"core-product",publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{build:"grunt build",lint:'eslint "./src/*.js"',postbuild:"npm run lint",prepublish:"npm run build",test:"grunt test",validate:"grunt validate-code",watch:"grunt watch"},version:"1.0.7",wmCommit:"9e5d3ce1da6db66dfdeddd58e1c7e83af07f2ebc",wmLegoProject:"wm-plugin-page-identifier-salesforce-classic",wmRepublishDate:"2018-09-12T15:55:34.297Z",wmRepublishOriginalVersion:"1.0.7-rc.2"}},function(e,t,n){e.exports={identifyCurrentPage:c,isValidPage:f,shouldIgnorePage:p,isSamePage:g};var r=n(8),i=n(30),o={e:1,a:1},a={Home:1,Chatter:1,AllTab:1,Idea:1,ContentSearch:1,File:1,UserProfile:1,CollaborationGroup:1,OtherUserProfile:1},s=["entity","vf","static","static_url"],l={entity:{getData:function(e){var t=u(),n=t[1],i=n.substr(0,3),o=n.length>3?"record":"home",a=t[2];if(r.mapKeyToName(i))return e.entity={prefix:i,level:o,mode:a},!0},isValidPage:function(e){return e.entity&&e.entity.prefix},isSamePage:function(e,t){return e.entity.prefix===t.entity.prefix&&(!(o[e.entity.mode]||o[t.entity.mode])||e.entity.mode===t.entity.mode)&&e.entity.level===t.entity.level}},"static":{getData:function(e){var t=window.MOTIF_KEY;if(t)return e["static"]={motifKey:t},!!a[t]},isValidPage:function(e){return e["static"]&&e["static"].motifKey},isSamePage:function(e,t){return a[e["static"].motifKey]&&e["static"].motifKey===t["static"].motifKey}},vf:{getData:function(e){var t=window.location.pathname,n=t.split("/"),r=n[1],i=n[2];if("apex"===r&&i)return e.vf={name:i},!0},isValidPage:function(e){return e.vf&&e.vf.name},isSamePage:function(e,t){return e.vf.name===t.vf.name}},static_url:function(){var e={required:!0},t={required:!1},n=[["p","share",e],["p","opp",e,t],["oppitm",e],["lead",e],["ui","list",e],["_ui","search","ui",e],["setup",e],["setup","user",e],["p","own",e,t]];return n=wmjQuery.map(n,function(n){for(var r=0,i=0,o=0;o<n.length;o++)"string"==typeof n[o]||n[o]===e?(++r,++i):n[o]===t&&++i;return{pattern:n,minLen:r,maxLen:i}}),{getData:function(r){for(var i=u(),o=0;o<n.length;o++){var a=n[o].pattern;if(i.length-1>=n[o].minLen&&i.length-1<=n[o].maxLen){for(var s=!0,l={},c=0;c<a.length&&s;c++)a[c]===i[c+1]?l.url=(l.url||"")+"/"+a[c]:a[c]===e&&i[c+1]?l.name=i[c+1]:a[c]===t?l.mode=i[c+1]:s=!1;if(s)return r.static_url=l,!0}}},isValidPage:function(e){return e.static_url&&e.static_url.url&&e.static_url.name},isSamePage:function(e,t){return e.static_url.url===t.static_url.url&&e.static_url.name===t.static_url.name&&(!(o[e.static_url.mode]||o[t.static_url.mode])||e.static_url.mode===t.static_url.mode)}}}()};function u(){var e=window.location.pathname,t=e.split("/");return t}function c(e){for(var t,n={},r=s,i=0;i<r.length&&(!e||!t);i++){var o=r[i];l[o].getData(n)&&!t&&(t=o)}return n.type=t,n}function f(e){if(!e)return 0;if(!e.type)return 0;if(!l[e.type].isValidPage(e))return 0;return 1}function p(e){if(i.isGlobalElement(e))return 1;return 0}function g(e,t){if(!f(e)||!f(t))return!1;if(e.type!==t.type)return!1;return l[e.type].isSamePage(e,t)}},function(e,t,n){var r=n(2).getCtx,i=n(4).log,o=n(9),a={};e.exports={init:s,mapKeyToName:function(e){return a[e]}};function s(){var e=r(),t=e.get("PromiseManager");return new t.Promise(function(t){e.has("SalesForceConnectionUtils")||o(e),e.has("SalesForceConnectionUtils")?e.get("SalesForceConnectionUtils").injectSFConnection(function(){try{var n,r,o;if(n=e.has("SalesForceConnection")?e.get("SalesForceConnection").getSforce():window.sforce,n&&(r=n.connection.describeGlobal(),o=r.getArray("sobjects")),o&&o.length){a={};for(var s=0;s<o.length;s++){var l=o[s].keyPrefix;l&&(a[l]=o[s].name)}}}catch(u){i("failed getting info from sforce connection",u)}t()},function(){t()}):t()})}},function(e,t,n){var r=n(10).SalesForceManager,i=n(11).SfVarsUtils,o=n(14).SalesForceVarsExtractor,a=n(15).SalesForceSearcher,s=n(16).SalesForceConnectionUtils,l=n(17).SalesForceConnection,u=n(18).SfVarsRetrieverFactory,c=n(19).LegacySfVarsRetriever,f=n(20).NonLegacySfVarsRetriever,p=n(22).BasicSfVarsRetriever,g=n(23).SameDomainIframeSfVarsRetriever,d=n(25).UnsupportedPlatformSfVarsRetriever,m=n(26).CommunitySfVarsUrlBuilder,h=n(27).LightningSfVarsUrlBuilder,v=(n(28),n(29).SfVarsMapper);!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=n:t.sfCommonComponents=n}(this,function(e){var t=e.get("PrelibLogger");function n(){e.register("BasicSfVarsRetriever").asCtor(p).dependencies("Logger, SfVarsUtils, SfVarsEventLogger"),e.register("UnsupportedPlatformSfVarsRetriever").asCtor(d).dependencies("Logger, SfVarsUtils, SfVarsEventLogger"),e.register("CommunitySfVarsUrlBuilder").asCtor(m).dependencies("Logger, CommonUtils, SiteConfigManager"),e.register("LegacySfVarsRetriever").asCtor(c).dependencies("SiteConfigManager, SalesForceConnectionUtils, Logger, SfVarsUtils, SfVarsEventLogger"),e.register("LightningSfVarsUrlBuilder").asCtor(h).dependencies("Logger, CommonUtils, SiteConfigManager, SfVarsUtils"),e.register("NonLegacySfVarsRetriever").asCtor(f).dependencies("Logger, CommonUtils, TimerManager, ClientStorageManager, SfVarsUtils, SfVarsMapper, SfVarsEventLogger, FeaturesManager"),e.register("SameDomainIframeSfVarsRetriever").asCtor(g).dependencies("Logger, CommonUtils, TimerManager, ClientStorageManager, SfVarsUtils, SfVarsMapper, SfVarsEventLogger"),e.register("SalesForceConnection").asCtor(l).dependencies("CookiesManager, Logger, SfVarsUtils"),e.register("SalesForceConnectionUtils").asCtor(s).dependencies(""),e.register("SalesForceManager").asCtor(r).dependencies("CommonUtils, SalesForceVarsExtractor,SalesForceSearcher, SfVarsRetrieverFactory, SfVarsUtils, Logger, TimerManager, SiteConfigManager, ResourceManager, SfVarsEventLogger"),e.register("SalesForceSearcher").asCtor(a).dependencies("Logger,SiteConfigManager,SalesForceConnectionUtils"),e.register("SalesForceVarsExtractor").asCtor(o).dependencies("Logger, SfVarsUtils, ClientStorageManager, CommonUtils, CommonEvents, Consts, AuditSourceManager, SfVarsEventLogger"),e.register("SfVarsMapper").asCtor(v).dependencies("CommonUtils, SiteConfigManager"),e.register("SfVarsRetrieverFactory").asCtor(u).dependencies("Logger, SfVarsUtils, LegacySfVarsRetriever, NonLegacySfVarsRetriever, BasicSfVarsRetriever, UnsupportedPlatformSfVarsRetriever, SameDomainIframeSfVarsRetriever, SfVarsEventLogger, FeaturesManager"),e.register("SfVarsUtils").asCtor(i).dependencies("LibDestroyer, Logger, TimerManager, FeaturesManager, SfVarsEventLogger")}if(!e.has("SfVarsUtils"))return t.write("wm-sf-common-components: contributing components to ctx"),void n();t.write("wm-sf-common-components: sfVarsUtils found, not contributing components to ctx")})},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o,a,s,l,u,c){var f,p,g=".oneHomeCardListDesktop",d="sfVarsBlacklist",m="#WM_EXT_IFRAME {display:none !important}",h="walkme-extention-tile-hide",v=200,y=this,w=a.wrapCustomerLog(r),S=!1;function E(){L()}y.init=function(e){f=I(),f&&!b()?(w("Start to extract sfVars",2),T(e)):e&&e()};function b(){var e=C();if(e instanceof Array)for(var t=0;t<e.length;t++)if(location.href.indexOf(e[t])>-1)return!0}function C(){return _walkMe.getSiteConfig().Custom[d]}function x(){return"lightning"==o.getCurrentSfEnvironment()}function L(){if(!window.WalkMe_Extension)return;var e=window.location.href;e.indexOf("lightning.force")>-1&&(p=0,A())}y.removeIFrame=function(){_featuresManager.isFeatureEnabled("keepSFFrame")||(x()?_():wmjQuery("iframe[title*='WM_EXT_IFRAME']").remove())};function _(){u.injectCss(m,h)}function A(){if(p<v){var e=wmjQuery('li:has(div:contains("WalkMe"))',g);0==e.length?(p++,s.libSetTimeout(A,300)):(e.remove(),S=!0,w("walkme SF action bar removed due to exsiting extension",2))}}function T(e){var n=V();if(n.neededInfoExists){w("Find window.UserContext",2);var r=i.getSfVarsRetriever(f);if(!r)return void a("Can't get any right sfRetriever",{errType:"sfVarsFailure",logLevel:o.LOG_LEVEL.WEEKLY,sfEnv:o.getCurrentSfEnvironment()});w("Got the right sfRetriever",2),t.extractSalesForceVars(e,r)}else a("sfVars failed to load - "+n.message,{errType:"sfVarsFailure",logLevel:o.LOG_LEVEL.DAILY});function a(t,n){c.logEvent(t,n),e&&e()}}y.search=function(e,t){n.search(e,t)};function V(){var e=o.getCurrentSfEnvironment();if(!e)return{neededInfoExists:!1,message:"No environment found"};var t="lightning"==e;if(t)return R();return U()}function U(){var e=!(!window.UserContext||"undefined"==typeof window.UserContext.userId);return{neededInfoExists:e,message:e?"":"There is no UserContext on the page"}}function R(){var e=l.get().Custom.sfVarsLightningBaseUrl;if(e)return{neededInfoExists:!0};var t=U().neededInfoExists&&window.UserContext.vfDomainPattern;return{neededInfoExists:t,message:t?"":"There is no UserContext on the page and/or missing vfDomain Pattern"}}function I(){if(o.isAnySFVarsFeatureEnabled())return o.BASIC_SF_VARS_FEATURE;return o.GENERAL_SF_VARS_FEATURE}E.apply(null)}t.SalesForceManager=i},function(e,t,n){var r=n(2).getCtx,i="salesforce",o=n(12)(r()),a=n(13);function s(e,t,n,s,l){var u,c=this,f=(t.wrapCustomerLog(i),{legacy:{ctxUrlBuilderName:"",separatedFeatureName:"legacySfVars",appEndpoint:""},lightning:{ctxUrlBuilderName:"LightningSfVarsUrlBuilder",separatedFeatureName:"lightningSfVars",appEndpoint:"/apex/vf_WalkMeSfVars"},"community-classic":{ctxUrlBuilderName:"CommunitySfVarsUrlBuilder",separatedFeatureName:"communitiesSfVars",appEndpoint:"/apex/WM4SF3__vf_WalkMeSfVars"}});c.LOG_LEVEL=o.ConstsLogLevel,c.BASIC_SF_VARS_FEATURE="basicSfVars",c.SAME_DOMAIN_COMMUNITIES_FEATURE="sameDomainCommunities",c.SANDBOX_SF_VARS_IFRAME_FEATURE="sandboxSfVarsIframe",c.SF_VARS_LAST_FAIL_KEY="walkme-sf-vars-last-fail",c.IFRAME_CREATED_TIMEOUT_TICKS=a("iframeCreatedTimeout",1e4),c.FAIL_EXPIRATION_TIME_SECONDS=14400,c.MESSAGES={SKIP_AFTER_FAILURE:"skip loading due to a failure in the last 4 hours",VARS_LIST_EMPTY:"list to extract was empty",DATA_HAS_NO_VAL:"nonLegacy sfVars postback data was ",IFRAME_CREATED_TIMEOUT:"10 seconds passed since iframe was created",IFRAME_LOADED_TIMEOUT:"0.5 seconds passed since iframe was loaded",FAIL_FIND_SALESFORCE_NAME:"Couldn't determine endpoint for more than 7 seconds"},c.GENERAL_SF_VARS_FEATURE="sfVars";function p(){}function g(){if(d())return"legacy";if(m())return"lightning";if(v())return l.logEvent("community classic salesforce instance",{logLevel:c.LOG_LEVEL.WEEKLY}),"community-classic";if(h())return l.logEvent("community lightning salesforce instance",{logLevel:c.LOG_LEVEL.WEEKLY}),"community-lightning"}c.getCurrentSfEnvironment=function(){if(u)return u;return u=g()},c.isCommunityFeatureOrEnvironment=function(){return s.isFeatureEnabled("sfCommunity")||"community-classic"===c.getCurrentSfEnvironment()},c.getAppEndpointByEnvironment=function(e){return f[e]&&f[e].appEndpoint},c.getUrlBuilderByEnvironment=function(e){var t=f[e]&&f[e].ctxUrlBuilderName;return r().get(t)},c.isAnySFVarsFeatureEnabled=function(){return s.isFeatureEnabled(c.BASIC_SF_VARS_FEATURE)&&!s.isFeatureEnabled(c.GENERAL_SF_VARS_FEATURE)},c.to18CharId=function(e){if(null==e||18==e.length)return e;if(e=e.replace(/\"/g,""),15!=e.length)return null;for(var t="",n=0;n<3;n++){for(var r=0,i=0;i<5;i++){var o=e.charAt(5*n+i);"A"<=o&&"Z">=o&&(r+=1<<i)}t=25>=r?t+"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r):t+"012345".charAt(r-26)}return e+t};function d(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!m()}function m(){var e=new RegExp("/one/one\\.app.*"),t=new RegExp("/lightning/");return e.test(window.location.pathname)||t.test(window.location.pathname)}function h(){return!d()&&!m()&&window.UserContext&&window.Aura}function v(){return!d()&&!m()&&window.UserContext&&!window.Aura}p.apply(null,arguments)}t.SfVarsUtils=s},function(e,t,n){function r(e){var t,r,i,o=this,a=864e5,s=365*a*10,l=7*a,u={ALWAYS:1,DAILY:2,WEEKLY:3,ONCE:4},c={};o._messageQueue=[],o.ConstsLogLevel=u,o.sendLog=d;function f(){o._logsIoSender=n(5)(e),t=e.get("EventsListener"),t.on("BeforeStorageLoadedCallback",p),g()}function p(){return e.create("Promise",function(t){r=e.get("PrelibLogger"),i=e.get("ClientStorageManager"),m(),t()})}function g(){c[u.ALWAYS]=function(){return!0},c[u.ONCE]=v(s),c[u.WEEKLY]=v(l),c[u.DAILY]=v(a)}function d(e){if(!i)return void o._messageQueue.push(e);r.write(e.message),h(e)&&o._logsIoSender.sendLog(e.message,e.extraData)}function m(){o._messageQueue.forEach(function(e){o.sendLog(e)}),o._messageQueue=[]}function h(e){if(!e.message||!c[e.extraData.logLevel])return!1;return c[e.extraData.logLevel](e.message)}function v(e){return function(t){var n=y(window._walkMe.getUserGuid(),window._walkMe.getEndUserGuid(),t),r=i.getData(n)||-1,o=(new Date).getTime();if(o-e>r)return i.saveData(n,o,e),!0;return!1}}function y(e,t,n){var r=e+t+n.split(" ").join("");return w(r)}function w(e){var t,n,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return""+r}f()}var i;e.exports=function(e){return i||(i=new r(e)),i}},function(e,t,n){var r=n(2).getCtx;e.exports=function(e,t){if(!e)return t;var n=r().get("ObjectJpath"),i=r().get("SiteConfigManager").get().Custom;return n.getValue(i,"sfVars."+e)||t}},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o,a,s,l){var u,c,f=this,p="wm-sf-users-data_"+s.get(),g="wm-sf-lst-usr",d=63072e3,m=864e5,h=86400,v=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];f.extractSalesForceVars=function(e,n){c=e;try{var r=y("wm-expirationCookie");r&&(m=parseInt(r));var i=w(),o=b();C(o,i,n).then(function(e){L(e.userData,e.isPrev),e.isPrev||l.logEvent("OK",{retrieverType:n.getType(),logLevel:t.LOG_LEVEL.WEEKLY})}).fail(function(e){s("Failed getting user data. Message: "+e)})}catch(a){s("unknown error getting walkmeSfVars: "+(a.message||a))}function s(e){l.logEvent("FAIL",{errorMsg:e,retrieverType:n.getType(),errType:"sfVarsFailure",logLevel:t.LOG_LEVEL.ALWAYS}),c&&c()}};function y(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=wmjQuery.trim(n[r]);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function w(){if(window.UserContext&&window.UserContext.userId){var e=t.to18CharId(window.UserContext.userId);if(S(e),e)return e}var n=E();if(n)return n;u("No UserContext on window. Can't get userId")}function S(e){e&&n.saveData(g,e,h)}function E(){return n.getData(g)}function b(){var e=n.getData(p);if(e)return i.secureEvalJSON(e)}function C(e,t,n){var r=wmjQuery.Deferred(),i=e&&e[t];return!i||x(i)?n.getUserData(v).then(function(e){u("Get sfVars from server"),r.resolve({userData:e,isPrev:!1})}).fail(function(e){i?(u("reuse sfVars that already expired"),r.resolve({userData:i,isPrev:!0})):(u("no sfVars"),r.reject(e))}):(u("sfVars is already exist"),r.resolve({userData:i,isPrev:!0})),r.promise()}function x(e){if(e.lastModified){var t=(new Date).getTime();if(t-m<e.lastModified)return!1}return!0}function L(t,n){t?(n||_(w(),t),window.walkme_sf_vars=t,delete window.walkme_sf_vars.lastModified,o.raiseEvent(a.EVENTS.SalesForceVarsExposed),u("sales force var were exposed",5)):u("no user data for user: "+w(),5);try{c&&c()}catch(r){e.error(r,"error during callback in extract sf vars: exposeData")}}function _(e,t){if(!e)return;var r=b();r||(r={}),r[e]=t,r[e].lastModified=(new Date).getTime();var o=i.toJSON(r);o&&n.saveData(p,o,d)}function A(){u=e.wrapCustomerLog(r)}A.apply(null,arguments)}t.SalesForceVarsExtractor=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i,o=this,a="Account (Id, Name), Contact (Id, Name), Opportunity (Id, Name), Lead (Id, Name)",s="";o.search=function(e,t){n.injectSFConnection(function(n){l(n,e,t)},function(){t(s)})};function l(e,n,r){var o=s;try{var l=t.get().Settings.sfSearch||a;o=e.connection.search("find {"+n+"*} RETURNING "+l)}catch(u){i("unknown error getting search results: "+u.message)}r(o)}function u(){i=e.wrapCustomerLog(r)}u.apply(null,arguments)}t.SalesForceSearcher=i},function(e,t,n){var r=n(2).getCtx;function i(){var e=this;e.injectSFConnection=function(e,t){var n=r().get("SalesForceConnection"),i=n.getSforce();i?e&&e(i):t()}}t.SalesForceConnectionUtils=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i=window,o={},a=t.wrapCustomerLog(r),s=!1,l="undefined"!=typeof i.UserContext?i.UserContext:{siteUrlPrefix:"",getUrl:function(e){if("undefined"==typeof e||"undefined"==typeof l.siteUrlPrefix||!l.siteUrlPrefix)return e;if(0!=e.indexOf("/"))return e;if(0==e.indexOf(l.siteUrlPrefix))return e;return l.siteUrlPrefix+e}};this.getSforce=function(){if(s)return o;return null},o.internal={},o.StringBuffer=function(){this.buffer=[],this.append=function(e){return this.buffer.push(e),this},this.toString=function(){return this.buffer.join("")}},o.Base64Binary=function(e){this.input=e},o.Base64Binary.prototype.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.Base64Binary.prototype.toString=function(){var e,t,n,r,i,o=[],a="",s="",l=0;do e=this.input.charCodeAt(l++),t=this.input.charCodeAt(l++),a=this.input.charCodeAt(l++),n=e>>2,r=(3&e)<<4|t>>4,i=(15&t)<<2|a>>6,s=63&a,isNaN(t)?i=s=64:isNaN(a)&&(s=64),o.push(this.keyStr.charAt(n)+this.keyStr.charAt(r)+this.keyStr.charAt(i)+this.keyStr.charAt(s)),e=t=a="",n=r=i=s="";while(l<this.input.length);return o.join("")},o.Base64Binary.prototype.decode=function(e){var t,n,r,i,o,s=[],l="",u="",c=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(e)&&a("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/', and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.keyStr.indexOf(e.charAt(c++)),i=this.keyStr.indexOf(e.charAt(c++)),o=this.keyStr.indexOf(e.charAt(c++)),u=this.keyStr.indexOf(e.charAt(c++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,l=(3&o)<<6|u,s.push(String.fromCharCode(t)),64!=o&&s.push(String.fromCharCode(n)),64!=u&&s.push(String.fromCharCode(l)),t=n=l="",r=i=o=u="";while(c<e.length);return s.join("")},o.internal.dateToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return n+"-"+r+"-"+i},o.internal.dateTimeToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getTimezoneOffset(),u=l<0?"+":"-";l=Math.abs(l);var c=l/60,f=l%60;s<=9&&(s="0"+s);var p=t.getMilliseconds();0!==p&&(p="."+p,p.length>4&&(p=p.substring(0,4)),s+=p);var g;return 0===l?g="Z":(f<10&&(f="0"+f),c<10&&(c="0"+c),g=u+c+":"+f),r<=9&&(r="0"+r),i<=9&&(i="0"+i),o<=9&&(o="0"+o),a<=9&&(a="0"+a),n+"-"+r+"-"+i+"T"+o+":"+a+":"+s+g},o.internal.stringToDate=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),10!=e.length)throw"Unable to parse date, "+e+" length != 10";if("-"!=e.charAt(4)||"-"!=e.charAt(7))throw"Unable to parse date";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),o=new Date(n,r-1,i,0,0,0);return o.setMilliseconds(0),o},o.internal.stringToDateTime=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),e.length<19)throw"Unable to parse dateTime";if("-"!=e.charAt(4)||"-"!=e.charAt(7)||"T"!=e.charAt(10))throw"Unable to parse dateTime";if(":"!=e.charAt(13)||":"!=e.charAt(16))throw"Unable to parse dateTime";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),a=e.substring(11,13),s=e.substring(14,16),l=e.substring(17,19),u=new Date(n,r-1,i,a,s,l),c=19;if(c<e.length&&"."==e.charAt(c)){for(var f=0,p=++c;c<e.length&&o.internal.isDigit(e.charAt(c));)c++;var g=e.substring(p,c);3==g.length?f=g:g.length<3?f=(g+"000").substring(0,3):(f=g.substring(0,3),g.charAt(3)>="5"&&++f),u.setMilliseconds(f)}var d=6e4*u.getTimezoneOffset();if(c+5<e.length&&("+"==e.charAt(c)||"-"==e.charAt(c))){if(!(o.internal.isDigit(e.charAt(c+1))&&o.internal.isDigit(e.charAt(c+2))&&":"==e.charAt(c+3)&&o.internal.isDigit(e.charAt(c+4))&&o.internal.isDigit(e.charAt(c+5))))throw"Unable to parse dateTime";var m=10*(e.charAt(c+1)-"0")+e.charAt(c+2)-"0",h=10*(e.charAt(c+4)-"0")+e.charAt(c+5)-"0",v=60*(60*m+h)*1e3;"+"==e.charAt(c)&&(v=-v),u=new Date(u.getTime()-d+v),c+=6}if(c<e.length&&"Z"==e.charAt(c)&&(c++,u=new Date(u.getTime()-d)),c<e.length)throw"Unable to parse dateTime";return u},o.internal.isDigit=function(e){return"0"==e||"1"==e||"2"==e||"3"==e||"4"==e||"5"==e||"6"==e||"7"==e||"8"==e||"9"==e},o.Xml=function(e){},o.Xml.prototype.toXml=function(e,t,n){n.writeStartElement(t,e),this._xsiType&&n.writeXsiType(this._xsiType);for(var r in this)if("_name"==r||"_xsiType"==r);else{var i=this[r];if("function"!=typeof i)if("array"==typeof i)for(var o=0;o<i.length;o++)this.writeValue(e,n,r,i[o]);else this.writeValue(e,n,r,i)}n.writeEndElement(t,e)},o.Xml.prototype.writeValue=function(e,t,n,r){if(null===r)return void t.writeNameValueNode("fieldsToNull",n);if("undefined"==typeof r)return;r.toXml?r.toXml(e,n,t):t.writeNameValueNode(n,r)},o.Xml.prototype.get=function(e){return this[e]?this[e]:null},o.Xml.prototype.set=function(e,t){this[e]=t},o.Xml.prototype.getArray=function(e){var t=this[e];return t?t.join?t:[t]:[]},o.Xml.prototype.getBoolean=function(e){return"true"==this[e]},o.Xml.prototype.getDate=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDate(this[e]):null},o.Xml.prototype.getDateTime=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDateTime(this[e]):null},o.Xml.prototype.getInt=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseInt(this[e],10);throw"Unable to parse int field: "+e},o.Xml.prototype.getFloat=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseFloat(this[e]);throw"Unable to parse float field: "+e},o.Xml.prototype.getBase64Binary=function(e){if(this[e])return o.Base64Binary.prototype.decode(this[e]);throw"Unable to parse base64Binary field: "+e},o.Xml.prototype.toString=function(){var e=new o.StringBuffer;e.append("{");for(var t in this){var n=this[t];if(n)if("object"==typeof n)e.append(t).append(":").append(n.toString());else if(n.join){e.append(t).append(":").append("[");for(var r=0;r<n.length;r++)e.append(n[r]),r<n.length-1&&e.append(", ");e.append("]")}else{if("function"==typeof n)continue;e.append(t).append(":").append("'"+n+"'")}else e.append(t).append(":").append(""+n);e.append(", ")}return e.append("}"),e.toString()},o.internal.Debug=function(){this.output=null,this.trace=!1,this.apexTrace=!1,this.win=null,this.traceQueue=[],this.quiet=!1,this.open=function(){this.println("","print")},this.println=function(e,t){if(this.quiet)return;if("function"==typeof println)return void println(e,t);null!==this.win&&this.win.document||(this.output=null,this.win=i.open("undefined"!=typeof i.UserContext?l.getUrl("/soap/ajax/29.0/debugshell.html"):"/soap/ajax/29.0/debugshell.html","","width=800,height=400,toolbar=no,location=no,directories=no,alwaysRaised=yes,status=no,menubar=no,scrollbars=yes,copyhistory=yes,resizable=yes")),null===this.output&&this.findOutput(),null!==this.output?(o.debug.traceQueue.length>0&&this.traceCallback(),this.win.println(e,t)):(o.debug.traceQueue.push({message:e,type:t}),setTimeout(o.debug.traceCallback,1e3))},this.traceCallback=function(){if(o.debug.findOutput(),null===o.debug.output)return void setTimeout(o.debug.traceCallback,1e3);for(var e=0;e<o.debug.traceQueue.length;e++){var t=o.debug.traceQueue[e];o.debug.win.println(t.message,t.type)}o.debug.traceQueue=[]},this.findOutput=function(){return null===this.output&&(this.output=this.win.document.getElementById("output")),this.output},this.logXml=function(e){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e="<textarea cols=80 rows=5 wrap=hard>"+e+"</textarea>",this.println(e,"printxml")},this.log=function(e){this.println(e,"print")},this.logApex=function(e){var t=e.indexOf("<debugLog>"),n=e.indexOf("</debugLog>");t===-1?t=0:t+="<debugLog>".length,n===-1&&(n=e.length);var r=e.substring(t,n);this.println(r,"printxml")}},o.debug=new o.internal.Debug,o.internal._connections=[],o.internal.ConnectionHolder=function(e,t){this.connection=e,this.callback=t,this.timedout=!1},o.Transport=function(e){this.url=e,this.connection=null,this.newConnection=function(){try{this.connection=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.connection=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.connection=new XMLHttpRequest}}return this.connection},this.send=function(e,t,n,r){this.newConnection(),n&&(this.connection.onreadystatechange=this.httpConnectionCallback);var i=new o.internal.ConnectionHolder(this.connection,t);o.internal._connections.push(i),this.connection.open("POST",this.url,n),this.connection.setRequestHeader("Content-Type","text/xml; charset=UTF-8"),this.connection.setRequestHeader("SOAPAction",'""'),this.connection.setRequestHeader("Accept","text/xml"),this.connection.send(e),n&&"undefined"!=typeof r&&this.setTimeoutOn(i,r),n||this.httpConnectionCallback()},this.setTimeoutOn=function(e,t){function n(){4!==e.connection.readyState&&(e.timedout=!0,e.connection.abort())}setTimeout(n,t)},this.httpConnectionCallback=function(){for(var e=0;e<o.internal._connections.length;e++){var t=o.internal._connections[e];if(null!==t)if(t.timedout)o.internal._connections[e]=null,o.internal._connections.slice(e,1),t.callback.httpCallback("Remote invocation timed out",!1);else if(4==t.connection.readyState){o.internal._connections[e]=null,o.internal._connections.slice(e,1);var n=200==t.connection.status;o.debug.trace&&(o.debug.log("Response : status - "+t.connection.status),o.debug.logXml(t.connection.responseText)),o.debug.apexTrace&&o.debug.logApex(t.connection.responseText),t.connection.responseXML&&t.connection.responseXML.documentElement?t.callback.httpCallback(t.connection.responseXML.documentElement,n):t.callback.httpCallback("Remote invocation failed, due to: "+t.connection.responseText+" status code: ",t.connection.status)}}}},o.XmlWriter=function(){this.buffer=new o.StringBuffer,this.namespaces={},this.prefixCount=0,this.writingStartElement=!1},o.XmlWriter.prototype.writeStartElement=function(e,t,n){this.writingStartElement&&this.buffer.append(">"),this.buffer.append("<");var r=!1;t&&(this.namespaces[t]||""===this.namespaces[t]||(r=!0),n||(n=this.getPrefix(t)),null!==n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))),this.buffer.append(e),r===!0&&this.writeNamespace(t,n),
this.writingStartElement=!0},o.XmlWriter.prototype.writeEndElement=function(e,t){if(this.writingStartElement)this.buffer.append("/>");else{if(this.buffer.append("</"),t){var n=this.getPrefix(t);n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))}this.buffer.append(e),this.buffer.append(">")}this.writingStartElement=!1},o.XmlWriter.prototype.writeNamespace=function(e,t){t&&""!==t?(this.namespaces[e]=t,this.buffer.append(" "),this.buffer.append("xmlns:"),this.buffer.append(t)):(this.namespaces[e]="",this.buffer.append(" "),this.buffer.append("xmlns")),this.buffer.append('="'),this.buffer.append(e),this.buffer.append('"')},o.XmlWriter.prototype.writeText=function(e){if(!this.writingStartElement)throw"Can only write text after a start element";this.buffer.append(">"),this.writingStartElement=!1,"string"==typeof e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")),this.buffer.append(e)},o.XmlWriter.prototype.writeXsiType=function(e){this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:type",e)},o.XmlWriter.prototype.writeAttribute=function(e,t){this.buffer.append(" "+e+'="'+t+'"')},o.XmlWriter.prototype.getPrefix=function(e){var t=this.namespaces[e];if(!t&&""!==t)return t="ns"+this.prefixCount,this.prefixCount++,this.namespaces[e]=t,t;return t},o.XmlWriter.prototype.toString=function(){return this.buffer.toString()},o.XmlWriter.prototype.soapNS="http://schemas.xmlsoap.org/soap/envelope/",o.XmlWriter.prototype.startEnvelope=function(){this.writeStartElement("Envelope",this.soapNS,"se")},o.XmlWriter.prototype.endEnvelope=function(){this.writeEndElement("Envelope",this.soapNS)},o.XmlWriter.prototype.startHeader=function(){this.writeStartElement("Header",this.soapNS,"se")},o.XmlWriter.prototype.endHeader=function(){this.writeEndElement("Header",this.soapNS)},o.XmlWriter.prototype.startBody=function(){this.writeStartElement("Body",this.soapNS,"se")},o.XmlWriter.prototype.endBody=function(){this.writeEndElement("Body",this.soapNS)},o.XmlWriter.prototype.writeNameValueNode=function(e,t){if(null===t)return this.writeStartElement(e),this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:nill","true"),void this.writeEndElement(e);if(t.toUTCString&&(t=o.internal.dateTimeToString(t)),"boolean"==typeof t&&(t=t?"true":"false"),t&&t.join)for(var n=0;n<t.length;n++)this.writeStartElement(e),this.writeText(t[n]),this.writeEndElement(e);else this.writeStartElement(e),this.writeText(t),this.writeEndElement(e)},o.XmlReader=function(e){this.envelope=e},o.XmlReader.prototype.getEnvelope=function(){if(this.isTag("Envelope",this.envelope))return this.envelope;throw"Unable to find soap envelope, but found "+this.envelope.nodeName},o.XmlReader.prototype.getBody=function(){return this.getChild("Body",this.envelope)},o.XmlReader.prototype.getHeader=function(){return this.getChild("Header",this.envelope)},o.XmlReader.prototype.getChild=function(e,t){for(var n=t.childNodes,r=0;r<n.length;r++)if(1==n[r].nodeType&&this.isTag(e,n[r]))return n[r];return null},o.XmlReader.prototype.getFirstElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(1==t[n].nodeType)return t[n];return null},o.XmlReader.prototype.isTag=function(e,t){var n=t.nodeName.split(":");if(2==n.length&&n[1]==e)return!0;if(1==n.length&&n[0]==e)return!0;return!1},o.XmlReader.prototype.isNameValueNode=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(3!=t[n].nodeType)return!1;return!0},o.XmlReader.prototype.getTextValue=function(e){if(3==e.nodeType)return e.nodeValue;var t=e.getAttribute("xsi:nil");if("true"==t)return null;for(var n="",r=e.childNodes,i=0;i<r.length;i++){if(3!=r[i].nodeType)throw"Not a simple name value node";n+=r[i].nodeValue}return n},o.XmlReader.prototype.toXmlObject=function(e){var t=e.getAttribute("xsi:nil");if("true"==t)return null;var n=new o.Xml,r=[];for(r.push({node:e,obj:n});r.length>0;)for(var i=r.shift(),a=i.node.firstChild;null!==a;a=a.nextSibling){if(1!=a.nodeType)continue;var s=a.nodeName,l=s.indexOf(":");s=l==-1?s:s.substring(l+1);for(var u,c=!0,f="",p=a.firstChild;null!==p;p=p.nextSibling){if(3!=p.nodeType){c=!1;break}f+=p.nodeValue}if(c?u="true"==a.getAttribute("xsi:nil")?null:f:(u=new o.Xml,r.push({node:a,obj:u})),i.obj[s])if(i.obj[s].push)i.obj[s].push(u);else{var g=i.obj[s];"Id"===s&&g===u||(i.obj[s]=[],i.obj[s].push(g),i.obj[s].push(u))}else i.obj[s]=u}return n},o.SoapTransport=function(){this.connectionCallback=null,this.result=null,this.fault=null,this.isAsync=!0,this.isArray=!1},o.SoapTransport.prototype.onFailure=function(e,t){var n="ERROR: ........... ";a(n+e),this.result=null},o.SoapTransport.prototype.send=function(e,t,n,r){this.isArray=n;var i=new o.Transport(e);if(this.isAsync=!!r,!this.isAsync){if(i.send(t.toString(),this,this.isAsync),null!==this.fault)throw this.fault;return this.result}this.connectionCallback=r,i.send(t.toString(),this,this.isAsync,r.timeout)},o.SoapTransport.prototype.httpCallback=function(e,t){try{if(t===!0){var n=new o.XmlReader(e),r=(n.getEnvelope(),n.getBody()),i=n.getFirstElement(r);if(null===i)throw"Unable to find operation response element";for(var a=[],s=i.childNodes,l=0;l<s.length;l++){if(1!=s[l].nodeType)continue;n.isNameValueNode(s[l])?a.push(n.getTextValue(s[l])):a.push(n.toXmlObject(s[l]))}if(this.isArray)this.result=a;else{if(a.length>1)throw"Found more than one response: "+a;this.result=a[0]}if(this.isAsync)try{if(this.beforeCallback(),"function"==typeof this.connectionCallback)this.connectionCallback(this.result);else{if(!this.connectionCallback.onSuccess)throw"Unable to find onSuccess method in the callback object";this.connectionCallback.onSuccess(this.result,this.connectionCallback.source)}}finally{this.afterCallback()}}else if("undefined"!=typeof e.nodeName){var u=new o.XmlReader(e),c=(u.getEnvelope(),u.getBody()),f=u.getFirstElement(c),p=u.toXmlObject(f);this.sendFault(p)}else this.sendFault(e)}catch(g){this.sendFault(g)}},o.SoapTransport.prototype.sendFault=function(e){if(this.isAsync)if(this.connectionCallback.onFailure)try{this.beforeCallback(),this.connectionCallback.onFailure(e,this.connectionCallback.source)}finally{this.afterCallback()}else this.onFailure(e);else this.fault=e},o.SoapTransport.prototype.beforeCallback=function(){},o.SoapTransport.prototype.afterCallback=function(){},o.SObject=function(e){this.type=e},o.SObject.prototype=new o.Xml("sObjects"),o.LeadConvert=function(){},o.LeadConvert.prototype=new o.Xml("leadConverts"),o.MergeRequest=function(){},o.MergeRequest.prototype=new o.Xml("request"),o.QuickAction=function(){},o.QuickAction.prototype=new o.Xml("quickActions"),o.Connection=function(){this.sessionId=null,this.updateMru=null,this.allowFieldTruncation=null,this.disableFeedTracking=null,this.streamingEnabled=null,this.allOrNone=null,this.client=null,this.defaultNamespace=null,this.batchSize=null,this.loginScopeHeader=null,this.emailHeader=null,this.assignmentRuleHeader=null,this.transferToUserId=null,this.debuggingHeader=null,this.serverUrl="undefined"!=typeof i.UserContext?l.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0"},o.internal.Parameter=function(e,t,n){this.name=e,this.value=t,this.isArray=n},o.Connection.prototype.sforceNs="urn:partner.soap.sforce.com",o.Connection.prototype.sobjectNs="sobject.partner.soap.sforce.com",o.Connection.prototype.writeOne=function(e,t,n,r){null===n?e.writeNameValueNode(t,null):n.toXml?n.toXml(r,t,e):e.writeNameValueNode(t,n)},o.Connection.prototype.init=function(e,t){this.sessionId=e,this.serverUrl=t},o.Connection.prototype.login=function(e,t){var n=new o.internal.Parameter("username",e,(!1)),r=new o.internal.Parameter("password",t,(!1)),i=this.invoke("login",[n,r],!1,null);return this.sessionId=i.sessionId,i},o.Connection.prototype.describeSObject=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!1));return this.invoke("describeSObject",[n],!1,t)},o.Connection.prototype.describeSObjects=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!0));return this.invoke("describeSObjects",[n],!0,t)},o.Connection.prototype.describeGlobal=function(e){return this.invoke("describeGlobal",[],!1,e)},o.Connection.prototype.describeLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeLayout",[r,i],!1,n)},o.Connection.prototype.describeAvailableQuickActions=function(e,t){var n=new o.internal.Parameter("parentType",e,(!1));return this.invoke("describeAvailableQuickActions",[n],!0,t)},o.Connection.prototype.describeQuickActions=function(e,t){var n=new o.internal.Parameter("quickActionNames",e,(!0));return this.invoke("describeQuickActions",[n],!0,t)},o.Connection.prototype.performQuickActions=function(e,t){var n=new o.internal.Parameter("quickActions",e,(!0));return this.invoke("performQuickActions",[n],!0,t)},o.Connection.prototype.describeCompactLayouts=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeCompactLayouts",[r,i],!1,n)},o.Connection.prototype.describeTabs=function(e){return this.invoke("describeTabs",[],!0,e)},o.Connection.prototype.describeFlexiPages=function(e,t){var n=new o.internal.Parameter("FlexiPage",e,(!1));return this.invoke("describeFlexiPages",[n],!0,t)},o.Connection.prototype.describeTheme=function(e,t){var n=new o.internal.Parameter("themeNames",e,(!0));return this.invoke("describeTheme",[n],!0,t)},o.Connection.prototype.describeGlobalTheme=function(e){return this.invoke("describeGlobalTheme",[],!0,e)},o.Connection.prototype.describeSoftphoneLayout=function(e){return this.invoke("describeSoftphoneLayout",[],!1,e)},o.Connection.prototype.describeMiniLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1)),i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeMiniLayout",[r,i],!1,n)},o.Connection.prototype.describeSearchScopeOrder=function(e){return this.invoke("describeSearchScopeOrder",[],!0,e)},o.Connection.prototype.create=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("create",[n],!0,t)},o.Connection.prototype.update=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("update",[n],!0,t)},o.Connection.prototype.upsert=function(e,t,n){var r=new o.internal.Parameter("externalIDFieldName",e,(!1)),i=new o.internal.Parameter("sObjects",t,(!0));return this.invoke("upsert",[r,i],!0,n)},o.Connection.prototype.deleteIds=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("delete",[n],!0,t)},o.Connection.prototype.impersonateUser=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("impersonateUser",[n],!0,t)},o.Connection.prototype.query=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("query",[n],!1,t)},o.Connection.prototype.queryAll=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("queryAll",[n],!1,t)},o.Connection.prototype.queryMore=function(e,t){var n=new o.internal.Parameter("queryLocator",e,(!1));return this.invoke("queryMore",[n],!1,t)},o.Connection.prototype.retrieve=function(e,t,n,r){var i=new o.internal.Parameter("fieldList",e,(!1)),a=new o.internal.Parameter("sObjectType",t,(!1)),s=new o.internal.Parameter("ids",n,(!0));return this.invoke("retrieve",[i,a,s],!0,r)},o.Connection.prototype.getUserInfo=function(e){return this.invoke("getUserInfo",[],!1,e)},o.Connection.prototype.resetPassword=function(e,t){var n=new o.internal.Parameter("userId",e,(!1));return this.invoke("resetPassword",[n],!1,t)},o.Connection.prototype.setPassword=function(e,t,n){var r=new o.internal.Parameter("userId",e,(!1)),i=new o.internal.Parameter("password",t,(!1));return this.invoke("setPassword",[r,i],!1,n)},o.Connection.prototype.search=function(e,t){var n=new o.internal.Parameter("searchString",e,(!1));return this.invoke("search",[n],!1,t)},o.Connection.prototype.getDeleted=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getDeleted",[i,a,s],!1,r)},o.Connection.prototype.getUpdated=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getUpdated",[i,a,s],!1,r)},o.Connection.prototype.getServerTimestamp=function(e){return this.invoke("getServerTimestamp",[],!1,e)},o.Connection.prototype.convertLead=function(e,t){var n=new o.internal.Parameter("leadConverts",e,(!0));return this.invoke("convertLead",[n],!0,t)},o.Connection.prototype.merge=function(e,t){var n=new o.internal.Parameter("request",e,(!0));return this.invoke("merge",[n],!0,t)},o.Connection.prototype.undelete=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("undelete",[n],!0,t)},o.Connection.prototype.process=function(e,t){var n=new o.internal.Parameter("actions",e,(!0));return this.invoke("process",[n],!0,t)},o.Connection.prototype.sendEmail=function(e,t){var n=new o.internal.Parameter("messages",e,(!0));return this.invoke("sendEmail",[n],!0,t)},o.Connection.prototype.emptyRecycleBin=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("emptyRecycleBin",[n],!0,t)},o.Connection.prototype.invalidateSessions=function(e,t){var n=new o.internal.Parameter("sessionIds",e,(!0));return this.invoke("invalidateSessions",[n],!0,t)},o.Connection.prototype.logout=function(e){return this.invoke("logout",[],!0,e)},o.Connection.prototype.remoteFunction=function(e){if(!e.url)throw"url not defined";if(!e.onSuccess)throw"onSuccess method not defined";if(e.method||(e.method="GET"),e.mimeType||(e.mimeType="text/plain"),"undefined"==typeof e.async&&(e.async=!0),"undefined"==typeof e.cache&&(e.cache=!1),"text/plain"!=e.mimeType&&"text/xml"!=e.mimeType)throw"Unknown mime type "+e.mimeType;o.debug.trace&&o.debug.log("Open connection to ... "+e.url);var t=(new o.Transport).newConnection(),n="undefined"!=typeof i.UserContext?l.getUrl("/services/proxy"):"/services/proxy";if(n=e.cache?n+"?end-point-url="+e.url:n+"?no-cache="+(new Date).getTime(),t.open(e.method,n,e.async),e.requestHeaders)for(var r in e.requestHeaders)"function"!=typeof e.requestHeaders[r]&&t.setRequestHeader(r,e.requestHeaders[r]);t.setRequestHeader("SalesforceProxy-Endpoint",e.url),t.setRequestHeader("SalesforceProxy-SID",this.sessionId),e.async&&(t.onreadystatechange=a),o.debug.trace&&o.debug.log("Sending ..."),e.requestData?t.send(e.requestData):t.send(null),o.debug.trace&&o.debug.log("Done Sending ..."),e.async||a();function a(){if(o.debug.trace&&o.debug.log("callback called ..."),4==t.readyState)if(200==t.status)if("text/plain"==e.mimeType)e.onSuccess(t.responseText,t);else{if("text/xml"!=e.mimeType)throw"unsupported mime type: "+e.mimeType;if(!t.responseXML||!t.responseXML.documentElement)throw"Response not text/xml mime type: "+t.responseText;e.onSuccess(t.responseXML.documentElement,t)}else e.onFailure?e.onFailure(t.responseText,t):o.debug.log(t.responseText)}},o.Connection.prototype.writeHeader=function(e,t){if(e.startHeader(),e.writeNamespace(t,"sfns"),null!==this.sessionId&&(e.writeStartElement("SessionHeader",t),e.writeNameValueNode("sessionId",this.sessionId),e.writeEndElement("SessionHeader",t)),"undefined"!=typeof this.organizationId)throw"Use sforce.connection.loginScopeHeader.organizationId instead of sforce.connection.organizationId";if(null!==this.loginScopeHeader&&(e.writeStartElement("LoginScopeHeader",t),null!==this.loginScopeHeader.organizationId&&e.writeNameValueNode("organizationId",this.loginScopeHeader.organizationId),null!==this.loginScopeHeader.portalId&&e.writeNameValueNode("portalId",this.loginScopeHeader.portalId),e.writeEndElement("LoginScopeHeader",t)),null===this.client&&null===this.defaultNamespace||(e.writeStartElement("CallOptions",t),null!==this.client&&e.writeNameValueNode("client",this.client),null!==this.defaultNamespace&&e.writeNameValueNode("defaultNamespace",this.defaultNamespace),e.writeEndElement("CallOptions",t)),null!==this.batchSize&&(e.writeStartElement("QueryOptions",t),e.writeNameValueNode("batchSize",this.batchSize),e.writeEndElement("QueryOptions",t)),null!==this.allowFieldTruncation&&(e.writeStartElement("AllowFieldTruncationHeader",t),e.writeNameValueNode("allowFieldTruncation",this.allowFieldTruncation),e.writeEndElement("AllowFieldTruncationHeader",t)),null!==this.disableFeedTracking&&(e.writeStartElement("DisableFeedTrackingHeader",t),e.writeNameValueNode("disableFeedTracking",this.disableFeedTracking),e.writeEndElement("DisableFeedTrackingHeader",t)),null!==this.streamingEnabled&&(e.writeStartElement("StreamingEnabledHeader",t),e.writeNameValueNode("StreamingEnabled",this.streamingEnabled),e.writeEndElement("StreamingEnabledHeader",t)),null!==this.allOrNone&&(e.writeStartElement("AllOrNoneHeader",t),e.writeNameValueNode("allOrNone",this.allOrNone),e.writeEndElement("AllOrNoneHeader",t)),null!==this.updateMru&&(e.writeStartElement("MruHeader",t),e.writeNameValueNode("updateMru",this.updateMru),e.writeEndElement("MruHeader",t)),null!==this.emailHeader&&(e.writeStartElement("EmailHeader",t),this.emailHeader.triggerAutoResponseEmail&&e.writeNameValueNode("triggerAutoResponseEmail",this.emailHeader.triggerAutoResponseEmail),this.emailHeader.triggerOtherEmail&&e.writeNameValueNode("triggerOtherEmail",this.emailHeader.triggerOtherEmail),this.emailHeader.triggerUserEmail&&e.writeNameValueNode("triggerUserEmail",this.emailHeader.triggerUserEmail),e.writeEndElement("EmailHeader",t)),null!==this.assignmentRuleHeader&&(e.writeStartElement("AssignmentRuleHeader",t),this.assignmentRuleHeader.assignmentRuleId&&e.writeNameValueNode("assignmentRuleId",this.assignmentRuleHeader.assignmentRuleId),this.assignmentRuleHeader.useDefaultRule&&e.writeNameValueNode("useDefaultRule",this.assignmentRuleHeader.useDefaultRule),e.writeEndElement("AssignmentRuleHeader",t)),null!==this.transferToUserId&&(e.writeStartElement("UserTerritoryDeleteHeader",t),e.writeNameValueNode("transferToUserId",this.transferToUserId),e.writeEndElement("UserTerritoryDeleteHeader",t)),null!==this.debuggingHeader){if(e.writeStartElement("DebuggingHeader",t),this.debuggingHeader.debugLevel&&e.writeNameValueNode("debugLevel",this.debuggingHeader.debugLevel),this.debuggingHeader.debugCategories)for(var n=this.debuggingHeader.debugCategories,r=0;r<n.length;r++){var i=n[r].split(",");2==i.length&&(e.writeStartElement("categories"),e.writeNameValueNode("category",i[0]),e.writeNameValueNode("level",i[1]),e.writeEndElement("categories"))}e.writeEndElement("DebuggingHeader",t)}e.endHeader()},o.Connection.prototype.namespaceMap=[{ns:o.Connection.prototype.sforceNs,prefix:null},{ns:o.Connection.prototype.sobjectNs,prefix:"ns1"}],o.Connection.prototype.invoke=function(e,t,n,r){return this._invoke(e,t,n,r,this.namespaceMap,this.serverUrl,this.sforceNs,this.sobjectNs)},o.Connection.prototype._invoke=function(e,t,n,r,i,a,s,l){if(r)if("function"==typeof r);else{if(!r.onSuccess)throw"onSuccess not defined in the callback";if(!r.onFailure)throw"onFailure not defined in the callback"}var u=new o.XmlWriter;u.startEnvelope(),this.writeHeader(u,s),u.startBody(),u.writeStartElement(e);for(var c=0;c<i.length;c++)u.writeNamespace(i[c].ns,i[c].prefix);for(var c=0;c<t.length;c++){var f=t[c];if("undefined"==typeof f.value)throw"arg "+c+" '"+f.name+"' not specified";if(null!==f.value){if(f.isArray&&!f.value.push)throw"arg "+c+" '"+f.name+"' is an array. But passed in value is not an array";if(!f.isArray&&f.value.push)throw"arg "+c+" '"+f.name+"' is not an array. But passed in value is an array"}if(null===f.value)this.writeOne(u,f.name,null,l);else if(f.value.push)for(var p=0;p<f.value.length;p++){var g=f.value[p];if(!g)throw"Array element at "+p+" is null.";this.writeOne(u,f.name,g,l)}else this.writeOne(u,f.name,f.value,l)}u.writeEndElement(e),u.endBody(),u.endEnvelope(),o.debug.trace&&(o.debug.log("Request: server- "+a),o.debug.logXml(u.toString()));var d=new o.SoapTransport;return d.send(a,u,n,r)},o.QueryResultIterator=function(e){this.queryResult=e,this.index=0,this.records=this.queryResult.getArray("records")},o.QueryResultIterator.prototype.hasNext=function(){if(this.records.length>this.index)return!0;return null!==this.queryResult.queryLocator&&(this.queryResult=o.connection.queryMore(this.queryResult.queryLocator),this.records=this.queryResult.getArray("records"),this.index=0),this.records.length>this.index},o.QueryResultIterator.prototype.next=function(){if(this.records.length>this.index){var e=this.records[this.index];return this.index++,e}throw"Index out of bound : "+this.index},o.Email=function(){},o.Email.prototype=new o.Xml("messages"),o.MassEmailMessage=function(){},o.MassEmailMessage.prototype=new o.Xml("messages"),o.MassEmailMessage.prototype._xsiType="MassEmailMessage",o.SingleEmailMessage=function(){},o.SingleEmailMessage.prototype=new o.Xml("messages"),o.SingleEmailMessage.prototype._xsiType="SingleEmailMessage",o.ProcessRequest=function(){},o.ProcessRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest=function(){},o.ProcessSubmitRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest.prototype._xsiType="ProcessSubmitRequest",o.ProcessWorkitemRequest=function(){},o.ProcessWorkitemRequest.prototype=new o.Xml("actions"),o.ProcessWorkitemRequest.prototype._xsiType="ProcessWorkitemRequest",o.connection=new o.Connection,"undefined"!=typeof __sfdcSiteUrlPrefix&&(l.siteUrlPrefix=__sfdcSiteUrlPrefix),o.connection.serverUrl="undefined"!=typeof i.UserContext?l.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0","undefined"!=typeof __sfdcSessionId&&(o.connection.sessionId=__sfdcSessionId);function u(){var e="salesforce",t=new RegExp(e+".+com");return t.test(i.document.domain)}function c(){var t;if(u()?t=e.getCookie("sid"):(i.__sfdcSessionId||(i.__sfdcSessionId=i.sforce&&i.sforce.connection&&i.sforce.connection.sessionId),t=i.__sfdcSessionId),!t)return void a("there is no session id in this page.");if(n.isCommunityFeatureOrEnvironment())o.connection.sessionId=t;else{var r="https://"+i.location.host+"/services/Soap/u/29.0";o.connection.init(t,r)}s=!0}c.apply(null,arguments)}t.SalesForceConnection=i},function(e,t,n){var r=n(2).getCtx,i="salesforce";function o(e,t,n,o,a,s,l,u,c){var f=this,p=e.wrapCustomerLog(i),g={legacy:n,"community-classic":d(),"community-lightning":s,lightning:o};f.getSfVarsRetriever=function(e){var n=r().get("SiteConfigManager").get().Custom.sfVars;if(n&&n.UseProxyRegex){p("Selecting sfVars retriever by regex: "+n.UseProxyRegex);var i=new RegExp(n.UseProxyRegex,"i");if(i.test(location.href))return p("Use NonLegacySfVarsRetriever because proxy regex matched"),r().get("NonLegacySfVarsRetriever");p("Proxy regex did not match")}if(n&&n.UseProxy)return p("Use NonLegacySfVarsRetriever configured"),r().get("NonLegacySfVarsRetriever");if(n&&n.UseRestApi)return p("Use LegacySfVarsRetriever configured"),r().get("LegacySfVarsRetriever");if(p("No specific sfVars retriever configured - use default"),e==t.GENERAL_SF_VARS_FEATURE){var o=t.getCurrentSfEnvironment();return m(o)}if(e==t.BASIC_SF_VARS_FEATURE)return p("Retrieving sf vars with basicSfVars",1),a};function d(){if(window.__sfdcSessionId)return n;if(c.isFeatureEnabled(t.SAME_DOMAIN_COMMUNITIES_FEATURE))return l;return o}function m(e){return g[e]}}t.SfVarsRetrieverFactory=o},function(e,t,n){var r=n(2).getCtx,i="salesforce";function o(e,t,n,o,a){var s,l,u=this;u.getType=function(){return"LegacySfVarsRetriever"},u.getUserData=function(e){return l=wmjQuery.Deferred(),a.logEvent("Using LegacySfVarsRetriever for "+o.getCurrentSfEnvironment()+" salesforce instance",{logLevel:o.LOG_LEVEL.WEEKLY}),t.injectSFConnection(function(){c(e)},function(){l.reject()}),l.promise()};function c(t){var n,i,o,a=null;try{var u=r().get("SalesForceConnection");n=u.getSforce().connection.getUserInfo()}catch(c){s(c,5),a=c.message||c}try{i=d(e.get()),o=f(n.userId,i),o=o&&o[0]||[]}catch(c){s(c,5),a||(a=c.message||c)}try{var g=p(n,t,o,i||[]);l.resolve(g)}catch(c){s(c,5),a||(a=c.message||c),l.reject(a)}}function f(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",i=r().get("SalesForceConnection"),o=i.getSforce().connection.query(n);return o.getArray("records")}}function p(e,t,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o];i[a]=e[a]}for(var o=0;o<r.length;o++)g(r[o],n,i);return i}function g(e,t,n){for(var r=t,i=e.split("."),o=0;o<i.length;o++){if(""===i[o])return;if(r=r&&r[i[o]],null===r&&o==i.length-1)return void(n[i[o]]=null);"object"==typeof r?(n[i[o]]={},n=n[i[o]]):n[i[o]]=r}}function d(e){var t=e.Settings.sfCustomVars;return t||[]}function m(){s=n.wrapCustomerLog(i)}m.apply(null,arguments)}t.LegacySfVarsRetriever=o},function(e,t,n){var r=n(13),i="salesforce";function o(e,t,o,a,s,l,u,c){var f,p,g,d,m,h,v,y=this,w={},S=!1,E=n(21),b=r("sfVarsIframeLoadTimeout",500),C="walkme-sf-vars-iframe",x="wm-sf-vars-proxy";function L(){p=e.wrapCustomerLog(i)}y.getType=function(){return"NonLegacySfVarsRetriever"},y.getUserData=function(e){return f=wmjQuery.Deferred(),u.logEvent("Using NonLegacySfVarsRetriever for "+s.getCurrentSfEnvironment()+" salesforce instance",{logLevel:s.LOG_LEVEL.WEEKLY}),!E.skipLastFailCheck&&_()?f.reject(s.MESSAGES.SKIP_AFTER_FAILURE):(e=l.extractUserContextVars(e,w),e=l.mapLegacyToNonLegacyVars(e),e.length?A(e.join(",")):f.reject(s.MESSAGES.VARS_LIST_EMPTY)),f.promise()};function _(){var e=a.getData(s.SF_VARS_LAST_FAIL_KEY);return!!e}function A(e){var t=s.getCurrentSfEnvironment();"legacy"==t&&(t="lightning");var n=s.getAppEndpointByEnvironment(t),r=s.getUrlBuilderByEnvironment(t),i=n+"?sfVars="+e,o=r.buildRequestUrl(i),a=r.getProxyIframeUrl();o?(p("SfVars endpoint - "+o),U(),T(o,V,R,a)):(I(),f.reject(s.MESSAGES.FAIL_FIND_SALESFORCE_NAME))}function T(e,n,r,i){function o(){d=t.registerEventHandler("message",r,!1,m.contentWindow||m.window);var i=c.isFeatureEnabled(s.SANDBOX_SF_VARS_IFRAME_FEATURE)?{sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"}:void 0;g=t.createIframe(e,C,!1,n,void 0,wmjQuery(m).contents().find("body")[0],!1,i)}m=t.createIframe(i,x,!1,o)}function V(){p("sfVars Non-Legacy iframe loaded",3),h&&h.clear&&h.clear();var e=F(s.MESSAGES.IFRAME_LOADED_TIMEOUT);v=o.libSetTimeout(e,b)}function U(){p("Finished creating iframe",3);var e=F(s.MESSAGES.IFRAME_CREATED_TIMEOUT);h=o.libSetTimeout(e,s.IFRAME_CREATED_TIMEOUT_TICKS)}function R(e){if(S)return;var n;try{n=t.secureEvalJSON(e.data)}catch(r){return void p("sfVars reciver unknown message: error="+r.message,5)}if(!n||!n.attributes||"User"!==n.attributes.type)return;S=!0,d&&d(),m&&wmjQuery(m).remove(),v&&v.clear&&v.clear(),n=l.mapNonLegacyDataToLegacy(n),wmjQuery.extend(!0,w,n),f.resolve(w)}function I(){k()||a.saveData(s.SF_VARS_LAST_FAIL_KEY,(new Date).getTime(),s.FAIL_EXPIRATION_TIME_SECONDS)}function k(){return"pending"!==f.state()}function F(e){return function(){t.removeIframeListeners(g,"message",R),I(),f.reject(e)}}L.apply(null,arguments)}t.NonLegacySfVarsRetriever=o},function(e,t,n){var r=n(13);e.exports={skipLastFailCheck:r("skipLastFailCheck",!1)}},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t){var n,i=this;function o(){n=e.wrapCustomerLog(r)}i.getType=function(){return"BasicSfVarsRetriever"},i.getUserData=function(){var e={},r=wmjQuery.Deferred();return window.UserContext&&window.UserContext.userId&&window.UserContext.userName&&window.UserContext.language?(e.userId=t.to18CharId(window.UserContext.userId),e.userName=window.UserContext.userName,e.userLanguage=window.UserContext.language,r.resolve(e),n("Gets basic SfVar with basicSfVars feature",1)):r.reject('Can not get sfVars from "basicSfVars" feature'),r.promise()},o.apply(null,arguments)}t.BasicSfVarsRetriever=i},function(e,t,n){var r=n(24).version,i="salesforce";function o(e,t,o,a,s,l,u){var c,f,p,g,d=this,m={},h=n(21),v="walkme-samedomain-sf-vars-iframe";function y(){f=e.wrapCustomerLog(i)}d.getType=function(){return"SameDomainIframeSfVarsRetriever"},d.getUserData=function(e){return c=wmjQuery.Deferred(),u.logEvent("Using SameDomainIframeSfVarsRetriever for "+s.getCurrentSfEnvironment()+" salesforce instance",{logLevel:u.LOG_LEVEL.WEEKLY}),!h.skipLastFailCheck&&w()?c.reject(s.MESSAGES.SKIP_AFTER_FAILURE):(e=l.extractUserContextVars(e,m),e=l.mapLegacyToNonLegacyVars(e),e.length?S(e.join(",")):c.reject(s.MESSAGES.VARS_LIST_EMPTY)),c.promise()};function w(){var e=a.getData(s.SF_VARS_LAST_FAIL_KEY);return!!e}function S(e){var t=s.getCurrentSfEnvironment(),n=s.getAppEndpointByEnvironment(t),i=s.getUrlBuilderByEnvironment(t),o=n+"?sfVars="+e+"&version="+r,o=i.buildRequestUrl(relativeUrl);o?(f("SfVars endpoint - "+o),C(),E(o,b)):(x(),c.reject(s.MESSAGES.FAIL_FIND_SALESFORCE_NAME))}function E(e,n){p=t.createIframe(e,v,!1,n)}function b(){f("sfVars Same Domain iframe loaded",3),g&&g.clear&&g.clear(),p&&wmjQuery(p).remove(),c.resolve(window.walkme_sf_vars_internal)}function C(){f("Finished creating iframe",3);var e=_(s.MESSAGES.IFRAME_CREATED_TIMEOUT);g=o.libSetTimeout(e,s.IFRAME_CREATED_TIMEOUT_TICKS)}function x(){L()||a.saveData(s.SF_VARS_LAST_FAIL_KEY,(new Date).getTime(),s.FAIL_EXPIRATION_TIME_SECONDS)}function L(){return"pending"!==c.state()}function _(e){return function(){x(),c.reject(e)}}y.apply(null,arguments)}t.SameDomainIframeSfVarsRetriever=o},function(e,t){e.exports={_args:[[{raw:"wm-sf-common-components@1.2.5",scope:null,escapedName:"wm-sf-common-components",name:"wm-sf-common-components",rawSpec:"1.2.5",spec:"1.2.5",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\wmpack-1000EzZ8kmdFKuM7\\node_modules\\wm-plugin-page-identifier-salesforce-classic"]],_from:"wm-sf-common-components@1.2.5",_id:"wm-sf-common-components@1.2.5",_inCache:!0,_location:"/wm-sf-common-components",_nodeVersion:"8.9.4",_npmUser:{},_npmVersion:"5.5.1",_phantomChildren:{},_requested:{raw:"wm-sf-common-components@1.2.5",scope:null,escapedName:"wm-sf-common-components",name:"wm-sf-common-components",rawSpec:"1.2.5",spec:"1.2.5",type:"version"},_requiredBy:["/wm-plugin-page-identifier-salesforce-classic"],_resolved:"https://npm.walkmedev.com/wm-sf-common-components/-/wm-sf-common-components-1.2.5.tgz",_shasum:"32b5b62c717c7a55585a612261f981758ecbd41e",_shrinkwrap:null,_spec:"wm-sf-common-components@1.2.5",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\wmpack-1000EzZ8kmdFKuM7\\node_modules\\wm-plugin-page-identifier-salesforce-classic",dependencies:{"wm-client-server-logger":"0.1.5","wm-jquery":"0.0.2"},description:"contributes commonly used components that were extracted from the Lib when sfVar was converted into a lego plugin",devDependencies:{browserify:"^13.0.0",grunt:"~0.4.5","grunt-git":"^0.3.7","grunt-karma":"^0.12.2","grunt-release":"^0.13.0","jasmine-ajax":"^3.3.1","jasmine-core":"~2.4.1",karma:"^0.13.22","karma-browserify":"^5.2.0","karma-chrome-launcher":"^0.2.3","karma-firefox-launcher":"^0.1.7","karma-ie-launcher":"^0.2.0","karma-jasmine":"^0.3.8","karma-junit-reporter":"^1.1.0","karma-phantomjs-launcher":"^1.0.0","load-grunt-configs":"^1.0.0","phantomjs-prebuilt":"^2.1.7",watchify:"^3.11.0","wm-di":"^0.3.0","wm-es6-promise":"^0.1.4","wm-grunt-module-validate":"0.1.2","wm-package-json-validate":"0.1.1"},dist:{integrity:"sha512-lQLPiktJd4GZNMFD5RkJHDkrQ9l+sDgJOC+VbVhmfe96T7lbAnEjwA5RI/b+EesO3ilaXucKyjeKnA/jDl5lBQ==",shasum:"32b5b62c717c7a55585a612261f981758ecbd41e",tarball:"https://npm.walkmedev.com/wm-sf-common-components/-/wm-sf-common-components-1.2.5.tgz"},main:"src/sfCommonComponents.js",name:"wm-sf-common-components",optionalDependencies:{},publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{"ci-tests":"grunt ctests",test:"grunt test"},version:"1.2.5"}},function(e,t,n){
var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i,o,a=this;function s(){i=e.wrapCustomerLog(r)}a.getType=function(){return"UnsupportedPlatformSfVarsRetriever"},a.getUserData=function(){return o=wmjQuery.Deferred(),n.logEvent("Using UnsupportedPlatformSfVarsRetriever for "+t.getCurrentSfEnvironment()+" salesforce instance",{logLevel:t.LOG_LEVEL.WEEKLY}),o.resolve(null),o.promise()},s.apply(null,arguments)}t.UnsupportedPlatformSfVarsRetriever=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i,o,a="/vf/resource/sfVarsProxy";function s(){i=e.wrapCustomerLog(r),o=n.get()}this.getProxyIframeUrl=function(){if(o.Custom&&o.Custom.sfVars&&o.Custom.sfVars.communityProxyIframeUrl)return o.Custom.sfVars.communityProxyIframeUrl;return a},this.buildRequestUrl=function(e){if(!e)return;var t,n=window.location.hostname,r=o.Custom.sfVarsCommunityBaseUrl,a=o.Custom.sfVarsCommunityBaseUrlDictionary;return r?(t="https://"+r+e,i("buildRequestUrl - with custom community base url "+t,1)):a&&a[n]?(t="https://"+a[n]+e,i("buildRequestUrl - with custom community base url dictionary "+t,1)):window.UserContext&&window.UserContext.siteUrlPrefix?(t="https://"+n+window.UserContext.siteUrlPrefix+e,i("buildRequestUrl - with regular community url plus siteUrlPrefix "+t,1)):(t="https://"+n+e,i("buildRequestUrl - with regular community url "+t,1)),i("Community sfVars endpoint - "+t,1),t},s.apply(null,arguments)}t.CommunitySfVarsUrlBuilder=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o){var a,s,l="about:blank";function u(){a=e.wrapCustomerLog(r),s=n.get()}this.getProxyIframeUrl=function(){if(s.Custom&&s.Custom.sfVars&&s.Custom.sfVars.lightningProxyIframeUrl)return s.Custom.sfVars.lightningProxyIframeUrl;return l},this.buildRequestUrl=function(e){if(!e)return;var t,n,r=window.location.hostname,i=s.Custom.sfVarsLightningBaseUrl,o=s.Custom.sfVarsLightningBaseUrlDictionary;return window.UserContext&&window.UserContext.vfDomainPattern&&(a("buildRequestUrl - window.UserContext.vfDomainPattern = ",window.UserContext.vfDomainPattern),n=window.UserContext.vfDomainPattern.replace("(?:[^.]+)*","wm4sf3").replace("(?:[^.]+)","wm4sf3")),i?(t="https://"+i+e,a("buildRequestUrl - with custom lightning base url "+t,1)):o&&o[r]?(t="https://"+o[r]+e,a("buildRequestUrl - with custom lightning base url dictionary "+t,1)):n&&(t="https://"+n+e,a("buildRequestUrl - base vfDomainPattern, the url is "+t,1)),a("Lightning sfVars endpoint - "+t,1),t},u.apply(null,arguments)}t.LightningSfVarsUrlBuilder=i},function(e,t,n){var r=n(2).getCtx;r().register("SfVarsEventLogger").asCtor(o);var i=n(12)(r());function o(){var e=this;e.logEvent=function(e,n){var r="sfVars plugin event: "+e,o=t();n||(n={plugin:null,uId:null,sfVarsResult:null}),n.plugin="sf-vars",n.sfVarsResult=e,o&&(n.uId=o),i.sendLog({message:r,extraData:n})};function t(){var e=n();return e&&e.UserGuids&&e.UserGuids[0]}function n(){return o("wmSnippet")||o("wmPlaySnippet")||o("wmPreviewSnippet")}function o(e){var t=r().get("win");if(t[e]&&t[e].getSettingsFile)return t[e].getSettingsFile()}}},function(e,t,n){n(2).getCtx;function r(e,t){var n={userName:"Username",profileId:"ProfileId",roleId:"UserRoleId",userLanguage:"LanguageLocaleKey"};this.extractUserContextVars=function(t,n){var r,i,o=window.UserContext;if(o)for(var a=t.length-1;a>=0;a--)r=t[a],i=o[r],e.isDefined(i)&&""!==i&&(n[r]=i,t.splice(a,1));return t},this.mapLegacyToNonLegacyVars=function(e){var r=[];wmjQuery.each(e,function(e,t){var i=n[t];i&&r.push(i)});var i=t.get().Settings.sfCustomVars;return i&&i.length&&(r=r.concat(i)),r},this.mapNonLegacyDataToLegacy=function(e){var r={};wmjQuery.each(e,function(t,i){var o=wmjQuery.grep(Object.keys(n),function(e){return n[e]===t});o&&o[0]&&(r[o[0]]=e[n[o[0]]])});var i=t.get().Settings.sfCustomVars;return i&&i.length&&wmjQuery.each(i,function(t,n){r[n]=e[n]}),r}}t.SfVarsMapper=r},function(e,t){e.exports={isGlobalElement:r};var n=[".bPageHeader",".sidebarCell","#AppBodyHeader","#sidebarCell",".globalHeaderBar","#globalHeaderBar"];function r(e){for(var t=wmjQuery(e),r=0;r<n.length;r++){var i=t.closest(n[r]);if(i&&i.length>0)return!0}}},function(e,t,n){var r=n(2).getCtx,i=r().get("EventsListener"),o=n(4),a=21600,s="wm-pi-fe-sf-cl",l=n(6).version,u=[l];function c(){i.once("WalkMeReady",function(){var e=r().get("Lib"),t=e.getUserGuid(),n=e.getClientStorageManager(),i=n.getData(s,void 0,t),c=u.concat(e.getEnvId()).join("_");!i||c&&i!=c?(n.saveData(s,c,a,t),o.logzioLog("info","plugin ready")):o.log("not sending to logzio"),o.log("plugin version:",l)})}e.exports=c},function(e,t,n){var r=n(2).getCtx,i=n(4);e.exports={init:u,addResult:c};var o="wm-fe-pi-sfdc",a=600,s={},l=!1;function u(){l=Math.random()<.1,r().get("WindowBeforeUnloadHandler").register(f),m()}function c(e){l&&r().has("BILogger")&&g(e),i.log("result",e)}function f(){if(l){var e=d();if(e.length>0){i.log("saving to storage",e);var t=r().get("CommonUtils").toJSON(e);v(t)}}}function p(e){return{total:0,count:0,sessionId:"",type:"sfdc",key:"pi",name:"result",reason:e}}function g(e){var t=e.reason;s[t]||(s[t]=p(t));var n=s[t];n.total++,n.count+=e.skip?1:0,n.sessionId=n.sessionId||e.currPage}function d(){var e=[];for(var t in s)e.push(s[t]);return e}function m(){if(!r().has("BILogger"))return void i.log("no BILogger in ctx");i.log("loading events from storage");var e=r().get("ClientStorageManager").getData(o);v("[]");var t=e?r().get("CommonUtils").secureEvalJSON(e):null;if(t&&t.length>0)for(var n=0;n<t.length;n++)t[n]&&t[n].total>0&&(i.log("sending to bi",t[n]),h(t[n]))}function h(e){r().has("BILogger")?r().get("BILogger").send("feperf",e):i.logzioLog("warn","no BILogger in ctx, can't send message")}function v(e){r().get("ClientStorageManager").saveData(o,e,a)}},function(e,t,n){var r=n(2).getCtx,i=r(),o=n(7),a=n(4).log,s="ExtendIdentifySettingsOnCaptureCallbacksArray";i.has(s)||i.register(s).asInstance([]),i.get(s).push(l);function l(e){var t=e.ElementDescription.SFClassicPID;return t&&t.valid&&(e.IgnorePageIdentification=t.ignore,e.IsValidPageId=t.valid),e}e.exports={extendElementDescription:u};function u(e,t){var r=JSON.parse(t),i=o.identifyCurrentPage();return r.SFClassicPID={page:i,ignore:o.shouldIgnorePage(e,i),valid:o.isValidPage(i),version:n(6).version},a("capture data",r.SFClassicPID),JSON.stringify(r)}},function(e,t,n){e.exports={pluginClass:s};var r=n(2).getCtx,i=n(7),o=n(32),a=n(4).log;function s(){this.findElement=function(e,t,r){var o=i.identifyCurrentPage(!0);if(!e.IsValidPageId)return l(!0,"invalid desc",o);if(e.IgnorePageIdentification)return l(!0,"ignore page",o);var s=e.ElementDescription,u=s.SFClassicPID,c=u&&u.page;if(u&&a("element desc version:",u.version),!i.isValidPage(c))return l(!0,"invalid desc",o);if(r&&(r.pluginName="page-identifier-salesforce-classic",r.pluginVersion=n(6).version,r.pluginCaptureVersion=u.version),!i.isSamePage(c,o))return l(!1,"not same page",o);return l(!0,"same page",o)}}function l(e,t,n){return o.addResult({skip:!e,currPage:r().get("CommonUtils").toJSON(n),reason:t}),!!e&&void 0}}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-spa-title-change@1.0.3@prelib",{name:"wm-plugin-spa-title-change",version:"1.0.3",toolbelt:"1.2.1",packageDate:"2018-06-21T13:56:57.213Z",entry:"prelib"},function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r=n(2).createPluginEntry;e.exports=r(function(e){var t=n(3).SpaTitleChange;e(new t)})},function(e,t){var n,r={createPluginEntry:a,getCtx:i};function a(e){return function(t){n=t(),e(o)}}function i(){return n.ctx}function o(e){n.plugin(e)}t.__esModule=!0,t["default"]=r,t.createPluginEntry=r.createPluginEntry,t.getCtx=r.getCtx},function(e,t,n){var r=n(2).getCtx,a=n(4).log;function i(){var e=this;e.run=u;var t,n,i;function o(){t=r().get("PromiseManager"),n=r().get("EventsListener"),i=r().get("EventsTrigger")}function u(){if(a("Running..."),!window.MutationObserver)return a("Browser does not support MutationObserver, plugin not supported"),null;var e=document.querySelector("head > title");if(!e)return a("The page/frame ("+window.location.href+") doesn't have a \"head > title\" element. Title SPA won't work"),null;var t=new MutationObserver(l());return t.observe(e,{subtree:!1,characterData:!0,childList:!0}),n.on("removeWalkMe",function(){t.disconnect()}),null}function l(){var e="";return function(t){var n=t[0].target.textContent;if(e==n)return;e=n,a("Triggering UI change - detected new title",e),r().get("UIChangeTracker").triggerUIChange()}}o()}t.SpaTitleChange=i},function(e,t,n){var r=n(2).getCtx,a=r().get("PrelibLogger");function i(){var e=Array().slice.call(arguments);e.unshift("[ SpaTitleChange ]"),a.write.apply(a,e)}t.log=i}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-page-identifier-salesforce-console@1.0.6@prelib",{name:"wm-plugin-page-identifier-salesforce-console",version:"1.0.6",toolbelt:"1.2.1",packageDate:"2018-09-12T20:32:41.578Z",entry:"prelib"},function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r=n(2).createPluginEntry;e.exports=r(function(e){var t=n(3).PageIdentifierSalesforceConsole;e(new t)})},function(e,t){var n,r={createPluginEntry:i,getCtx:o};function i(e){return function(t){n=t(),e(a)}}function o(){return n.ctx}function a(e){n.plugin(e)}t.__esModule=!0,t["default"]=r,t.createPluginEntry=r.createPluginEntry,t.getCtx=r.getCtx},function(e,t,n){var r=n(2).getCtx;function i(){var e=this;e.run=a;var t,i=function(){var e=new RegExp("/console(\\?|$|#)");return window.Ext&&null!==document.location.href.match(e)};function o(){t=r().get("EventsListener")}function a(){var e=n(4);t.once("DataLoadedEvent",function(){try{var t=n(7);t.init()}catch(i){r("error","initializing BI Logger",e.errorData(i))}}),t.once("wm_walkmeLibLoaded",function(){n(8).init().then(function(){try{if(i()){var t=n(30),o=_walkmeInternals.extendElementDescription;_walkmeInternals.extendElementDescription=function(){var e=Array.prototype.slice.call(arguments,0);return o&&(e[1]=o.apply(this,e)),t.extendElementDescription.apply(t,e)},r("info","plugin ready"),e.log("plugin version:",n(6).version)}}catch(a){r("error","initializing extendElementDescription",e.errorData(a))}})["catch"](function(t){r("error","initializing sf-entity-resolver",e.errorData(t))});try{var t=n(33).pluginClass;_makeTutorial.registerFindElementPlugin(new t)}catch(o){r("error","initializing FE plugin",e.errorData(o))}});function r(n,r,i){t.once("WalkMeReady",function(){e.logzioLog(n,r,i)})}}o()}t.PageIdentifierSalesforceConsole=i},function(e,t,n){var r=n(2).getCtx,i=r().get("PrelibLogger"),o=n(5)(r()),a="PageIdentifierSalesforceConsole";function s(){var e=Array.prototype.slice.call(arguments);e.unshift("[ PageIdentifierSalesforceConsole ]"),i.write.apply(i,e)}function l(e,t,r){s.apply(this,arguments),r=r||{},r.level=e,r.plugin=a,r.pluginVersion=n(6).version,o.sendLog(t,r)}function u(e){return{errMessage:e.message,errStack:e.stack}}t.log=s,t.logzioLog=l,t.errorData=u},function(e,t){var n,r=function(){function e(e){var t=this;this._ctx=e,this._messageQueue=[],this._eventsListener=e.get("EventsListener"),this._eventsListener.on("DataLoadedEvent",function(){t._eventSenderErrorLogger||(t._eventSenderErrorLogger=t._ctx.get("EventSenderErrorLogger"),t.emptyQueue())})}return e.prototype.sendLog=function(e,t){if(!e)return;if(!this._eventSenderErrorLogger)return void this.pushToQueue(e,t);this._eventSenderErrorLogger.logError(e,t)},e.prototype.pushToQueue=function(e,t){this._messageQueue.push({message:e,extraData:t})},e.prototype.emptyQueue=function(){for(var e=0;e<this._messageQueue.length;e++)this._eventSenderErrorLogger.logError(this._messageQueue[e].message,this._messageQueue[e].extraData);this._messageQueue=null},e}();e.exports=function(e){return n?n:n=new r(e)}},function(e,t){e.exports={_args:[[{raw:"wm-plugin-page-identifier-salesforce-console@1.0.6",scope:null,escapedName:"wm-plugin-page-identifier-salesforce-console",name:"wm-plugin-page-identifier-salesforce-console",rawSpec:"1.0.6",spec:"1.0.6",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\wmpack-1000kduo9yyQ2np1"]],_from:"wm-plugin-page-identifier-salesforce-console@1.0.6",_id:"wm-plugin-page-identifier-salesforce-console@1.0.6",_inCache:!0,_location:"/wm-plugin-page-identifier-salesforce-console",_phantomChildren:{},_requested:{raw:"wm-plugin-page-identifier-salesforce-console@1.0.6",scope:null,escapedName:"wm-plugin-page-identifier-salesforce-console",name:"wm-plugin-page-identifier-salesforce-console",rawSpec:"1.0.6",spec:"1.0.6",type:"version"},_requiredBy:["/"],_resolved:"https://npm.walkmedev.com/wm-plugin-page-identifier-salesforce-console/-/wm-plugin-page-identifier-salesforce-console-1.0.6.tgz",_shasum:"6c2a741614393750e2166b66e43a1b8a2d640d56",_shrinkwrap:null,_spec:"wm-plugin-page-identifier-salesforce-console@1.0.6",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\wmpack-1000kduo9yyQ2np1",dependencies:{"coffee-script":"^1.12.7","wm-logzio-sender":"1.1.0","wm-prelib-plugin-entry-manager":"0.1.0","wm-sf-common-components":"1.2.5"},description:"Identify pages in SalesForce Console. Save it on ElementDescription for automatic segmentation.",devDependencies:{browserify:"^13.0.1",eslint:"4.10.0",grunt:"~0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-copy":"1.0.0","grunt-contrib-watch":"^0.6.1","grunt-git":"^0.3.7","grunt-release":"^0.13.0",watchify:"^3.7.0","wm-grunt-module-validate":"0.1.2","wm-package-json-validate":"0.1.1","wm-plugins-core":"^2.6.2"},dist:{shasum:"6c2a741614393750e2166b66e43a1b8a2d640d56",tarball:"https://npm.walkmedev.com/wm-plugin-page-identifier-salesforce-console/-/wm-plugin-page-identifier-salesforce-console-1.0.6.tgz"},legoDirectoryName:"c:\\Projects\\lego\\wm-plugin-page-identifier-salesforce-console",main:"src/main.js",name:"wm-plugin-page-identifier-salesforce-console",optionalDependencies:{},peerDependencies:{},pluginType:"core-product",publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{build:"grunt build",lint:'eslint "./src/*.js"',postbuild:"npm run lint",prepublish:"npm run build",test:"grunt test",validate:"grunt validate-code",watch:"grunt watch"},version:"1.0.6",wmCommit:"9e5d3ce1da6db66dfdeddd58e1c7e83af07f2ebc",wmLegoProject:"wm-plugin-page-identifier-salesforce-console",wmRepublishDate:"2018-09-12T15:55:45.948Z",wmRepublishOriginalVersion:"1.0.6-rc.2"}},function(e,t,n){var r=n(2).getCtx,i=n(4);e.exports={init:u,addResult:f};var o="wm-fe-pi-sfco",a=600,s={},l=Math.random()<.1;function u(){c(),r().get("WindowBeforeUnloadHandler").register(g),p()}function c(){i.log("registering"),r().get("UIChangeTracker").bind(function(){l&&m(),l=Math.random()<.1})}function f(e){i.log("result",e),l&&v(e)}function p(){if(!r().has("BILogger"))return void i.log("no BILogger in ctx");i.log("loading events from storage");var e=r().get("ClientStorageManager").getData(o);d("[]");var t=e?r().get("CommonUtils").secureEvalJSON(e):null;if(t&&t.length>0)for(var n=0;n<t.length;n++)i.log("sending to bi",t[n]),w(t[n])}function d(e){r().get("ClientStorageManager").saveData(o,e,a)}function g(){if(l){var e=y(s);if(e.length>0){i.log("saving to storage",e);var t=r().get("CommonUtils").toJSON(e);d(t)}}}function m(){var e=y(s);if(e.length>0)for(var t=0;t<e.length;t++)e[t]&&e[t].total>0&&(i.log("trying to send to bi",e[t]),w(e[t]));s={}}function h(e){return{total:0,count:0,sessionId:"",type:"sfco",key:"pi",name:"result",reason:e}}function v(e){var t=e.reason;s[t]||(s[t]=h(t));var n=s[t];n.total++,n.count+=e.skip?1:0,n.sessionId=n.sessionId||r().get("CommonUtils").toJSON(e.currPage)}function y(e){var t=[];for(var n in e)t.push(e[n]);return t}function w(e){r().has("BILogger")?(i.logzioLog("warn","no BILogger in ctx. cannot send message"),r().get("BILogger").send("feperf",e)):i.log("warn","no BILogger in ctx, can't send message")}},function(e,t,n){var r=n(2).getCtx,i=n(4).log,o=n(9),a={};e.exports={init:s,mapKeyToName:function(e){return a[e]}};function s(){var e=r(),t=e.get("PromiseManager");return new t.Promise(function(t){e.has("SalesForceConnectionUtils")||o(e),e.has("SalesForceConnectionUtils")?e.get("SalesForceConnectionUtils").injectSFConnection(function(){try{var n,r,o;if(n=e.has("SalesForceConnection")?e.get("SalesForceConnection").getSforce():window.sforce,n&&(r=n.connection.describeGlobal(),o=r.getArray("sobjects")),o&&o.length){a={};for(var s=0;s<o.length;s++){var l=o[s].keyPrefix;l&&(a[l]=o[s].name)}}}catch(u){i("failed getting info from sforce connection",u)}t()},function(){t()}):t()})}},function(e,t,n){var r=n(10).SalesForceManager,i=n(11).SfVarsUtils,o=n(14).SalesForceVarsExtractor,a=n(15).SalesForceSearcher,s=n(16).SalesForceConnectionUtils,l=n(17).SalesForceConnection,u=n(18).SfVarsRetrieverFactory,c=n(19).LegacySfVarsRetriever,f=n(20).NonLegacySfVarsRetriever,p=n(22).BasicSfVarsRetriever,d=n(23).SameDomainIframeSfVarsRetriever,g=n(25).UnsupportedPlatformSfVarsRetriever,m=n(26).CommunitySfVarsUrlBuilder,h=n(27).LightningSfVarsUrlBuilder,v=(n(28),n(29).SfVarsMapper);!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=n:t.sfCommonComponents=n}(this,function(e){var t=e.get("PrelibLogger");function n(){e.register("BasicSfVarsRetriever").asCtor(p).dependencies("Logger, SfVarsUtils, SfVarsEventLogger"),e.register("UnsupportedPlatformSfVarsRetriever").asCtor(g).dependencies("Logger, SfVarsUtils, SfVarsEventLogger"),e.register("CommunitySfVarsUrlBuilder").asCtor(m).dependencies("Logger, CommonUtils, SiteConfigManager"),e.register("LegacySfVarsRetriever").asCtor(c).dependencies("SiteConfigManager, SalesForceConnectionUtils, Logger, SfVarsUtils, SfVarsEventLogger"),e.register("LightningSfVarsUrlBuilder").asCtor(h).dependencies("Logger, CommonUtils, SiteConfigManager, SfVarsUtils"),e.register("NonLegacySfVarsRetriever").asCtor(f).dependencies("Logger, CommonUtils, TimerManager, ClientStorageManager, SfVarsUtils, SfVarsMapper, SfVarsEventLogger, FeaturesManager"),e.register("SameDomainIframeSfVarsRetriever").asCtor(d).dependencies("Logger, CommonUtils, TimerManager, ClientStorageManager, SfVarsUtils, SfVarsMapper, SfVarsEventLogger"),e.register("SalesForceConnection").asCtor(l).dependencies("CookiesManager, Logger, SfVarsUtils"),e.register("SalesForceConnectionUtils").asCtor(s).dependencies(""),e.register("SalesForceManager").asCtor(r).dependencies("CommonUtils, SalesForceVarsExtractor,SalesForceSearcher, SfVarsRetrieverFactory, SfVarsUtils, Logger, TimerManager, SiteConfigManager, ResourceManager, SfVarsEventLogger"),e.register("SalesForceSearcher").asCtor(a).dependencies("Logger,SiteConfigManager,SalesForceConnectionUtils"),e.register("SalesForceVarsExtractor").asCtor(o).dependencies("Logger, SfVarsUtils, ClientStorageManager, CommonUtils, CommonEvents, Consts, AuditSourceManager, SfVarsEventLogger"),e.register("SfVarsMapper").asCtor(v).dependencies("CommonUtils, SiteConfigManager"),e.register("SfVarsRetrieverFactory").asCtor(u).dependencies("Logger, SfVarsUtils, LegacySfVarsRetriever, NonLegacySfVarsRetriever, BasicSfVarsRetriever, UnsupportedPlatformSfVarsRetriever, SameDomainIframeSfVarsRetriever, SfVarsEventLogger, FeaturesManager"),e.register("SfVarsUtils").asCtor(i).dependencies("LibDestroyer, Logger, TimerManager, FeaturesManager, SfVarsEventLogger")}if(!e.has("SfVarsUtils"))return t.write("wm-sf-common-components: contributing components to ctx"),void n();t.write("wm-sf-common-components: sfVarsUtils found, not contributing components to ctx")})},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o,a,s,l,u,c){var f,p,d=".oneHomeCardListDesktop",g="sfVarsBlacklist",m="#WM_EXT_IFRAME {display:none !important}",h="walkme-extention-tile-hide",v=200,y=this,w=a.wrapCustomerLog(r),S=!1;function E(){L()}y.init=function(e){f=I(),f&&!b()?(w("Start to extract sfVars",2),V(e)):e&&e()};function b(){var e=C();if(e instanceof Array)for(var t=0;t<e.length;t++)if(location.href.indexOf(e[t])>-1)return!0}function C(){return _walkMe.getSiteConfig().Custom[g]}function x(){return"lightning"==o.getCurrentSfEnvironment()}function L(){if(!window.WalkMe_Extension)return;var e=window.location.href;e.indexOf("lightning.force")>-1&&(p=0,A())}y.removeIFrame=function(){_featuresManager.isFeatureEnabled("keepSFFrame")||(x()?T():wmjQuery("iframe[title*='WM_EXT_IFRAME']").remove())};function T(){u.injectCss(m,h)}function A(){if(p<v){var e=wmjQuery('li:has(div:contains("WalkMe"))',d);0==e.length?(p++,s.libSetTimeout(A,300)):(e.remove(),S=!0,w("walkme SF action bar removed due to exsiting extension",2))}}function V(e){var n=_();if(n.neededInfoExists){w("Find window.UserContext",2);var r=i.getSfVarsRetriever(f);if(!r)return void a("Can't get any right sfRetriever",{errType:"sfVarsFailure",logLevel:o.LOG_LEVEL.WEEKLY,sfEnv:o.getCurrentSfEnvironment()});w("Got the right sfRetriever",2),t.extractSalesForceVars(e,r)}else a("sfVars failed to load - "+n.message,{errType:"sfVarsFailure",logLevel:o.LOG_LEVEL.DAILY});function a(t,n){c.logEvent(t,n),e&&e()}}y.search=function(e,t){n.search(e,t)};function _(){var e=o.getCurrentSfEnvironment();if(!e)return{neededInfoExists:!1,message:"No environment found"};var t="lightning"==e;if(t)return R();return U()}function U(){var e=!(!window.UserContext||"undefined"==typeof window.UserContext.userId);return{neededInfoExists:e,message:e?"":"There is no UserContext on the page"}}function R(){var e=l.get().Custom.sfVarsLightningBaseUrl;if(e)return{neededInfoExists:!0};var t=U().neededInfoExists&&window.UserContext.vfDomainPattern;return{neededInfoExists:t,message:t?"":"There is no UserContext on the page and/or missing vfDomain Pattern"}}function I(){if(o.isAnySFVarsFeatureEnabled())return o.BASIC_SF_VARS_FEATURE;return o.GENERAL_SF_VARS_FEATURE}E.apply(null)}t.SalesForceManager=i},function(e,t,n){var r=n(2).getCtx,i="salesforce",o=n(12)(r()),a=n(13);function s(e,t,n,s,l){var u,c=this,f=(t.wrapCustomerLog(i),{legacy:{ctxUrlBuilderName:"",separatedFeatureName:"legacySfVars",appEndpoint:""},lightning:{ctxUrlBuilderName:"LightningSfVarsUrlBuilder",separatedFeatureName:"lightningSfVars",appEndpoint:"/apex/vf_WalkMeSfVars"},"community-classic":{ctxUrlBuilderName:"CommunitySfVarsUrlBuilder",separatedFeatureName:"communitiesSfVars",appEndpoint:"/apex/WM4SF3__vf_WalkMeSfVars"}});c.LOG_LEVEL=o.ConstsLogLevel,c.BASIC_SF_VARS_FEATURE="basicSfVars",c.SAME_DOMAIN_COMMUNITIES_FEATURE="sameDomainCommunities",c.SANDBOX_SF_VARS_IFRAME_FEATURE="sandboxSfVarsIframe",c.SF_VARS_LAST_FAIL_KEY="walkme-sf-vars-last-fail",c.IFRAME_CREATED_TIMEOUT_TICKS=a("iframeCreatedTimeout",1e4),c.FAIL_EXPIRATION_TIME_SECONDS=14400,c.MESSAGES={SKIP_AFTER_FAILURE:"skip loading due to a failure in the last 4 hours",VARS_LIST_EMPTY:"list to extract was empty",DATA_HAS_NO_VAL:"nonLegacy sfVars postback data was ",IFRAME_CREATED_TIMEOUT:"10 seconds passed since iframe was created",IFRAME_LOADED_TIMEOUT:"0.5 seconds passed since iframe was loaded",FAIL_FIND_SALESFORCE_NAME:"Couldn't determine endpoint for more than 7 seconds"},c.GENERAL_SF_VARS_FEATURE="sfVars";function p(){}function d(){if(g())return"legacy";if(m())return"lightning";if(v())return l.logEvent("community classic salesforce instance",{logLevel:c.LOG_LEVEL.WEEKLY}),"community-classic";if(h())return l.logEvent("community lightning salesforce instance",{logLevel:c.LOG_LEVEL.WEEKLY}),"community-lightning"}c.getCurrentSfEnvironment=function(){if(u)return u;return u=d()},c.isCommunityFeatureOrEnvironment=function(){return s.isFeatureEnabled("sfCommunity")||"community-classic"===c.getCurrentSfEnvironment()},c.getAppEndpointByEnvironment=function(e){return f[e]&&f[e].appEndpoint},c.getUrlBuilderByEnvironment=function(e){var t=f[e]&&f[e].ctxUrlBuilderName;return r().get(t)},c.isAnySFVarsFeatureEnabled=function(){return s.isFeatureEnabled(c.BASIC_SF_VARS_FEATURE)&&!s.isFeatureEnabled(c.GENERAL_SF_VARS_FEATURE)},c.to18CharId=function(e){if(null==e||18==e.length)return e;if(e=e.replace(/\"/g,""),15!=e.length)return null;for(var t="",n=0;n<3;n++){for(var r=0,i=0;i<5;i++){var o=e.charAt(5*n+i);"A"<=o&&"Z">=o&&(r+=1<<i)}t=25>=r?t+"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r):t+"012345".charAt(r-26)}return e+t};function g(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!m()}function m(){var e=new RegExp("/one/one\\.app.*"),t=new RegExp("/lightning/");return e.test(window.location.pathname)||t.test(window.location.pathname)}function h(){return!g()&&!m()&&window.UserContext&&window.Aura}function v(){return!g()&&!m()&&window.UserContext&&!window.Aura}p.apply(null,arguments)}t.SfVarsUtils=s},function(e,t,n){function r(e){var t,r,i,o=this,a=864e5,s=365*a*10,l=7*a,u={ALWAYS:1,DAILY:2,WEEKLY:3,ONCE:4},c={};o._messageQueue=[],o.ConstsLogLevel=u,o.sendLog=g;function f(){o._logsIoSender=n(5)(e),t=e.get("EventsListener"),t.on("BeforeStorageLoadedCallback",p),d()}function p(){return e.create("Promise",function(t){r=e.get("PrelibLogger"),i=e.get("ClientStorageManager"),m(),t()})}function d(){c[u.ALWAYS]=function(){return!0},c[u.ONCE]=v(s),c[u.WEEKLY]=v(l),c[u.DAILY]=v(a)}function g(e){if(!i)return void o._messageQueue.push(e);r.write(e.message),h(e)&&o._logsIoSender.sendLog(e.message,e.extraData)}function m(){o._messageQueue.forEach(function(e){o.sendLog(e)}),o._messageQueue=[]}function h(e){if(!e.message||!c[e.extraData.logLevel])return!1;return c[e.extraData.logLevel](e.message)}function v(e){return function(t){var n=y(window._walkMe.getUserGuid(),window._walkMe.getEndUserGuid(),t),r=i.getData(n)||-1,o=(new Date).getTime();if(o-e>r)return i.saveData(n,o,e),!0;return!1}}function y(e,t,n){var r=e+t+n.split(" ").join("");return w(r)}function w(e){var t,n,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return""+r}f()}var i;e.exports=function(e){return i||(i=new r(e)),i}},function(e,t,n){var r=n(2).getCtx;e.exports=function(e,t){if(!e)return t;var n=r().get("ObjectJpath"),i=r().get("SiteConfigManager").get().Custom;return n.getValue(i,"sfVars."+e)||t}},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o,a,s,l){var u,c,f=this,p="wm-sf-users-data_"+s.get(),d="wm-sf-lst-usr",g=63072e3,m=864e5,h=86400,v=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];f.extractSalesForceVars=function(e,n){c=e;try{var r=y("wm-expirationCookie");r&&(m=parseInt(r));var i=w(),o=b();C(o,i,n).then(function(e){L(e.userData,e.isPrev),e.isPrev||l.logEvent("OK",{retrieverType:n.getType(),logLevel:t.LOG_LEVEL.WEEKLY})}).fail(function(e){s("Failed getting user data. Message: "+e)})}catch(a){s("unknown error getting walkmeSfVars: "+(a.message||a))}function s(e){l.logEvent("FAIL",{errorMsg:e,retrieverType:n.getType(),errType:"sfVarsFailure",logLevel:t.LOG_LEVEL.ALWAYS}),c&&c()}};function y(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=wmjQuery.trim(n[r]);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function w(){if(window.UserContext&&window.UserContext.userId){var e=t.to18CharId(window.UserContext.userId);if(S(e),e)return e}var n=E();if(n)return n;u("No UserContext on window. Can't get userId")}function S(e){e&&n.saveData(d,e,h)}function E(){return n.getData(d)}function b(){var e=n.getData(p);if(e)return i.secureEvalJSON(e)}function C(e,t,n){var r=wmjQuery.Deferred(),i=e&&e[t];return!i||x(i)?n.getUserData(v).then(function(e){u("Get sfVars from server"),r.resolve({userData:e,isPrev:!1})}).fail(function(e){i?(u("reuse sfVars that already expired"),r.resolve({userData:i,isPrev:!0})):(u("no sfVars"),r.reject(e))}):(u("sfVars is already exist"),r.resolve({userData:i,isPrev:!0})),r.promise()}function x(e){if(e.lastModified){var t=(new Date).getTime();if(t-m<e.lastModified)return!1}return!0}function L(t,n){t?(n||T(w(),t),window.walkme_sf_vars=t,delete window.walkme_sf_vars.lastModified,o.raiseEvent(a.EVENTS.SalesForceVarsExposed),u("sales force var were exposed",5)):u("no user data for user: "+w(),5);try{c&&c()}catch(r){e.error(r,"error during callback in extract sf vars: exposeData")}}function T(e,t){if(!e)return;var r=b();r||(r={}),r[e]=t,r[e].lastModified=(new Date).getTime();var o=i.toJSON(r);o&&n.saveData(p,o,g)}function A(){u=e.wrapCustomerLog(r)}A.apply(null,arguments)}t.SalesForceVarsExtractor=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i,o=this,a="Account (Id, Name), Contact (Id, Name), Opportunity (Id, Name), Lead (Id, Name)",s="";o.search=function(e,t){n.injectSFConnection(function(n){l(n,e,t)},function(){t(s)})};function l(e,n,r){var o=s;try{var l=t.get().Settings.sfSearch||a;o=e.connection.search("find {"+n+"*} RETURNING "+l)}catch(u){i("unknown error getting search results: "+u.message)}r(o)}function u(){i=e.wrapCustomerLog(r)}u.apply(null,arguments)}t.SalesForceSearcher=i},function(e,t,n){var r=n(2).getCtx;function i(){var e=this;e.injectSFConnection=function(e,t){var n=r().get("SalesForceConnection"),i=n.getSforce();i?e&&e(i):t()}}t.SalesForceConnectionUtils=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i=window,o={},a=t.wrapCustomerLog(r),s=!1,l="undefined"!=typeof i.UserContext?i.UserContext:{siteUrlPrefix:"",getUrl:function(e){if("undefined"==typeof e||"undefined"==typeof l.siteUrlPrefix||!l.siteUrlPrefix)return e;if(0!=e.indexOf("/"))return e;if(0==e.indexOf(l.siteUrlPrefix))return e;return l.siteUrlPrefix+e}};this.getSforce=function(){if(s)return o;return null},o.internal={},o.StringBuffer=function(){this.buffer=[],this.append=function(e){return this.buffer.push(e),this},this.toString=function(){return this.buffer.join("")}},o.Base64Binary=function(e){this.input=e},o.Base64Binary.prototype.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.Base64Binary.prototype.toString=function(){var e,t,n,r,i,o=[],a="",s="",l=0;do e=this.input.charCodeAt(l++),t=this.input.charCodeAt(l++),a=this.input.charCodeAt(l++),n=e>>2,r=(3&e)<<4|t>>4,i=(15&t)<<2|a>>6,s=63&a,isNaN(t)?i=s=64:isNaN(a)&&(s=64),o.push(this.keyStr.charAt(n)+this.keyStr.charAt(r)+this.keyStr.charAt(i)+this.keyStr.charAt(s)),e=t=a="",n=r=i=s="";while(l<this.input.length);return o.join("")},o.Base64Binary.prototype.decode=function(e){var t,n,r,i,o,s=[],l="",u="",c=0,f=/[^A-Za-z0-9\+\/\=]/g;f.exec(e)&&a("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/', and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.keyStr.indexOf(e.charAt(c++)),i=this.keyStr.indexOf(e.charAt(c++)),o=this.keyStr.indexOf(e.charAt(c++)),u=this.keyStr.indexOf(e.charAt(c++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,l=(3&o)<<6|u,s.push(String.fromCharCode(t)),64!=o&&s.push(String.fromCharCode(n)),64!=u&&s.push(String.fromCharCode(l)),t=n=l="",r=i=o=u="";while(c<e.length);return s.join("")},o.internal.dateToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return n+"-"+r+"-"+i},o.internal.dateTimeToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getTimezoneOffset(),u=l<0?"+":"-";l=Math.abs(l);var c=l/60,f=l%60;s<=9&&(s="0"+s);var p=t.getMilliseconds();0!==p&&(p="."+p,p.length>4&&(p=p.substring(0,4)),s+=p);var d;return 0===l?d="Z":(f<10&&(f="0"+f),c<10&&(c="0"+c),d=u+c+":"+f),r<=9&&(r="0"+r),i<=9&&(i="0"+i),o<=9&&(o="0"+o),a<=9&&(a="0"+a),n+"-"+r+"-"+i+"T"+o+":"+a+":"+s+d},o.internal.stringToDate=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),10!=e.length)throw"Unable to parse date, "+e+" length != 10";if("-"!=e.charAt(4)||"-"!=e.charAt(7))throw"Unable to parse date";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),o=new Date(n,r-1,i,0,0,0);return o.setMilliseconds(0),o},o.internal.stringToDateTime=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),e.length<19)throw"Unable to parse dateTime";if("-"!=e.charAt(4)||"-"!=e.charAt(7)||"T"!=e.charAt(10))throw"Unable to parse dateTime";if(":"!=e.charAt(13)||":"!=e.charAt(16))throw"Unable to parse dateTime";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),a=e.substring(11,13),s=e.substring(14,16),l=e.substring(17,19),u=new Date(n,r-1,i,a,s,l),c=19;if(c<e.length&&"."==e.charAt(c)){for(var f=0,p=++c;c<e.length&&o.internal.isDigit(e.charAt(c));)c++;var d=e.substring(p,c);3==d.length?f=d:d.length<3?f=(d+"000").substring(0,3):(f=d.substring(0,3),d.charAt(3)>="5"&&++f),u.setMilliseconds(f)}var g=6e4*u.getTimezoneOffset();if(c+5<e.length&&("+"==e.charAt(c)||"-"==e.charAt(c))){if(!(o.internal.isDigit(e.charAt(c+1))&&o.internal.isDigit(e.charAt(c+2))&&":"==e.charAt(c+3)&&o.internal.isDigit(e.charAt(c+4))&&o.internal.isDigit(e.charAt(c+5))))throw"Unable to parse dateTime";var m=10*(e.charAt(c+1)-"0")+e.charAt(c+2)-"0",h=10*(e.charAt(c+4)-"0")+e.charAt(c+5)-"0",v=60*(60*m+h)*1e3;"+"==e.charAt(c)&&(v=-v),u=new Date(u.getTime()-g+v),c+=6}if(c<e.length&&"Z"==e.charAt(c)&&(c++,u=new Date(u.getTime()-g)),c<e.length)throw"Unable to parse dateTime";return u},o.internal.isDigit=function(e){return"0"==e||"1"==e||"2"==e||"3"==e||"4"==e||"5"==e||"6"==e||"7"==e||"8"==e||"9"==e},o.Xml=function(e){},o.Xml.prototype.toXml=function(e,t,n){n.writeStartElement(t,e),this._xsiType&&n.writeXsiType(this._xsiType);for(var r in this)if("_name"==r||"_xsiType"==r);else{var i=this[r];if("function"!=typeof i)if("array"==typeof i)for(var o=0;o<i.length;o++)this.writeValue(e,n,r,i[o]);else this.writeValue(e,n,r,i)}n.writeEndElement(t,e)},o.Xml.prototype.writeValue=function(e,t,n,r){if(null===r)return void t.writeNameValueNode("fieldsToNull",n);if("undefined"==typeof r)return;r.toXml?r.toXml(e,n,t):t.writeNameValueNode(n,r)},o.Xml.prototype.get=function(e){return this[e]?this[e]:null},o.Xml.prototype.set=function(e,t){this[e]=t},o.Xml.prototype.getArray=function(e){var t=this[e];return t?t.join?t:[t]:[]},o.Xml.prototype.getBoolean=function(e){return"true"==this[e]},o.Xml.prototype.getDate=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDate(this[e]):null},o.Xml.prototype.getDateTime=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDateTime(this[e]):null},o.Xml.prototype.getInt=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseInt(this[e],10);throw"Unable to parse int field: "+e},o.Xml.prototype.getFloat=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseFloat(this[e]);throw"Unable to parse float field: "+e},o.Xml.prototype.getBase64Binary=function(e){if(this[e])return o.Base64Binary.prototype.decode(this[e]);throw"Unable to parse base64Binary field: "+e},o.Xml.prototype.toString=function(){var e=new o.StringBuffer;e.append("{");for(var t in this){var n=this[t];if(n)if("object"==typeof n)e.append(t).append(":").append(n.toString());else if(n.join){e.append(t).append(":").append("[");for(var r=0;r<n.length;r++)e.append(n[r]),r<n.length-1&&e.append(", ");e.append("]")}else{if("function"==typeof n)continue;e.append(t).append(":").append("'"+n+"'")}else e.append(t).append(":").append(""+n);e.append(", ")}return e.append("}"),e.toString()},o.internal.Debug=function(){this.output=null,this.trace=!1,this.apexTrace=!1,this.win=null,this.traceQueue=[],this.quiet=!1,this.open=function(){this.println("","print")},this.println=function(e,t){if(this.quiet)return;if("function"==typeof println)return void println(e,t);null!==this.win&&this.win.document||(this.output=null,this.win=i.open("undefined"!=typeof i.UserContext?l.getUrl("/soap/ajax/29.0/debugshell.html"):"/soap/ajax/29.0/debugshell.html","","width=800,height=400,toolbar=no,location=no,directories=no,alwaysRaised=yes,status=no,menubar=no,scrollbars=yes,copyhistory=yes,resizable=yes")),null===this.output&&this.findOutput(),null!==this.output?(o.debug.traceQueue.length>0&&this.traceCallback(),this.win.println(e,t)):(o.debug.traceQueue.push({message:e,type:t}),setTimeout(o.debug.traceCallback,1e3))},this.traceCallback=function(){if(o.debug.findOutput(),null===o.debug.output)return void setTimeout(o.debug.traceCallback,1e3);for(var e=0;e<o.debug.traceQueue.length;e++){var t=o.debug.traceQueue[e];o.debug.win.println(t.message,t.type)}o.debug.traceQueue=[]},this.findOutput=function(){return null===this.output&&(this.output=this.win.document.getElementById("output")),this.output},this.logXml=function(e){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e="<textarea cols=80 rows=5 wrap=hard>"+e+"</textarea>",this.println(e,"printxml")},this.log=function(e){this.println(e,"print")},this.logApex=function(e){var t=e.indexOf("<debugLog>"),n=e.indexOf("</debugLog>");t===-1?t=0:t+="<debugLog>".length,n===-1&&(n=e.length);var r=e.substring(t,n);this.println(r,"printxml")}},o.debug=new o.internal.Debug,o.internal._connections=[],o.internal.ConnectionHolder=function(e,t){this.connection=e,this.callback=t,this.timedout=!1},o.Transport=function(e){this.url=e,this.connection=null,this.newConnection=function(){try{this.connection=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.connection=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.connection=new XMLHttpRequest}}return this.connection},this.send=function(e,t,n,r){this.newConnection(),n&&(this.connection.onreadystatechange=this.httpConnectionCallback);var i=new o.internal.ConnectionHolder(this.connection,t);o.internal._connections.push(i),this.connection.open("POST",this.url,n),this.connection.setRequestHeader("Content-Type","text/xml; charset=UTF-8"),this.connection.setRequestHeader("SOAPAction",'""'),this.connection.setRequestHeader("Accept","text/xml"),this.connection.send(e),n&&"undefined"!=typeof r&&this.setTimeoutOn(i,r),n||this.httpConnectionCallback()},this.setTimeoutOn=function(e,t){function n(){4!==e.connection.readyState&&(e.timedout=!0,e.connection.abort())}setTimeout(n,t)},this.httpConnectionCallback=function(){for(var e=0;e<o.internal._connections.length;e++){var t=o.internal._connections[e];if(null!==t)if(t.timedout)o.internal._connections[e]=null,o.internal._connections.slice(e,1),t.callback.httpCallback("Remote invocation timed out",!1);else if(4==t.connection.readyState){o.internal._connections[e]=null,o.internal._connections.slice(e,1);var n=200==t.connection.status;o.debug.trace&&(o.debug.log("Response : status - "+t.connection.status),o.debug.logXml(t.connection.responseText)),o.debug.apexTrace&&o.debug.logApex(t.connection.responseText),t.connection.responseXML&&t.connection.responseXML.documentElement?t.callback.httpCallback(t.connection.responseXML.documentElement,n):t.callback.httpCallback("Remote invocation failed, due to: "+t.connection.responseText+" status code: ",t.connection.status)}}}},o.XmlWriter=function(){this.buffer=new o.StringBuffer,this.namespaces={},this.prefixCount=0,this.writingStartElement=!1},o.XmlWriter.prototype.writeStartElement=function(e,t,n){this.writingStartElement&&this.buffer.append(">"),this.buffer.append("<");var r=!1;t&&(this.namespaces[t]||""===this.namespaces[t]||(r=!0),n||(n=this.getPrefix(t)),null!==n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))),this.buffer.append(e),r===!0&&this.writeNamespace(t,n),this.writingStartElement=!0},o.XmlWriter.prototype.writeEndElement=function(e,t){if(this.writingStartElement)this.buffer.append("/>");else{if(this.buffer.append("</"),t){var n=this.getPrefix(t);n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))}this.buffer.append(e),this.buffer.append(">")}this.writingStartElement=!1},o.XmlWriter.prototype.writeNamespace=function(e,t){t&&""!==t?(this.namespaces[e]=t,this.buffer.append(" "),this.buffer.append("xmlns:"),this.buffer.append(t)):(this.namespaces[e]="",this.buffer.append(" "),this.buffer.append("xmlns")),this.buffer.append('="'),this.buffer.append(e),this.buffer.append('"')},o.XmlWriter.prototype.writeText=function(e){if(!this.writingStartElement)throw"Can only write text after a start element";this.buffer.append(">"),this.writingStartElement=!1,"string"==typeof e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")),this.buffer.append(e)},o.XmlWriter.prototype.writeXsiType=function(e){this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:type",e)},o.XmlWriter.prototype.writeAttribute=function(e,t){
this.buffer.append(" "+e+'="'+t+'"')},o.XmlWriter.prototype.getPrefix=function(e){var t=this.namespaces[e];if(!t&&""!==t)return t="ns"+this.prefixCount,this.prefixCount++,this.namespaces[e]=t,t;return t},o.XmlWriter.prototype.toString=function(){return this.buffer.toString()},o.XmlWriter.prototype.soapNS="http://schemas.xmlsoap.org/soap/envelope/",o.XmlWriter.prototype.startEnvelope=function(){this.writeStartElement("Envelope",this.soapNS,"se")},o.XmlWriter.prototype.endEnvelope=function(){this.writeEndElement("Envelope",this.soapNS)},o.XmlWriter.prototype.startHeader=function(){this.writeStartElement("Header",this.soapNS,"se")},o.XmlWriter.prototype.endHeader=function(){this.writeEndElement("Header",this.soapNS)},o.XmlWriter.prototype.startBody=function(){this.writeStartElement("Body",this.soapNS,"se")},o.XmlWriter.prototype.endBody=function(){this.writeEndElement("Body",this.soapNS)},o.XmlWriter.prototype.writeNameValueNode=function(e,t){if(null===t)return this.writeStartElement(e),this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:nill","true"),void this.writeEndElement(e);if(t.toUTCString&&(t=o.internal.dateTimeToString(t)),"boolean"==typeof t&&(t=t?"true":"false"),t&&t.join)for(var n=0;n<t.length;n++)this.writeStartElement(e),this.writeText(t[n]),this.writeEndElement(e);else this.writeStartElement(e),this.writeText(t),this.writeEndElement(e)},o.XmlReader=function(e){this.envelope=e},o.XmlReader.prototype.getEnvelope=function(){if(this.isTag("Envelope",this.envelope))return this.envelope;throw"Unable to find soap envelope, but found "+this.envelope.nodeName},o.XmlReader.prototype.getBody=function(){return this.getChild("Body",this.envelope)},o.XmlReader.prototype.getHeader=function(){return this.getChild("Header",this.envelope)},o.XmlReader.prototype.getChild=function(e,t){for(var n=t.childNodes,r=0;r<n.length;r++)if(1==n[r].nodeType&&this.isTag(e,n[r]))return n[r];return null},o.XmlReader.prototype.getFirstElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(1==t[n].nodeType)return t[n];return null},o.XmlReader.prototype.isTag=function(e,t){var n=t.nodeName.split(":");if(2==n.length&&n[1]==e)return!0;if(1==n.length&&n[0]==e)return!0;return!1},o.XmlReader.prototype.isNameValueNode=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(3!=t[n].nodeType)return!1;return!0},o.XmlReader.prototype.getTextValue=function(e){if(3==e.nodeType)return e.nodeValue;var t=e.getAttribute("xsi:nil");if("true"==t)return null;for(var n="",r=e.childNodes,i=0;i<r.length;i++){if(3!=r[i].nodeType)throw"Not a simple name value node";n+=r[i].nodeValue}return n},o.XmlReader.prototype.toXmlObject=function(e){var t=e.getAttribute("xsi:nil");if("true"==t)return null;var n=new o.Xml,r=[];for(r.push({node:e,obj:n});r.length>0;)for(var i=r.shift(),a=i.node.firstChild;null!==a;a=a.nextSibling){if(1!=a.nodeType)continue;var s=a.nodeName,l=s.indexOf(":");s=l==-1?s:s.substring(l+1);for(var u,c=!0,f="",p=a.firstChild;null!==p;p=p.nextSibling){if(3!=p.nodeType){c=!1;break}f+=p.nodeValue}if(c?u="true"==a.getAttribute("xsi:nil")?null:f:(u=new o.Xml,r.push({node:a,obj:u})),i.obj[s])if(i.obj[s].push)i.obj[s].push(u);else{var d=i.obj[s];"Id"===s&&d===u||(i.obj[s]=[],i.obj[s].push(d),i.obj[s].push(u))}else i.obj[s]=u}return n},o.SoapTransport=function(){this.connectionCallback=null,this.result=null,this.fault=null,this.isAsync=!0,this.isArray=!1},o.SoapTransport.prototype.onFailure=function(e,t){var n="ERROR: ........... ";a(n+e),this.result=null},o.SoapTransport.prototype.send=function(e,t,n,r){this.isArray=n;var i=new o.Transport(e);if(this.isAsync=!!r,!this.isAsync){if(i.send(t.toString(),this,this.isAsync),null!==this.fault)throw this.fault;return this.result}this.connectionCallback=r,i.send(t.toString(),this,this.isAsync,r.timeout)},o.SoapTransport.prototype.httpCallback=function(e,t){try{if(t===!0){var n=new o.XmlReader(e),r=(n.getEnvelope(),n.getBody()),i=n.getFirstElement(r);if(null===i)throw"Unable to find operation response element";for(var a=[],s=i.childNodes,l=0;l<s.length;l++){if(1!=s[l].nodeType)continue;n.isNameValueNode(s[l])?a.push(n.getTextValue(s[l])):a.push(n.toXmlObject(s[l]))}if(this.isArray)this.result=a;else{if(a.length>1)throw"Found more than one response: "+a;this.result=a[0]}if(this.isAsync)try{if(this.beforeCallback(),"function"==typeof this.connectionCallback)this.connectionCallback(this.result);else{if(!this.connectionCallback.onSuccess)throw"Unable to find onSuccess method in the callback object";this.connectionCallback.onSuccess(this.result,this.connectionCallback.source)}}finally{this.afterCallback()}}else if("undefined"!=typeof e.nodeName){var u=new o.XmlReader(e),c=(u.getEnvelope(),u.getBody()),f=u.getFirstElement(c),p=u.toXmlObject(f);this.sendFault(p)}else this.sendFault(e)}catch(d){this.sendFault(d)}},o.SoapTransport.prototype.sendFault=function(e){if(this.isAsync)if(this.connectionCallback.onFailure)try{this.beforeCallback(),this.connectionCallback.onFailure(e,this.connectionCallback.source)}finally{this.afterCallback()}else this.onFailure(e);else this.fault=e},o.SoapTransport.prototype.beforeCallback=function(){},o.SoapTransport.prototype.afterCallback=function(){},o.SObject=function(e){this.type=e},o.SObject.prototype=new o.Xml("sObjects"),o.LeadConvert=function(){},o.LeadConvert.prototype=new o.Xml("leadConverts"),o.MergeRequest=function(){},o.MergeRequest.prototype=new o.Xml("request"),o.QuickAction=function(){},o.QuickAction.prototype=new o.Xml("quickActions"),o.Connection=function(){this.sessionId=null,this.updateMru=null,this.allowFieldTruncation=null,this.disableFeedTracking=null,this.streamingEnabled=null,this.allOrNone=null,this.client=null,this.defaultNamespace=null,this.batchSize=null,this.loginScopeHeader=null,this.emailHeader=null,this.assignmentRuleHeader=null,this.transferToUserId=null,this.debuggingHeader=null,this.serverUrl="undefined"!=typeof i.UserContext?l.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0"},o.internal.Parameter=function(e,t,n){this.name=e,this.value=t,this.isArray=n},o.Connection.prototype.sforceNs="urn:partner.soap.sforce.com",o.Connection.prototype.sobjectNs="sobject.partner.soap.sforce.com",o.Connection.prototype.writeOne=function(e,t,n,r){null===n?e.writeNameValueNode(t,null):n.toXml?n.toXml(r,t,e):e.writeNameValueNode(t,n)},o.Connection.prototype.init=function(e,t){this.sessionId=e,this.serverUrl=t},o.Connection.prototype.login=function(e,t){var n=new o.internal.Parameter("username",e,(!1)),r=new o.internal.Parameter("password",t,(!1)),i=this.invoke("login",[n,r],!1,null);return this.sessionId=i.sessionId,i},o.Connection.prototype.describeSObject=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!1));return this.invoke("describeSObject",[n],!1,t)},o.Connection.prototype.describeSObjects=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!0));return this.invoke("describeSObjects",[n],!0,t)},o.Connection.prototype.describeGlobal=function(e){return this.invoke("describeGlobal",[],!1,e)},o.Connection.prototype.describeLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeLayout",[r,i],!1,n)},o.Connection.prototype.describeAvailableQuickActions=function(e,t){var n=new o.internal.Parameter("parentType",e,(!1));return this.invoke("describeAvailableQuickActions",[n],!0,t)},o.Connection.prototype.describeQuickActions=function(e,t){var n=new o.internal.Parameter("quickActionNames",e,(!0));return this.invoke("describeQuickActions",[n],!0,t)},o.Connection.prototype.performQuickActions=function(e,t){var n=new o.internal.Parameter("quickActions",e,(!0));return this.invoke("performQuickActions",[n],!0,t)},o.Connection.prototype.describeCompactLayouts=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeCompactLayouts",[r,i],!1,n)},o.Connection.prototype.describeTabs=function(e){return this.invoke("describeTabs",[],!0,e)},o.Connection.prototype.describeFlexiPages=function(e,t){var n=new o.internal.Parameter("FlexiPage",e,(!1));return this.invoke("describeFlexiPages",[n],!0,t)},o.Connection.prototype.describeTheme=function(e,t){var n=new o.internal.Parameter("themeNames",e,(!0));return this.invoke("describeTheme",[n],!0,t)},o.Connection.prototype.describeGlobalTheme=function(e){return this.invoke("describeGlobalTheme",[],!0,e)},o.Connection.prototype.describeSoftphoneLayout=function(e){return this.invoke("describeSoftphoneLayout",[],!1,e)},o.Connection.prototype.describeMiniLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1)),i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeMiniLayout",[r,i],!1,n)},o.Connection.prototype.describeSearchScopeOrder=function(e){return this.invoke("describeSearchScopeOrder",[],!0,e)},o.Connection.prototype.create=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("create",[n],!0,t)},o.Connection.prototype.update=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("update",[n],!0,t)},o.Connection.prototype.upsert=function(e,t,n){var r=new o.internal.Parameter("externalIDFieldName",e,(!1)),i=new o.internal.Parameter("sObjects",t,(!0));return this.invoke("upsert",[r,i],!0,n)},o.Connection.prototype.deleteIds=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("delete",[n],!0,t)},o.Connection.prototype.impersonateUser=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("impersonateUser",[n],!0,t)},o.Connection.prototype.query=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("query",[n],!1,t)},o.Connection.prototype.queryAll=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("queryAll",[n],!1,t)},o.Connection.prototype.queryMore=function(e,t){var n=new o.internal.Parameter("queryLocator",e,(!1));return this.invoke("queryMore",[n],!1,t)},o.Connection.prototype.retrieve=function(e,t,n,r){var i=new o.internal.Parameter("fieldList",e,(!1)),a=new o.internal.Parameter("sObjectType",t,(!1)),s=new o.internal.Parameter("ids",n,(!0));return this.invoke("retrieve",[i,a,s],!0,r)},o.Connection.prototype.getUserInfo=function(e){return this.invoke("getUserInfo",[],!1,e)},o.Connection.prototype.resetPassword=function(e,t){var n=new o.internal.Parameter("userId",e,(!1));return this.invoke("resetPassword",[n],!1,t)},o.Connection.prototype.setPassword=function(e,t,n){var r=new o.internal.Parameter("userId",e,(!1)),i=new o.internal.Parameter("password",t,(!1));return this.invoke("setPassword",[r,i],!1,n)},o.Connection.prototype.search=function(e,t){var n=new o.internal.Parameter("searchString",e,(!1));return this.invoke("search",[n],!1,t)},o.Connection.prototype.getDeleted=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getDeleted",[i,a,s],!1,r)},o.Connection.prototype.getUpdated=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getUpdated",[i,a,s],!1,r)},o.Connection.prototype.getServerTimestamp=function(e){return this.invoke("getServerTimestamp",[],!1,e)},o.Connection.prototype.convertLead=function(e,t){var n=new o.internal.Parameter("leadConverts",e,(!0));return this.invoke("convertLead",[n],!0,t)},o.Connection.prototype.merge=function(e,t){var n=new o.internal.Parameter("request",e,(!0));return this.invoke("merge",[n],!0,t)},o.Connection.prototype.undelete=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("undelete",[n],!0,t)},o.Connection.prototype.process=function(e,t){var n=new o.internal.Parameter("actions",e,(!0));return this.invoke("process",[n],!0,t)},o.Connection.prototype.sendEmail=function(e,t){var n=new o.internal.Parameter("messages",e,(!0));return this.invoke("sendEmail",[n],!0,t)},o.Connection.prototype.emptyRecycleBin=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("emptyRecycleBin",[n],!0,t)},o.Connection.prototype.invalidateSessions=function(e,t){var n=new o.internal.Parameter("sessionIds",e,(!0));return this.invoke("invalidateSessions",[n],!0,t)},o.Connection.prototype.logout=function(e){return this.invoke("logout",[],!0,e)},o.Connection.prototype.remoteFunction=function(e){if(!e.url)throw"url not defined";if(!e.onSuccess)throw"onSuccess method not defined";if(e.method||(e.method="GET"),e.mimeType||(e.mimeType="text/plain"),"undefined"==typeof e.async&&(e.async=!0),"undefined"==typeof e.cache&&(e.cache=!1),"text/plain"!=e.mimeType&&"text/xml"!=e.mimeType)throw"Unknown mime type "+e.mimeType;o.debug.trace&&o.debug.log("Open connection to ... "+e.url);var t=(new o.Transport).newConnection(),n="undefined"!=typeof i.UserContext?l.getUrl("/services/proxy"):"/services/proxy";if(n=e.cache?n+"?end-point-url="+e.url:n+"?no-cache="+(new Date).getTime(),t.open(e.method,n,e.async),e.requestHeaders)for(var r in e.requestHeaders)"function"!=typeof e.requestHeaders[r]&&t.setRequestHeader(r,e.requestHeaders[r]);t.setRequestHeader("SalesforceProxy-Endpoint",e.url),t.setRequestHeader("SalesforceProxy-SID",this.sessionId),e.async&&(t.onreadystatechange=a),o.debug.trace&&o.debug.log("Sending ..."),e.requestData?t.send(e.requestData):t.send(null),o.debug.trace&&o.debug.log("Done Sending ..."),e.async||a();function a(){if(o.debug.trace&&o.debug.log("callback called ..."),4==t.readyState)if(200==t.status)if("text/plain"==e.mimeType)e.onSuccess(t.responseText,t);else{if("text/xml"!=e.mimeType)throw"unsupported mime type: "+e.mimeType;if(!t.responseXML||!t.responseXML.documentElement)throw"Response not text/xml mime type: "+t.responseText;e.onSuccess(t.responseXML.documentElement,t)}else e.onFailure?e.onFailure(t.responseText,t):o.debug.log(t.responseText)}},o.Connection.prototype.writeHeader=function(e,t){if(e.startHeader(),e.writeNamespace(t,"sfns"),null!==this.sessionId&&(e.writeStartElement("SessionHeader",t),e.writeNameValueNode("sessionId",this.sessionId),e.writeEndElement("SessionHeader",t)),"undefined"!=typeof this.organizationId)throw"Use sforce.connection.loginScopeHeader.organizationId instead of sforce.connection.organizationId";if(null!==this.loginScopeHeader&&(e.writeStartElement("LoginScopeHeader",t),null!==this.loginScopeHeader.organizationId&&e.writeNameValueNode("organizationId",this.loginScopeHeader.organizationId),null!==this.loginScopeHeader.portalId&&e.writeNameValueNode("portalId",this.loginScopeHeader.portalId),e.writeEndElement("LoginScopeHeader",t)),null===this.client&&null===this.defaultNamespace||(e.writeStartElement("CallOptions",t),null!==this.client&&e.writeNameValueNode("client",this.client),null!==this.defaultNamespace&&e.writeNameValueNode("defaultNamespace",this.defaultNamespace),e.writeEndElement("CallOptions",t)),null!==this.batchSize&&(e.writeStartElement("QueryOptions",t),e.writeNameValueNode("batchSize",this.batchSize),e.writeEndElement("QueryOptions",t)),null!==this.allowFieldTruncation&&(e.writeStartElement("AllowFieldTruncationHeader",t),e.writeNameValueNode("allowFieldTruncation",this.allowFieldTruncation),e.writeEndElement("AllowFieldTruncationHeader",t)),null!==this.disableFeedTracking&&(e.writeStartElement("DisableFeedTrackingHeader",t),e.writeNameValueNode("disableFeedTracking",this.disableFeedTracking),e.writeEndElement("DisableFeedTrackingHeader",t)),null!==this.streamingEnabled&&(e.writeStartElement("StreamingEnabledHeader",t),e.writeNameValueNode("StreamingEnabled",this.streamingEnabled),e.writeEndElement("StreamingEnabledHeader",t)),null!==this.allOrNone&&(e.writeStartElement("AllOrNoneHeader",t),e.writeNameValueNode("allOrNone",this.allOrNone),e.writeEndElement("AllOrNoneHeader",t)),null!==this.updateMru&&(e.writeStartElement("MruHeader",t),e.writeNameValueNode("updateMru",this.updateMru),e.writeEndElement("MruHeader",t)),null!==this.emailHeader&&(e.writeStartElement("EmailHeader",t),this.emailHeader.triggerAutoResponseEmail&&e.writeNameValueNode("triggerAutoResponseEmail",this.emailHeader.triggerAutoResponseEmail),this.emailHeader.triggerOtherEmail&&e.writeNameValueNode("triggerOtherEmail",this.emailHeader.triggerOtherEmail),this.emailHeader.triggerUserEmail&&e.writeNameValueNode("triggerUserEmail",this.emailHeader.triggerUserEmail),e.writeEndElement("EmailHeader",t)),null!==this.assignmentRuleHeader&&(e.writeStartElement("AssignmentRuleHeader",t),this.assignmentRuleHeader.assignmentRuleId&&e.writeNameValueNode("assignmentRuleId",this.assignmentRuleHeader.assignmentRuleId),this.assignmentRuleHeader.useDefaultRule&&e.writeNameValueNode("useDefaultRule",this.assignmentRuleHeader.useDefaultRule),e.writeEndElement("AssignmentRuleHeader",t)),null!==this.transferToUserId&&(e.writeStartElement("UserTerritoryDeleteHeader",t),e.writeNameValueNode("transferToUserId",this.transferToUserId),e.writeEndElement("UserTerritoryDeleteHeader",t)),null!==this.debuggingHeader){if(e.writeStartElement("DebuggingHeader",t),this.debuggingHeader.debugLevel&&e.writeNameValueNode("debugLevel",this.debuggingHeader.debugLevel),this.debuggingHeader.debugCategories)for(var n=this.debuggingHeader.debugCategories,r=0;r<n.length;r++){var i=n[r].split(",");2==i.length&&(e.writeStartElement("categories"),e.writeNameValueNode("category",i[0]),e.writeNameValueNode("level",i[1]),e.writeEndElement("categories"))}e.writeEndElement("DebuggingHeader",t)}e.endHeader()},o.Connection.prototype.namespaceMap=[{ns:o.Connection.prototype.sforceNs,prefix:null},{ns:o.Connection.prototype.sobjectNs,prefix:"ns1"}],o.Connection.prototype.invoke=function(e,t,n,r){return this._invoke(e,t,n,r,this.namespaceMap,this.serverUrl,this.sforceNs,this.sobjectNs)},o.Connection.prototype._invoke=function(e,t,n,r,i,a,s,l){if(r)if("function"==typeof r);else{if(!r.onSuccess)throw"onSuccess not defined in the callback";if(!r.onFailure)throw"onFailure not defined in the callback"}var u=new o.XmlWriter;u.startEnvelope(),this.writeHeader(u,s),u.startBody(),u.writeStartElement(e);for(var c=0;c<i.length;c++)u.writeNamespace(i[c].ns,i[c].prefix);for(var c=0;c<t.length;c++){var f=t[c];if("undefined"==typeof f.value)throw"arg "+c+" '"+f.name+"' not specified";if(null!==f.value){if(f.isArray&&!f.value.push)throw"arg "+c+" '"+f.name+"' is an array. But passed in value is not an array";if(!f.isArray&&f.value.push)throw"arg "+c+" '"+f.name+"' is not an array. But passed in value is an array"}if(null===f.value)this.writeOne(u,f.name,null,l);else if(f.value.push)for(var p=0;p<f.value.length;p++){var d=f.value[p];if(!d)throw"Array element at "+p+" is null.";this.writeOne(u,f.name,d,l)}else this.writeOne(u,f.name,f.value,l)}u.writeEndElement(e),u.endBody(),u.endEnvelope(),o.debug.trace&&(o.debug.log("Request: server- "+a),o.debug.logXml(u.toString()));var g=new o.SoapTransport;return g.send(a,u,n,r)},o.QueryResultIterator=function(e){this.queryResult=e,this.index=0,this.records=this.queryResult.getArray("records")},o.QueryResultIterator.prototype.hasNext=function(){if(this.records.length>this.index)return!0;return null!==this.queryResult.queryLocator&&(this.queryResult=o.connection.queryMore(this.queryResult.queryLocator),this.records=this.queryResult.getArray("records"),this.index=0),this.records.length>this.index},o.QueryResultIterator.prototype.next=function(){if(this.records.length>this.index){var e=this.records[this.index];return this.index++,e}throw"Index out of bound : "+this.index},o.Email=function(){},o.Email.prototype=new o.Xml("messages"),o.MassEmailMessage=function(){},o.MassEmailMessage.prototype=new o.Xml("messages"),o.MassEmailMessage.prototype._xsiType="MassEmailMessage",o.SingleEmailMessage=function(){},o.SingleEmailMessage.prototype=new o.Xml("messages"),o.SingleEmailMessage.prototype._xsiType="SingleEmailMessage",o.ProcessRequest=function(){},o.ProcessRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest=function(){},o.ProcessSubmitRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest.prototype._xsiType="ProcessSubmitRequest",o.ProcessWorkitemRequest=function(){},o.ProcessWorkitemRequest.prototype=new o.Xml("actions"),o.ProcessWorkitemRequest.prototype._xsiType="ProcessWorkitemRequest",o.connection=new o.Connection,"undefined"!=typeof __sfdcSiteUrlPrefix&&(l.siteUrlPrefix=__sfdcSiteUrlPrefix),o.connection.serverUrl="undefined"!=typeof i.UserContext?l.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0","undefined"!=typeof __sfdcSessionId&&(o.connection.sessionId=__sfdcSessionId);function u(){var e="salesforce",t=new RegExp(e+".+com");return t.test(i.document.domain)}function c(){var t;if(u()?t=e.getCookie("sid"):(i.__sfdcSessionId||(i.__sfdcSessionId=i.sforce&&i.sforce.connection&&i.sforce.connection.sessionId),t=i.__sfdcSessionId),!t)return void a("there is no session id in this page.");if(n.isCommunityFeatureOrEnvironment())o.connection.sessionId=t;else{var r="https://"+i.location.host+"/services/Soap/u/29.0";o.connection.init(t,r)}s=!0}c.apply(null,arguments)}t.SalesForceConnection=i},function(e,t,n){var r=n(2).getCtx,i="salesforce";function o(e,t,n,o,a,s,l,u,c){var f=this,p=e.wrapCustomerLog(i),d={legacy:n,"community-classic":g(),"community-lightning":s,lightning:o};f.getSfVarsRetriever=function(e){var n=r().get("SiteConfigManager").get().Custom.sfVars;if(n&&n.UseProxyRegex){p("Selecting sfVars retriever by regex: "+n.UseProxyRegex);var i=new RegExp(n.UseProxyRegex,"i");if(i.test(location.href))return p("Use NonLegacySfVarsRetriever because proxy regex matched"),r().get("NonLegacySfVarsRetriever");p("Proxy regex did not match")}if(n&&n.UseProxy)return p("Use NonLegacySfVarsRetriever configured"),r().get("NonLegacySfVarsRetriever");if(n&&n.UseRestApi)return p("Use LegacySfVarsRetriever configured"),r().get("LegacySfVarsRetriever");if(p("No specific sfVars retriever configured - use default"),e==t.GENERAL_SF_VARS_FEATURE){var o=t.getCurrentSfEnvironment();return m(o)}if(e==t.BASIC_SF_VARS_FEATURE)return p("Retrieving sf vars with basicSfVars",1),a};function g(){if(window.__sfdcSessionId)return n;if(c.isFeatureEnabled(t.SAME_DOMAIN_COMMUNITIES_FEATURE))return l;return o}function m(e){return d[e]}}t.SfVarsRetrieverFactory=o},function(e,t,n){var r=n(2).getCtx,i="salesforce";function o(e,t,n,o,a){var s,l,u=this;u.getType=function(){return"LegacySfVarsRetriever"},u.getUserData=function(e){return l=wmjQuery.Deferred(),a.logEvent("Using LegacySfVarsRetriever for "+o.getCurrentSfEnvironment()+" salesforce instance",{logLevel:o.LOG_LEVEL.WEEKLY}),t.injectSFConnection(function(){c(e)},function(){l.reject()}),l.promise()};function c(t){var n,i,o,a=null;try{var u=r().get("SalesForceConnection");n=u.getSforce().connection.getUserInfo()}catch(c){s(c,5),a=c.message||c}try{i=g(e.get()),o=f(n.userId,i),o=o&&o[0]||[]}catch(c){s(c,5),a||(a=c.message||c)}try{var d=p(n,t,o,i||[]);l.resolve(d)}catch(c){s(c,5),a||(a=c.message||c),l.reject(a)}}function f(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",i=r().get("SalesForceConnection"),o=i.getSforce().connection.query(n);return o.getArray("records")}}function p(e,t,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o];i[a]=e[a]}for(var o=0;o<r.length;o++)d(r[o],n,i);return i}function d(e,t,n){for(var r=t,i=e.split("."),o=0;o<i.length;o++){if(""===i[o])return;if(r=r&&r[i[o]],null===r&&o==i.length-1)return void(n[i[o]]=null);"object"==typeof r?(n[i[o]]={},n=n[i[o]]):n[i[o]]=r}}function g(e){var t=e.Settings.sfCustomVars;return t||[]}function m(){s=n.wrapCustomerLog(i)}m.apply(null,arguments)}t.LegacySfVarsRetriever=o},function(e,t,n){var r=n(13),i="salesforce";function o(e,t,o,a,s,l,u,c){var f,p,d,g,m,h,v,y=this,w={},S=!1,E=n(21),b=r("sfVarsIframeLoadTimeout",500),C="walkme-sf-vars-iframe",x="wm-sf-vars-proxy";function L(){p=e.wrapCustomerLog(i)}y.getType=function(){return"NonLegacySfVarsRetriever"},y.getUserData=function(e){return f=wmjQuery.Deferred(),u.logEvent("Using NonLegacySfVarsRetriever for "+s.getCurrentSfEnvironment()+" salesforce instance",{logLevel:s.LOG_LEVEL.WEEKLY}),!E.skipLastFailCheck&&T()?f.reject(s.MESSAGES.SKIP_AFTER_FAILURE):(e=l.extractUserContextVars(e,w),e=l.mapLegacyToNonLegacyVars(e),e.length?A(e.join(",")):f.reject(s.MESSAGES.VARS_LIST_EMPTY)),f.promise()};function T(){var e=a.getData(s.SF_VARS_LAST_FAIL_KEY);return!!e}function A(e){var t=s.getCurrentSfEnvironment();"legacy"==t&&(t="lightning");var n=s.getAppEndpointByEnvironment(t),r=s.getUrlBuilderByEnvironment(t),i=n+"?sfVars="+e,o=r.buildRequestUrl(i),a=r.getProxyIframeUrl();o?(p("SfVars endpoint - "+o),U(),V(o,_,R,a)):(I(),f.reject(s.MESSAGES.FAIL_FIND_SALESFORCE_NAME))}function V(e,n,r,i){function o(){g=t.registerEventHandler("message",r,!1,m.contentWindow||m.window);var i=c.isFeatureEnabled(s.SANDBOX_SF_VARS_IFRAME_FEATURE)?{sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"}:void 0;d=t.createIframe(e,C,!1,n,void 0,wmjQuery(m).contents().find("body")[0],!1,i)}m=t.createIframe(i,x,!1,o)}function _(){p("sfVars Non-Legacy iframe loaded",3),h&&h.clear&&h.clear();var e=N(s.MESSAGES.IFRAME_LOADED_TIMEOUT);v=o.libSetTimeout(e,b)}function U(){p("Finished creating iframe",3);var e=N(s.MESSAGES.IFRAME_CREATED_TIMEOUT);h=o.libSetTimeout(e,s.IFRAME_CREATED_TIMEOUT_TICKS)}function R(e){if(S)return;var n;try{n=t.secureEvalJSON(e.data)}catch(r){return void p("sfVars reciver unknown message: error="+r.message,5)}if(!n||!n.attributes||"User"!==n.attributes.type)return;S=!0,g&&g(),m&&wmjQuery(m).remove(),v&&v.clear&&v.clear(),n=l.mapNonLegacyDataToLegacy(n),wmjQuery.extend(!0,w,n),f.resolve(w)}function I(){k()||a.saveData(s.SF_VARS_LAST_FAIL_KEY,(new Date).getTime(),s.FAIL_EXPIRATION_TIME_SECONDS)}function k(){return"pending"!==f.state()}function N(e){return function(){t.removeIframeListeners(d,"message",R),I(),f.reject(e)}}L.apply(null,arguments)}t.NonLegacySfVarsRetriever=o},function(e,t,n){var r=n(13);e.exports={skipLastFailCheck:r("skipLastFailCheck",!1)}},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t){var n,i=this;function o(){n=e.wrapCustomerLog(r)}i.getType=function(){return"BasicSfVarsRetriever"},i.getUserData=function(){var e={},r=wmjQuery.Deferred();return window.UserContext&&window.UserContext.userId&&window.UserContext.userName&&window.UserContext.language?(e.userId=t.to18CharId(window.UserContext.userId),e.userName=window.UserContext.userName,e.userLanguage=window.UserContext.language,r.resolve(e),n("Gets basic SfVar with basicSfVars feature",1)):r.reject('Can not get sfVars from "basicSfVars" feature'),r.promise()},o.apply(null,arguments)}t.BasicSfVarsRetriever=i},function(e,t,n){var r=n(24).version,i="salesforce";function o(e,t,o,a,s,l,u){var c,f,p,d,g=this,m={},h=n(21),v="walkme-samedomain-sf-vars-iframe";function y(){f=e.wrapCustomerLog(i)}g.getType=function(){return"SameDomainIframeSfVarsRetriever"},g.getUserData=function(e){return c=wmjQuery.Deferred(),u.logEvent("Using SameDomainIframeSfVarsRetriever for "+s.getCurrentSfEnvironment()+" salesforce instance",{logLevel:u.LOG_LEVEL.WEEKLY}),!h.skipLastFailCheck&&w()?c.reject(s.MESSAGES.SKIP_AFTER_FAILURE):(e=l.extractUserContextVars(e,m),e=l.mapLegacyToNonLegacyVars(e),e.length?S(e.join(",")):c.reject(s.MESSAGES.VARS_LIST_EMPTY)),c.promise()};function w(){var e=a.getData(s.SF_VARS_LAST_FAIL_KEY);return!!e}function S(e){var t=s.getCurrentSfEnvironment(),n=s.getAppEndpointByEnvironment(t),i=s.getUrlBuilderByEnvironment(t),o=n+"?sfVars="+e+"&version="+r,o=i.buildRequestUrl(relativeUrl);o?(f("SfVars endpoint - "+o),C(),E(o,b)):(x(),c.reject(s.MESSAGES.FAIL_FIND_SALESFORCE_NAME))}function E(e,n){p=t.createIframe(e,v,!1,n)}function b(){f("sfVars Same Domain iframe loaded",3),d&&d.clear&&d.clear(),p&&wmjQuery(p).remove(),c.resolve(window.walkme_sf_vars_internal)}function C(){f("Finished creating iframe",3);var e=T(s.MESSAGES.IFRAME_CREATED_TIMEOUT);d=o.libSetTimeout(e,s.IFRAME_CREATED_TIMEOUT_TICKS)}function x(){L()||a.saveData(s.SF_VARS_LAST_FAIL_KEY,(new Date).getTime(),s.FAIL_EXPIRATION_TIME_SECONDS)}function L(){return"pending"!==c.state()}function T(e){return function(){x(),c.reject(e)}}y.apply(null,arguments)}t.SameDomainIframeSfVarsRetriever=o},function(e,t){e.exports={_args:[[{raw:"wm-sf-common-components@1.2.5",scope:null,escapedName:"wm-sf-common-components",name:"wm-sf-common-components",rawSpec:"1.2.5",spec:"1.2.5",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\wmpack-1000kduo9yyQ2np1\\node_modules\\wm-plugin-page-identifier-salesforce-console"]],_from:"wm-sf-common-components@1.2.5",_id:"wm-sf-common-components@1.2.5",_inCache:!0,_location:"/wm-sf-common-components",_nodeVersion:"8.9.4",_npmUser:{},_npmVersion:"5.5.1",_phantomChildren:{},_requested:{raw:"wm-sf-common-components@1.2.5",scope:null,escapedName:"wm-sf-common-components",name:"wm-sf-common-components",rawSpec:"1.2.5",spec:"1.2.5",type:"version"},_requiredBy:["/wm-plugin-page-identifier-salesforce-console"],_resolved:"https://npm.walkmedev.com/wm-sf-common-components/-/wm-sf-common-components-1.2.5.tgz",_shasum:"32b5b62c717c7a55585a612261f981758ecbd41e",_shrinkwrap:null,_spec:"wm-sf-common-components@1.2.5",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\wmpack-1000kduo9yyQ2np1\\node_modules\\wm-plugin-page-identifier-salesforce-console",dependencies:{"wm-client-server-logger":"0.1.5","wm-jquery":"0.0.2"},description:"contributes commonly used components that were extracted from the Lib when sfVar was converted into a lego plugin",devDependencies:{browserify:"^13.0.0",grunt:"~0.4.5","grunt-git":"^0.3.7","grunt-karma":"^0.12.2","grunt-release":"^0.13.0","jasmine-ajax":"^3.3.1","jasmine-core":"~2.4.1",karma:"^0.13.22","karma-browserify":"^5.2.0","karma-chrome-launcher":"^0.2.3","karma-firefox-launcher":"^0.1.7","karma-ie-launcher":"^0.2.0","karma-jasmine":"^0.3.8","karma-junit-reporter":"^1.1.0","karma-phantomjs-launcher":"^1.0.0","load-grunt-configs":"^1.0.0","phantomjs-prebuilt":"^2.1.7",watchify:"^3.11.0","wm-di":"^0.3.0","wm-es6-promise":"^0.1.4","wm-grunt-module-validate":"0.1.2","wm-package-json-validate":"0.1.1"},dist:{integrity:"sha512-lQLPiktJd4GZNMFD5RkJHDkrQ9l+sDgJOC+VbVhmfe96T7lbAnEjwA5RI/b+EesO3ilaXucKyjeKnA/jDl5lBQ==",shasum:"32b5b62c717c7a55585a612261f981758ecbd41e",tarball:"https://npm.walkmedev.com/wm-sf-common-components/-/wm-sf-common-components-1.2.5.tgz"},main:"src/sfCommonComponents.js",name:"wm-sf-common-components",optionalDependencies:{},publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{"ci-tests":"grunt ctests",test:"grunt test"},version:"1.2.5"}},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i,o,a=this;function s(){i=e.wrapCustomerLog(r)}a.getType=function(){return"UnsupportedPlatformSfVarsRetriever"},a.getUserData=function(){return o=wmjQuery.Deferred(),n.logEvent("Using UnsupportedPlatformSfVarsRetriever for "+t.getCurrentSfEnvironment()+" salesforce instance",{logLevel:t.LOG_LEVEL.WEEKLY}),o.resolve(null),o.promise()},s.apply(null,arguments)}t.UnsupportedPlatformSfVarsRetriever=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n){var i,o,a="/vf/resource/sfVarsProxy";function s(){i=e.wrapCustomerLog(r),o=n.get()}this.getProxyIframeUrl=function(){if(o.Custom&&o.Custom.sfVars&&o.Custom.sfVars.communityProxyIframeUrl)return o.Custom.sfVars.communityProxyIframeUrl;return a},this.buildRequestUrl=function(e){if(!e)return;var t,n=window.location.hostname,r=o.Custom.sfVarsCommunityBaseUrl,a=o.Custom.sfVarsCommunityBaseUrlDictionary;return r?(t="https://"+r+e,i("buildRequestUrl - with custom community base url "+t,1)):a&&a[n]?(t="https://"+a[n]+e,i("buildRequestUrl - with custom community base url dictionary "+t,1)):window.UserContext&&window.UserContext.siteUrlPrefix?(t="https://"+n+window.UserContext.siteUrlPrefix+e,
i("buildRequestUrl - with regular community url plus siteUrlPrefix "+t,1)):(t="https://"+n+e,i("buildRequestUrl - with regular community url "+t,1)),i("Community sfVars endpoint - "+t,1),t},s.apply(null,arguments)}t.CommunitySfVarsUrlBuilder=i},function(e,t,n){var r=(n(2).getCtx,"salesforce");function i(e,t,n,i,o){var a,s,l="about:blank";function u(){a=e.wrapCustomerLog(r),s=n.get()}this.getProxyIframeUrl=function(){if(s.Custom&&s.Custom.sfVars&&s.Custom.sfVars.lightningProxyIframeUrl)return s.Custom.sfVars.lightningProxyIframeUrl;return l},this.buildRequestUrl=function(e){if(!e)return;var t,n,r=window.location.hostname,i=s.Custom.sfVarsLightningBaseUrl,o=s.Custom.sfVarsLightningBaseUrlDictionary;return window.UserContext&&window.UserContext.vfDomainPattern&&(a("buildRequestUrl - window.UserContext.vfDomainPattern = ",window.UserContext.vfDomainPattern),n=window.UserContext.vfDomainPattern.replace("(?:[^.]+)*","wm4sf3").replace("(?:[^.]+)","wm4sf3")),i?(t="https://"+i+e,a("buildRequestUrl - with custom lightning base url "+t,1)):o&&o[r]?(t="https://"+o[r]+e,a("buildRequestUrl - with custom lightning base url dictionary "+t,1)):n&&(t="https://"+n+e,a("buildRequestUrl - base vfDomainPattern, the url is "+t,1)),a("Lightning sfVars endpoint - "+t,1),t},u.apply(null,arguments)}t.LightningSfVarsUrlBuilder=i},function(e,t,n){var r=n(2).getCtx;r().register("SfVarsEventLogger").asCtor(o);var i=n(12)(r());function o(){var e=this;e.logEvent=function(e,n){var r="sfVars plugin event: "+e,o=t();n||(n={plugin:null,uId:null,sfVarsResult:null}),n.plugin="sf-vars",n.sfVarsResult=e,o&&(n.uId=o),i.sendLog({message:r,extraData:n})};function t(){var e=n();return e&&e.UserGuids&&e.UserGuids[0]}function n(){return o("wmSnippet")||o("wmPlaySnippet")||o("wmPreviewSnippet")}function o(e){var t=r().get("win");if(t[e]&&t[e].getSettingsFile)return t[e].getSettingsFile()}}},function(e,t,n){n(2).getCtx;function r(e,t){var n={userName:"Username",profileId:"ProfileId",roleId:"UserRoleId",userLanguage:"LanguageLocaleKey"};this.extractUserContextVars=function(t,n){var r,i,o=window.UserContext;if(o)for(var a=t.length-1;a>=0;a--)r=t[a],i=o[r],e.isDefined(i)&&""!==i&&(n[r]=i,t.splice(a,1));return t},this.mapLegacyToNonLegacyVars=function(e){var r=[];wmjQuery.each(e,function(e,t){var i=n[t];i&&r.push(i)});var i=t.get().Settings.sfCustomVars;return i&&i.length&&(r=r.concat(i)),r},this.mapNonLegacyDataToLegacy=function(e){var r={};wmjQuery.each(e,function(t,i){var o=wmjQuery.grep(Object.keys(n),function(e){return n[e]===t});o&&o[0]&&(r[o[0]]=e[n[o[0]]])});var i=t.get().Settings.sfCustomVars;return i&&i.length&&wmjQuery.each(i,function(t,n){r[n]=e[n]}),r}}t.SfVarsMapper=r},function(e,t,n){var r=n(2).getCtx,i=r(),o=n(31),a="ExtendIdentifySettingsOnCaptureCallbacksArray";i.has(a)||i.register(a).asInstance([]),i.get(a).push(s);function s(e){var t=e.ElementDescription.salesForceConsolePageIdentify;return t&&(t.valid||t.ignore)&&(e.IgnorePageIdentification=t.ignore,e.IsValidPageId=t.valid),e}e.exports={extendElementDescription:l};function l(e,t){var r=JSON.parse(t),i=o.identifyCurrentPageByElement(e);return r.salesForceConsolePageIdentify={page:i,ignore:o.shouldIgnorePage(e,i),valid:o.isValidPage(i),version:n(6).version},JSON.stringify(r)}},function(e,t,n){e.exports={identifyCurrentPageByElement:d,isValidPage:y,shouldIgnorePage:S,isDescPageValid:w,isSamePage:b,getPageTypes:m};var r=n(8),i=n(32),o=n(2).getCtx,a=o().get("ArrayUtils"),s=["actionedTab","reports","list","tabEdit","merge","email","attachement"],l={actionedTab:{getData:function(){var e=c(),t=e&&e.items&&e.items.items[1]&&e.items.items[1].activeTab;if(!t)return;var n=/\/([^\/]+)\/(.)\?/.exec(t.contentUrl);if(null!==n){if(3===n[1].length&&"e"===n[2])return{entity:{prefix:n[1],action:"wmnew"},domEl:[t.el.dom]};return{entity:{prefix:n[1].slice(0,3),action:n[2]},domEl:[t.el.dom]}}if(t.entityId){var r=t.entityId.slice(0,3);return{entity:{prefix:r,action:"wmview"},domEl:[t.el.dom]}}},isValidPage:function(e){return r.mapKeyToName(e.entity.prefix)&&("e"===e.entity.action||"wmnew"===e.entity.action||"wmview"===e.entity.action)},isSamePage:function(e,t){return e.entity.prefix===t.entity.prefix&&e.entity.action===t.entity.action}},reports:{getData:function(){var e=c(),t=f(),n=[],r=e&&e.items&&e.items.items[1]&&e.items.items[1].activeTab;if(t&&t.listViewport&&"00O"===t.listViewport.filter.entityType&&n.push(t.el.dom),r&&r.contentUrl.indexOf("00O?")!==-1&&n.push(e.el.dom),n.length>0)return{entity:{},domEl:n}},isValidPage:function(){return!0},isSamePage:function(){return!0}},attachement:p("attach/NoteAttach"),email:p("email/author/EmailAuthor"),merge:p("merge/conmergewizard.jsp",!0),tabEdit:p("setup/ui/uiconfigrelatedlistsedit.jsp",!0),list:{getData:function(){var e=f();if(e&&e.listViewport&&"00O"!==e.listViewport.filter.entityType)return{entity:{prefix:e.listViewport.filter.entityType},domEl:[e.el.dom]}},isValidPage:function(e){return r.mapKeyToName(e.entity.prefix)},isSamePage:function(e,t){return e.entity.prefix===t.entity.prefix}}};function u(e){if(!window.Ext)return;var t=window.Ext.ComponentMgr.all.items,n=a.filter(t,function(t){return e.test(t.id)&&t.hasOwnProperty("hidden")&&t.hidden===!1})[0];return n}function c(){return u(/^(scc-pt)/)}function f(){return u(/^(ext-comp)/)}function p(e,t){return{getData:function(){var n=c(),r=n&&n.items&&n.items.items[1]&&n.items.items[1].activeTab;if(!r)return;if(r.contentUrl.indexOf(e)!==-1){var i=t?{prefix:r.initialConfig.srcEntityId.slice(0,3)}:{};return{entity:i,domEl:[r.el.dom]}}},isValidPage:function(e){return!t||e.entity.prefix},isSamePage:function(e,n){return!t||e.entity.prefix===n.entity.prefix}}}function d(e){var t=m();for(var n in t)for(var r=0;r<t[n].domEl.length;r++)if(v(t[n].domEl[r],e))return{type:n,entity:t[n].entity}}function g(e){return wmjQuery(e).filter(":mt_visible").length>0}function m(e){for(var t={},n=0;n<s.length;n++){var r=s[n],i=l[r].getData();if(i)for(var o=0;o<i.domEl.length;o++)g(i.domEl[o])&&(t[r]?t[r].domEl.push(i.domEl[o]):t[r]={entity:i.entity,domEl:e?void 0:[i.domEl[o]],type:r})}return t}function h(e){try{return e.contentDocument}catch(t){return}}function v(e,t){if(!e)return!1;if(wmjQuery(e).find(t).length>0)return!0;for(var n=wmjQuery("iframe,frame",e).toArray(),r=0;r<n.length;r++)if(v(h(n[r]),t))return!0;return!1}function y(e){if(!e)return 0;if(!e.type)return 0;if(!l[e.type].isValidPage(e))return 0;return 1}function w(e){return Boolean(e.type)}function S(e){if(i.isGlobalElement(e))return 1;return 0}function E(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function b(e,t){if(E(t))return!1;var n=e.type;if(!t[n])return!1;if(l[n].isSamePage(e,t[n]))return!0;return!1}},function(e,t){e.exports={isGlobalElement:r};var n=["#ServiceDeskHeader",".support-servicedesc-navigator",".sd_primary_tabstrip",".sd_secondary_tabstrip"];function r(e){for(var t=wmjQuery(e),r=0;r<n.length;r++){var i=t.closest(n[r]);if(i&&i.length>0)return!0}}},function(e,t,n){e.exports={pluginClass:s};var r=n(31),i=n(7),o=n(4),a=n(2).getCtx;function s(){this.findElement=function(e,t,i){if(0!=e.IgnorePageIdentification)return l(!0,"ignore");if(1!==e.IsValidPageId)return l(!0,"invalid page id");var a=e.ElementDescription,s=a.salesForceConsolePageIdentify,u=s&&s.page;if(s&&o.log("element desc version:",s.version),!u)return l(!0,"no pageId on description");if(!r.isDescPageValid(u))return l(!0,"description page invalid");i&&(i.pluginName="page-identifier-salesforce-console",i.pluginVersion=n(6).version,i.pluginCaptureVersion=s.version);var c=r.getPageTypes(!0);if(!r.isSamePage(u,c))return l(!1,"not same page",c,u);return l(!0,"same page",c,u)}}function l(e,t,n,r){return o.log("description page id",r),i.addResult({skip:!e,currPage:a().get("CommonUtils").toJSON(n),reason:t}),!!e&&void 0}}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-native-functions-restorer@0.2.3@prelib",{name:"wm-plugin-native-functions-restorer",version:"0.2.3",toolbelt:"1.2.3",packageDate:"2019-01-06T12:49:23.434Z",entry:"prelib"},function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=n:t.nativeFunctionsRestorerPlugin=n}(this,function(e){var t=e(),n=(t.ctx,t.di,function(){function e(){}return e.prototype.run=function(){var e=this.createIframe();return this.decoratePostMessage(e),this.decorateNativeTimerFunctionsProvider(e),this.registerNativeEventListenerFunctionsProvider(e),this.registerNativeDocumentFunctions(e),this.registerNativeWindowProvider(e),null},e.prototype.createIframe=function(){var e=wmjQuery("#walkme-native-functions");e.length||(e=wmjQuery('<iframe id="walkme-native-functions" style="display: none; position: absolute;"/>').appendTo("body"));var t=e[0].contentWindow;return wmjQuery(window._walkmeInternals).on("removeWalkMe",function(){e.remove()}),t},e.prototype.decoratePostMessage=function(e){t.ctx.decorate("PostMessage",function(t){return e.postMessage})},e.prototype.registerNativeDocumentFunctions=function(e){function n(e){return{getElementById:e.getElementById,getElementsByTagName:e.getElementsByTagName,getElementsByName:e.getElementsByName,getElementsByClassName:e.getElementsByClassName,querySelectorAll:e.querySelectorAll}}t.ctx.register("NativeDocumentFunctionsProvider").asInstance({doc:n(e.document),element:n(e.document.body),docFrag:n(e.DocumentFragment.prototype)})},e.prototype.decorateNativeTimerFunctionsProvider=function(e){t.ctx.decorate("NativeTimerFunctionsProvider",function(t){return t.get=function(){return{clearTimeout:e.clearTimeout,clearInterval:e.clearInterval,setTimeout:e.setTimeout,setInterval:e.setInterval}},t})},e.prototype.registerNativeWindowProvider=function(e){t.ctx.decorate("NativeWindowProvider",function(t){return t.get=function(){return e},t})},e.prototype.registerNativeEventListenerFunctionsProvider=function(e){t.ctx.register("NativeEventListenerFunctionsProvider").asCtor(function(){this.get=function(){return{addEventListener:e.document.addEventListener,attachEvent:e.document.attachEvent,removeEventListener:e.document.removeEventListener,detachEvent:e.document.detachEvent}}})},e}());t.plugin(new n)})}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-salesforce-find-element-adapter@2.3.0@prelib",{name:"wm-plugin-salesforce-find-element-adapter",version:"2.3.0",toolbelt:"1.2.3",packageDate:"2019-01-06T12:49:44.440Z",entry:"prelib"},function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var r=n(2).createPluginEntry,i=n(2).getCtx;t.exports=r(function(t){n(3).SalesforceFindElementAdapter,n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(82),n(83),n(84),n(85),n(86),n(87),n(88);t(i().get("SalesforceFindElementAdapter"))})},function(t,e){var n,r={createPluginEntry:i,getCtx:o};function i(t){return function(e){n=e(),t(a)}}function o(){return n.ctx}function a(t){n.plugin(t)}e.__esModule=!0,e["default"]=r,e.createPluginEntry=r.createPluginEntry,e.getCtx=r.getCtx},function(t,e,n){var r=n(2).getCtx;function i(t){var e=this;e.run=u;var n,i,o,a;function s(){n=r().get("PromiseManager"),i=r().get("EventsListener"),o=r().get("EventsTrigger"),a=r().get("PrelibLogger")}function u(){if(!l())return null;return c(),null}function c(){r().get("EventsListener").on("wm_walkmeLibLoaded",function(){_walkMe.registerFindElementPlugin(t);var e=window._walkmeInternals.extendElementDescription;window._walkmeInternals.extendElementDescription=function(){var t=Array.prototype.slice.call(arguments,0);return e&&(t[1]=e.apply(this,t)),window._makeTutorial.getFindElementPluginManager().extendDescription.apply(this,t)}})}function l(){var t=new RegExp("/one/one\\.app.*"),e=new RegExp("/lightning/");return t.test(window.location.pathname)||e.test(window.location.pathname)}s()}r().register("SalesforceFindElementAdapter").asCtor(i).dependencies("FindElementAdapter")},function(t,e,n){var r=n(2).getCtx;function i(t,e,n,i){var o,a;function s(){o=r().get("PrelibLogger"),a=[t,e]}this.extendDescription=function(t,e){e.sfLightningVersion=i.getSfLightningVersion()},this.extendOriginalSettings=function(t){var e=t.ElementDescription.elementXpath;if(u(e)&&c(t),a)for(var n=0;n<a.length;n++){var r=a[n];try{r.match(t)&&r.process(t)}catch(i){o.write("Exception while trying to use a converter, skipping it"),o.write(i)}}};function u(t){return null!=t.match(n.HEADER_XPATH)}function c(t){t.IsIgnoreId=!0}s()}r().register("FindElementAdapter").asCtor(i).dependencies("SpringSummerConverter, SummerWinterConverter, sfAdapterConsts, SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t,e,n){var i,o,a,s,u,c="NavBarConverter ";function l(){u=r().get("PrelibLogger")}this.match=function(t){var n=t.ElementDescription.elementXpath;return null!=n.match(e.NAV_BAR_XPATH)},this.process=function(r){var u=r.ElementDescription.elementXpath;_(u);var l=p(u),d=n.isNewNavBar();!l&&d?(t.writeToLog(c,"Detected a capture from an old version in a new version, converting..."),f(r,i,o,e.NEW_NAV_BAR_APP_SELECTOR)):l&&!d&&(t.writeToLog(c,"Detected a capture from a new version in an old version, converting..."),f(r,a,s,e.HEADER_SELECTOR))};function f(t,e,r,i){var o=d(t,e);o&&(n.convertAllSelectors(t,i,c),v(t,r))}function p(t){return null!=t.match(e.NEW_NAV_BAR_XPATH)}function d(e,n){var r=e.ElementDescription.elementXpath;t.writeToLog(c,"Original xpath: "+r);for(var i=!1,o=0;o<n.length;o++){var a=n[o],s=a.originalXpath.exec(r);s&&(i=!0,r=r.slice(0,s.index)+r.substring(s.index).replace(s[1],a.convertedXpath))}return e.ElementDescription.elementXpath=r,t.writeToLog(c,"Converted xpath: "+r),i}function v(e,n){if(t.writeToLog(c,"Converting classes..."),e.ElementDescription.elementClass)for(var r=0;r<n.length;r++){var i=n[r];null!=e.ElementDescription.elementClass.match(i.originalClass)&&(e.ElementDescription.elementClass=e.ElementDescription.elementClass.replace(i.originalClass,i.convertedClass),t.writeToLog(c,"converted "+i.originalClass+" class to "+i.convertedClass+" class"))}}function _(t){E(t),h(),m()}function m(){if(!a){var t="li["+g(e.OLD_NAV_BAR_LIST_SELECTOR)+"]/div[1]/div[2]/div[1]/ul[1]",n="li["+g(e.OLD_NAV_BAR_LIST_SELECTOR)+"]/div[1]/div[1]/div[1]/div[1]/a[1]";a=[{originalXpath:e.NEW_NAV_BAR_APP_REGEX,convertedXpath:e.OLD_NAV_BAR_APP},{originalXpath:e.NEW_NAV_BAR_REGEX,convertedXpath:e.OLD_NAV_BAR},{originalXpath:e.NEW_NAV_BAR_ITEM_REGEX,convertedXpath:e.OLD_NAV_BAR_ITEM},{originalXpath:e.NEW_NAV_BAR_DROPDOWN_ARROW_REGEX,convertedXpath:e.OLD_NAV_BAR_DROPDOWN_ARROW},{originalXpath:e.NEW_MORE_BUTTON_MENU_REGEX,convertedXpath:t},{originalXpath:e.NEW_MORE_BUTTON_REGEX,convertedXpath:n},{originalXpath:e.NEW_MORE_BUTTON_MENU_ITEM_REGEX,convertedXpath:e.OLD_MORE_BUTTON_MENU_ITEM},{originalXpath:e.NEW_NAV_BAR_DROPDOWN_ITEM_REGEX,convertedXpath:e.OLD_NAV_BAR_DROPDOWN_ITEM},{originalXpath:e.NEW_APP_LAUNCHER_REGEX,convertedXpath:e.OLD_APP_LAUNCHER},{originalXpath:e.NEW_LAST_TAG_SPAN_REGEX,convertedXpath:e.OLD_REMOVE_LAST_TAG_SPAN}]}}function h(){var t="(one\\-app\\-nav\\-bar\\-item\\-root\\["+g(e.NEW_NAV_BAR_LIST_SELECTOR)+"\\]\\/one\\-app\\-nav\\-bar\\-item\\-dropdown\\[1\\]\\/)",n=new RegExp(t);i||(i=[{originalXpath:e.OLD_NAV_BAR_APP_REGEX,convertedXpath:e.NEW_NAV_BAR_APP},{originalXpath:e.OLD_NAV_BAR_REGEX,convertedXpath:e.NEW_NAV_BAR},{originalXpath:e.OLD_NAV_BAR_ITEM_REGEX,convertedXpath:e.NEW_NAV_BAR_ITEM},{originalXpath:e.OLD_NAV_BAR_DROPDOWN_REGEX,convertedXpath:e.NEW_NAV_BAR_DROPDOWN},{originalXpath:e.OLD_NAV_BAR_DROPDOWN_ARROW_REGEX,convertedXpath:e.NEW_NAV_BAR_DROPDOWN_ARROW},{originalXpath:e.OLD_NAV_BAR_DROPDOWN_ARROW_ICON_REGEX,convertedXpath:e.NEW_NAV_BAR_DROPDOWN_ARROW_ICON},{originalXpath:e.OLD_NAV_BAR_DROPDOWN_MENU_REGEX,convertedXpath:e.NEW_NAV_BAR_DROPDOWN_MENU},{originalXpath:e.OLD_NAV_BAR_DROPDOWN_ITEM_REGEX,convertedXpath:e.NEW_NAV_BAR_DROPDOWN_ITEM},{originalXpath:n,convertedXpath:e.NEW_MORE_BUTTON},{originalXpath:e.OLD_APP_LAUNCHER_REGEX,convertedXpath:e.NEW_APP_LAUNCHER},{originalXpath:e.OLD_APP_NAME_REGEX,convertedXpath:e.NEW_APP_NAME}])}function E(t){var n;n=t.indexOf("nav[1]/ul[1]/li["+g(e.NEW_NAV_BAR_LIST_SELECTOR)+"]")>-1?"slds-button slds-button_reset slds-context-bar__label-action":"slds-button slds-button_reset",o=[{originalClass:e.OLD_ARROW_ICON_CLASSES_SVG,convertedClass:n},{originalClass:e.OLD_ARROW_ICON_CLASSES_A,convertedClass:n},{originalClass:e.OLD_APP_NAME_CLASSES,convertedClass:e.NEW_APP_NAME_CLASSES}],s||(s=[{originalClass:e.NEW_ARROW_ICON_CLASSES,convertedClass:e.OLD_ARROW_ICON_CLASSES_A},{originalClass:e.NEW_APP_NAME_CLASSES,convertedClass:e.OLD_APP_NAME_CLASSES}])}function g(t){var e=wmjQuery(t);if(e.length>0)return e[0].children.length;return 0}l()}r().register("NavBarConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts, NavBarConvertersUtils")},function(t,e,n){var r=n(2).getCtx;function i(t){var e="CalendarHomeConverter ",n=/^(DIV\[id=\"calendarHome\"\]\s)UL\sLI\sA$/,r="";function i(){}this.match=function(t){if(o()&&a(t))return!0;return!1},this.process=function(i){if(!t.isNewVersion())return;var o=i.ElementDescription.autoQuery;t.writeToLog(e,"Original selector: "+o);var a=n.exec(o);i.ElementDescription.autoQuery=o.replace(a[1],r),t.writeToLog(e,"Converted selector: "+i.ElementDescription.autoQuery)};function o(){return wmjQuery('DIV[id="calendarHome"]:mt_visible').length>0}function a(t){var e=t.ElementDescription.autoQuery;if(e){var r=n.exec(e);if(r)return!0}return!1}i()}r().register("CalendarHomeConverter").asCtor(i).dependencies("SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t){var e,n,i="LeftMenuConverter ",o="navItemsReport",a="navItemsDashboard",s="navItemsFolder",u="folderHeader",c="folder-header",l="entityHeader",f="entity-header";function p(){e=r().get("PrelibLogger"),n=[{from:o,to:s},{from:a,to:s},{from:u,to:c},{from:l,to:f}]}this.match=function(t){var e=t.ElementDescription.autoQuery;if(e)for(var r=0;r<n.length;r++){var i=n[r];if(e.indexOf(i.from)>-1)return!0}return!1},this.process=function(e){var r=!1;if(t.isNewVersion()){t.writeToLog(i,"Detected a capture from an old version in a new version, converting...");for(var o=e.ElementDescription.autoQuery,a=e.ElementDescription.elementId,s=0;s<n.length;s++){var u=n[s];if(o.indexOf(u.from)>-1){var c=d(o,u.from,u.to,"selector");e.ElementDescription.autoQuery=c,r=!0}if(a&&a.indexOf(u.from)>-1){var c=d(a,u.from,u.to,"ID");e.ElementDescription.elementId=c,r=!0}if(r)return}}};function d(e,n,r,o){t.writeToLog(i,"Original "+o+":"+e);var a=e.replace(n,r);return t.writeToLog(i,"Converted "+o+":"+a),a}p()}r().register("LeftMenuConverter").asCtor(i).dependencies("SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t){var e,n,r=["slds-button","slds-button--icon-more"],i=["slds-button","slds-button--icon","slds-button--icon-more"],o="."+r.join("."),a=o,s="/div$1/div[1]/div[1]/div[1]/div[1]/a[1]",u="/div$1/div[1]/button[1]",c=/\sa$|^a$/i,l=/\sbutton$|^button$/i;function f(){p()}function p(){var t=d("div"),r=d("div",!0),i=d("a"),o=d("button"),a=t+r+"(?:/div[1])?"+t+t+t+i;e=new RegExp(a+"$","i");var s=r+t+o;n=new RegExp(s+"$","i")}this.match=function(t){if(m(t)&&!v())return!0;if(h(t)&&!_())return!0;return!1},this.process=function(t){var e=v();e?(S("Converting from Summer to Spring"),O(t)):(S("Converting from Spring to Summer"),N(t))};function d(t,e){return e?"\\/"+t+"(\\[?[0-9]*\\]?)":"\\/"+t+"\\[?[0-9]*\\]?"}function v(){return!t.isNewVersion()}function _(){return t.isNewVersion()}function m(t){return E(t,e,r)}function h(t){return E(t,n,i)}function E(t,e,n){var r=e.test(t.ElementDescription.elementXpath);if(!r)return!1;var i=g(t),o=A(n,i);if(!o)return!1;return!0}function g(t){return t.ElementDescription.elementClass.split(" ")}function A(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=mtjQuery.inArray(r,e)!=-1;if(!i)return!1}return!0}function N(t){C(t),y(t,e,u),D(t,c,a),R(t,i)}function O(t){y(t,n,s),D(t,l,o),R(t,r)}function R(t,e){var n=e.join(" ");t.ElementDescription.elementClass=n,t.ElementDescription["class"]=n}function C(t){t.ElementDescription.textArray&&1==t.ElementDescription.textArray.length&&"display:grid"==t.ElementDescription.textArray[0]&&(t.ElementDescription.textArray[0]="displayastable")}function y(t,e,n){var r=t.ElementDescription.elementXpath,n=r.replace(e,n);S("oldXPath : "+r),S("newXPath : "+n),t.ElementDescription.elementXpath=n}function D(t,e,n){var r=t.ElementDescription.autoQuery,i=r.replace(e," "+n);S("oldAutoQuery : "+r),S("newAutoQuery : "+i),t.ElementDescription.autoQuery=i}function S(e){t.writeToLog("IconWithArrowButtonConverter",e)}f()}r().register("IconWithArrowButtonConverter").asCtor(i).dependencies("SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t){var e="LeadsConverter ",n="pa-card  full runtime_sales_pathassistantPathAssistantCard runtime_sales_pathassistantPathAssistantCardDesktop",r=".pa-card.large.runtime_sales_pathassistantPathAssistantCard.runtime_sales_pathassistantPathAssistantCardDesktop";function i(){}this.match=function(t){var e=t.ElementDescription.elementClass;if(e&&e==n&&o())return!0;return!1},this.process=function(n){if(!t.isNewVersion())return;var r=n.ElementDescription.elementClass;t.writeToLog(e,"Original class: "+r),n.ElementDescription.elementClass=r.replace("full","large"),t.writeToLog(e,"Converted class: "+n.ElementDescription.elementClass)};function o(){return wmjQuery(r+":mt_visible").length>0}i()}r().register("LeadsConverter").asCtor(i).dependencies("SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t){var e=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[2\]\/div\[[0-9]*\]\/div\[2\]\/div\[1\]\/div\[2\]\/form\[1\]\/section\[1\]/;function n(){}this.match=function(t){if(i(t)&&!r())return!0;return!1},this.process=function(t){var e=r();e||(l("Converting from Spring to Summer"),a(t))};function r(){return!t.isNewVersion()}function i(t){return o(t,e)}function o(t,e){var n=e.test(t.ElementDescription.elementXpath);if(!n)return!1;return!0}function a(t){t.IsIgnoreId=!0;var e=t.ElementDescription.elementClass&&t.ElementDescription.elementClass.indexOf("sectionHeader")>-1;c(t,e),u(t,e),s(t,e)}function s(t,e){var n=t.ElementDescription.autoQuery,r="div.uiModal "+n.replace(/section ?/gi,"").replace(/form ?/gi,"");e&&(r=NaN),l("oldAutoQuery : "+n),l("newAutoQuery : "+r),t.ElementDescription.autoQuery=r}function u(t,e){e&&(t.ElementDescription.elementClass=t.ElementDescription.elementClass.replace("sectionHeader","section-header-title"))}function c(t,e){var n=t.ElementDescription.elementXpath,r=n.replace(/\/form\[([0-9]*)\]\/section\[1\]\/div\[1\]/gi,"/div[$1]/div[4]").replace(/\/section\[([0-9]*)\]\/div\[2\]\/div\[([0-9]*)\]\/div\[([0-9]*)\]/gi,"/div[$1]/div[1]/div[1]/div[$2]/div[$3]/div[1]").replace(/\/fieldset\[([0-9]*)\]/gi,"/div[1]/fieldset[1]").replace(/\/section\[([0-9]*)\]/gi,"/div[$1]");e&&(r=r.replace(/\/div\[([0-9]*)\]$/i,"/h3[$1]")),l("oldXPath : "+n),l("newXPath : "+r),t.ElementDescription.elementXpath=r}function l(e){t.writeToLog("ModalConverter",e)}n()}r().register("ModalConverter").asCtor(i).dependencies("SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t){var e,n="ChatterMenuConverter ",i=/\sSPAN$/,o="";function a(){e=r().get("PrelibLogger")}this.match=function(t){var e=t.ElementDescription.elementClass;if(e&&"anchorUnderline"==e&&s())return!0;return!1},this.process=function(e){if(!t.isNewVersion())return;var r=e.ElementDescription.autoQuery;t.writeToLog(n,"Original selector: "+r),r&&(r=r.replace(i,o),t.writeToLog(n,"Converted selector: "+r),e.ElementDescription.autoQuery=r)};function s(){var t=wmjQuery(".desktopChatterPage.forceChatterDesktopChatter:mt_visible");if(t.length>0)return!0;return!1}a()}r().register("ChatterMenuConverter").asCtor(i).dependencies("SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t){var e,n,i,o,a="DetailsFormConverter ",s=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(?:(?:div\[1\]\/div\[1\])|(?:div\[2\]))\/div\[\d*\]\/div\[1\]\/div\[1\]\/div\[\d*\]\/div\[1\]\/div\[1\]\/div\[1\]\/section\[\d*\]\/div\[1\]\/form\[1\]/,u="SECTION SECTION FORM ",c="",l="H2",f="H3",p="A svg",d="BUTTON",v="slds-button slds-button--neutral inlineEditTrigger uiButton hover",_="slds-button test-id__inline-edit-trigger slds-button_icon slds-button_icon-small slds-shrink-none inline-edit-trigger slds-button--icon-container",m="itemLabel truncate",h="test-id__field-label slds-form-element__label",E="slds-icon--xx-small slds-icon",g=/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(div\[1\]\/div\[1\])/,A="div[2]",N=/(form\[1\]\/section\[1\]\/div\[1\]\/div\[1\]\/section\[\d*\]\/div\[\d*\])/,O=/(form\[1\]\/section\[1\]\/div\[2\]\/div\[1\]\/div\[1\]\/div\[2\]\/section\[1\]\/div\[\d*\])/,R="div[1]/div[4]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]",C=/form\[1\]\/section\[1\]\/div\[2\].*?\/(fieldset|[^\/]+$)/,y=/(div\[1\]\/div\[1\]\/a\[1\]\/span\[2\]\/span\[1\]\/svg\[1\])/,D="span[1]/div[1]/button[1]",S=/(div\[1\]\/div\[1\]\/div\[1\]\/div\[2\]\/a\[1\]\/span\[1\]\/span\[1\]\/svg\[1\])/,L="span[1]/div[1]/button[1]",b=/form\[1\]\/section\[1\]\/div\[1\]\/div\[1\]\/section\[(\d*)\]/;function w(){e=r().get("PrelibLogger"),n=[{from:u,to:c},{from:l,to:f},{from:p,to:d}],o=[{from:v,to:_},{from:m,to:h}],i=[{originalXpath:g,convertedXpath:A},{originalXpath:O,convertedXpath:R},{originalXpath:y,convertedXpath:D},{originalXpath:S,convertedXpath:L}]}this.match=function(t){if(T()&&W(t))return!0;return!1},this.process=function(e){if(!t.isNewVersion())return;X(e),x(e),P(e)};function P(e){var n=V(e),r=n.concat(i),o=e.ElementDescription.elementXpath;t.writeToLog(a,"Original xpath: "+o);for(var s=0;s<r.length;s++){var u=r[s],c=u.originalXpath.exec(o);c&&(o=o.slice(0,c.index)+o.substring(c.index).replace(c[1],u.convertedXpath))}t.writeToLog(a,"Converted xpath: "+o),e.ElementDescription.elementXpath=o}function X(e){var r=e.ElementDescription.autoQuery;if(r){t.writeToLog(a,"Original selector: "+r);for(var i=0;i<n.length;i++){var o=n[i];r=r.replace(o.from,o.to)}e.ElementDescription.autoQuery=r,t.writeToLog(a,"Converted selector: "+r)}}function x(e){var n=M(e),r=o.concat(n),i=e.ElementDescription.elementClass;if(i){t.writeToLog(a,"Original class: "+i);for(var s=0;s<r.length;s++){var u=r[s];i=i.replace(u.from,u.to)}t.writeToLog(a,"Converted class: "+i),e.ElementDescription.elementClass=i}}function T(){var t=wmjQuery("li.active a.tabHeader span.title:mt_visible").filter(function(){return"Details"==this.textContent});return t.length>0}function W(t){var e=t.ElementDescription.elementXpath;return null!=e.match(s)}function V(t){var e=t.ElementDescription.elementXpath,n="div[1]/div[3]/div[1]/div["+B(e)+"]/div[1]/div[1]",r=C.exec(e),i="";return r&&(i="div[1]/div[1]/"+r[1]),dynamicXpathConversionMap=[{originalXpath:C,convertedXpath:i},{originalXpath:N,convertedXpath:n}],dynamicXpathConversionMap}function M(t){var e=t.ElementDescription.elementXpath,n=E,r=y.exec(e),i=S.exec(e);return r?n="slds-button slds-button_icon slds-button_icon-small changeOwnerLink":i&&(n="slds-button testid__change-record-type-link slds-button_icon slds-button_icon-small slds-shrink-none changeRecordTypeLink slds-button--icon-container"),dynamicClassConversionMap=[{from:E,to:n}],dynamicClassConversionMap}function B(t){var e=b.exec(t);if(e)return e[1];return 0}w()}r().register("DetailsFormConverter").asCtor(i).dependencies("SfAdapterUtils")},function(t,e,n){var r=n(14),i=n(2).getCtx;function o(t){var e;function n(){e=i().get("PrelibLogger")}this.isNewVersion=function(){return!0},this.writeToLog=function(n,r){e.write(t.PLUGIN_NAME+n+r)},this.getSfLightningVersion=r.getSfLightningVersion,this.getNumericSfLightningVersion=r.getNumericSfLightningVersion,this.getCapturedSfLightningVersion=function(t){var e=t.sfLightning&&t.sfLightning.sfVersion,n=t.sfModal&&t.sfModal.sfVersion;return this.getNumericSfLightningVersion(e||n||t.sfLightningVersion)},n()}i().register("SfAdapterUtils").asCtor(o).dependencies("sfAdapterConsts")},function(t,e,n){var r=n(15),i=o(r);function o(t){return t&&t.__esModule?t:{"default":t}}var a=n(2).getCtx,s=window.aura,u={"spring '17":39,"summer '17":40,"winter '18":41,"spring '18":42,"summer '18":43,"winter '19":44,"spring '19":45},c=function(){var t=void 0,e=0;return function(){if(void 0!==t)return t;if(e>=5||!s)return t="";var n=l(),r=[];p(s.services,function(t,e){return e&&e.version&&"string"==typeof e.version&&r.push(e.version)},4);var i=n(r);if(i>0)return t=i;return++e,""}}(),l=function(){var t=void 0;return function(){if(!t){var e=f(),n=e.map,r=e.filter,i=e.reduce,o=e.pipe,a=/^\d+\.\d+$/;t=o(r(d),r(function(t){return a.test(t)}),n(Number),i(function(t,e){return Math.max(t,e)},0))}return t}}();function f(){var t=a().get("ArrayUtils"),e=t.reduceSpec,n=t.mapSpec,r=t.filterSpec,i=function(t){return function(e){return n(e,t)}},o=function(t){return function(e){return r(e,t)}},s=function(t,n){return function(r){return e(r,t,n)}},u=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return e(n,function(t,e){return e(t)},t)}};return{map:i,filter:o,reduce:s,pipe:u}}function p(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(n&&r>n)return;for(var o in t){var a=t[o],s=e(o,a);if(s===!1)return!1;a&&"object"===("undefined"==typeof a?"undefined":(0,i["default"])(a))&&p(a,e,n,r+1)}}function d(t,e,n){return n.indexOf(t)===e}function v(t){if("string"==typeof t){t=t.replace(/(&#39;|)/g,"'");var e=t.toLowerCase();if(u[e])return u[e];if(/^\d+(\.\d+)?$/.test(t))return Number(t)}return t}t.exports={getSfLightningVersion:c,getNumericSfLightningVersion:v}},function(t,e,n){e.__esModule=!0;var r=n(16),i=u(r),o=n(67),a=u(o),s="function"==typeof a["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]&&t!==a["default"].prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{"default":t}}e["default"]="function"==typeof a["default"]&&"symbol"===s(i["default"])?function(t){return"undefined"==typeof t?"undefined":s(t)}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]&&t!==a["default"].prototype?"symbol":"undefined"==typeof t?"undefined":s(t)}},function(t,e,n){t.exports={"default":n(17),__esModule:!0}},function(t,e,n){n(18),n(62),t.exports=n(66).f("iterator")},function(t,e,n){var r=n(19)(!0);n(22)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;if(n>=e.length)return{value:void 0,done:!0};return t=r(e,n),this._i+=t.length,{value:t,done:!1}})},function(t,e,n){var r=n(20),i=n(21);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;if(u<0||u>=c)return t?"":void 0;return o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(23),i=n(24),o=n(40),a=n(29),s=n(41),u=n(42),c=n(58),l=n(60),f=n(59)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",_="values",m=function(){return this};t.exports=function(t,e,n,h,E,g,A){u(n,e,h);var N,O,R,C=function(t){if(!p&&t in L)return L[t];switch(t){case v:return function(){return new n(this,t)};case _:return function(){return new n(this,t)}}return function(){return new n(this,t)}},y=e+" Iterator",D=E==_,S=!1,L=t.prototype,b=L[f]||L[d]||E&&L[E],w=b||C(E),P=E?D?C("entries"):w:void 0,X="Array"==e?L.entries||b:b;if(X&&(R=l(X.call(new t)),R!==Object.prototype&&R.next&&(c(R,y,!0),r||"function"==typeof R[f]||a(R,f,m))),D&&b&&b.name!==_&&(S=!0,w=function(){return b.call(this)}),r&&!A||!p&&!S&&L[f]||a(L,f,w),s[e]=w,s[y]=m,E)if(N={values:D?w:C(_),keys:g?w:C(v),entries:P},A)for(O in N)O in L||o(L,O,N[O]);else i(i.P+i.F*(p||S),e,N);return N}},function(t,e){t.exports=!0},function(t,e,n){var r=n(25),i=n(26),o=n(27),a=n(29),s=n(39),u="prototype",c=function(t,e,n){var l,f,p,d=t&c.F,v=t&c.G,_=t&c.S,m=t&c.P,h=t&c.B,E=t&c.W,g=v?i:i[e]||(i[e]={}),A=g[u],N=v?r:_?r[e]:(r[e]||{})[u];v&&(n=e);for(l in n){if(f=!d&&N&&void 0!==N[l],f&&s(g,l))continue;p=f?N[l]:n[l],g[l]=v&&"function"!=typeof N[l]?n[l]:h&&f?o(p,r):E&&N[l]==p?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(p):m&&"function"==typeof p?o(Function.call,p):p,m&&((g.virtual||(g.virtual={}))[l]=p,t&c.R&&A&&!A[l]&&a(A,l,p))}};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(28);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(30),i=n(38);t.exports=n(34)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(31),i=n(33),o=n(37),a=Object.defineProperty;e.f=n(34)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(32);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(34)&&!n(35)(function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=!n(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(32),i=n(25).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(32);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=n(29)},function(t,e){t.exports={}},function(t,e,n){var r=n(43),i=n(38),o=n(58),a={};n(29)(a,n(59)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(31),i=n(44),o=n(56),a=n(53)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(36)("iframe"),r=o.length,i="<",a=">";for(e.style.display="none",n(57).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(30),i=n(31),o=n(45);t.exports=n(34)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(46),i=n(56);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(39),i=n(47),o=n(50)(!1),a=n(53)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(48),i=n(21);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(49);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(47),i=n(51),o=n(52);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(20),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(20),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(54)("keys"),i=n(55);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(25),i=r._walkmeInternals||(r._walkmeInternals={}),o=i.coreJsShared||(i.coreJsShared={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(25).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(30).f,i=n(39),o=n(59)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(54)("wks"),i=n(55),o=n(25).Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},function(t,e,n){var r=n(39),i=n(61),o=n(53)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){if(t=i(t),r(t,o))return t[o];if("function"==typeof t.constructor&&t instanceof t.constructor)return t.constructor.prototype;return t instanceof Object?a:null}},function(t,e,n){var r=n(21);t.exports=function(t){return Object(r(t))}},function(t,e,n){n(63);for(var r=n(25),i=n(29),o=n(41),a=n(59)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(t,e,n){var r=n(64),i=n(65),o=n(41),a=n(47);t.exports=n(22)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;if(!t||n>=t.length)return this._t=void 0,i(1);if("keys"==e)return i(0,n);if("values"==e)return i(0,t[n]);return i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(59)},function(t,e,n){t.exports={"default":n(68),__esModule:!0}},function(t,e,n){n(69),n(79),n(80),n(81),t.exports=n(26).Symbol},function(t,e,n){var r=n(25),i=n(39),o=n(34),a=n(24),s=n(40),u=n(70).KEY,c=n(35),l=n(54),f=n(58),p=n(55),d=n(59),v=n(66),_=n(71),m=n(72),h=n(75),E=n(31),g=n(32),A=n(47),N=n(37),O=n(38),R=n(43),C=n(76),y=n(78),D=n(30),S=n(45),L=y.f,b=D.f,w=C.f,P=r.Symbol,X=r.JSON,x=X&&X.stringify,T="prototype",W=d("_hidden"),V=d("toPrimitive"),M={}.propertyIsEnumerable,B=l("symbol-registry"),I=l("symbols"),G=l("op-symbols"),U=Object[T],H="function"==typeof P,j=r.QObject,k=!j||!j[T]||!j[T].findChild,Q=o&&c(function(){return 7!=R(b({},"a",{get:function(){return b(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=L(U,e);r&&delete U[e],b(t,e,n),r&&t!==U&&b(U,e,r)}:b,F=function(t){var e=I[t]=R(P[T]);return e._k=t,e},$=H&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},J=function(t,e,n){if(t===U&&J(G,e,n),E(t),e=N(e,!0),E(n),i(I,e))return n.enumerable?(i(t,W)&&t[W][e]&&(t[W][e]=!1),n=R(n,{enumerable:O(0,!1)})):(i(t,W)||b(t,W,O(1,{})),t[W][e]=!0),Q(t,e,n);return b(t,e,n)},K=function(t,e){E(t);for(var n,r=m(e=A(e)),i=0,o=r.length;o>i;)J(t,n=r[i++],e[n]);return t},z=function(t,e){return void 0===e?R(t):K(R(t),e)},Y=function(t){var e=M.call(this,t=N(t,!0));if(this===U&&i(I,t)&&!i(G,t))return!1;return!(e||!i(this,t)||!i(I,t)||i(this,W)&&this[W][t])||e},q=function(t,e){if(t=A(t),e=N(e,!0),t===U&&i(I,e)&&!i(G,e))return;var n=L(t,e);return!n||!i(I,e)||i(t,W)&&t[W][e]||(n.enumerable=!0),n},Z=function(t){for(var e,n=w(A(t)),r=[],o=0;n.length>o;)i(I,e=n[o++])||e==W||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===U,r=w(n?G:A(t)),o=[],a=0;r.length>a;)!i(I,e=r[a++])||n&&!i(U,e)||o.push(I[e]);return o};H||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(G,n),i(this,W)&&i(this[W],t)&&(this[W][t]=!1),Q(this,t,O(1,n))};return o&&k&&Q(U,t,{configurable:!0,set:e}),F(t)},s(P[T],"toString",function(){return this._k}),y.f=q,D.f=J,n(77).f=C.f=Z,n(74).f=Y,n(73).f=tt,o&&!n(23)&&s(U,"propertyIsEnumerable",Y,!0),v.f=function(t){return F(d(t))}),a(a.G+a.W+a.F*!H,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=S(d.store),it=0;rt.length>it;)_(rt[it++]);a(a.S+a.F*!H,"Symbol",{"for":function(t){return i(B,t+="")?B[t]:B[t]=P(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){k=!0},useSimple:function(){
k=!1}}),a(a.S+a.F*!H,"Object",{create:z,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),X&&a(a.S+a.F*(!H||c(function(){var t=P();return"[null]"!=x([t])||"{}"!=x({a:t})||"{}"!=x(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],!g(e)&&void 0===t||$(t))return;return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,x.apply(X,r)}}),P[T][V]||n(29)(P[T],V,P[T].valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(55)("meta"),i=n(32),o=n(39),a=n(30).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(35)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},p=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},d=function(t){return c&&v.NEED&&u(t)&&!o(t,r)&&l(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(t,e,n){var r=n(25),i=n(26),o=n(23),a=n(66),s=n(30).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(45),i=n(73),o=n(74);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(49);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(47),i=n(77).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(46),i=n(56).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(74),i=n(38),o=n(47),a=n(37),s=n(39),u=n(33),c=Object.getOwnPropertyDescriptor;e.f=n(34)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(71)("asyncIterator")},function(t,e,n){n(71)("observable")},function(t,e,n){var r=n(2).getCtx,i={PLUGIN_NAME:"[SalesforceFindElementAdapter] ",SUMMER17:"Summer '17",WINTER18:"Winter '18",NEW_NAV_BAR_APP_SELECTOR:'HEADER[id="oneHeader"] ONE-APPNAV',HEADER_SELECTOR:'HEADER[id="oneHeader"]',OLD_MAV_BAR_LIST_SELECTOR:'HEADER[id="oneHeader"] nav ul.slds-grid.slds-has-flexi-truncate',NEW_NAV_BAR_LIST_SELECTOR:'HEADER[id="oneHeader"] one-appnav one-app-nav-bar',HEADER_XPATH:/\/html\[1\]\/body\[1\]\/div\[[5-6]\]\/div\[1\]\/header\[1\]/,NAV_BAR_XPATH:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]/,NEW_NAV_BAR_XPATH:/one\-appnav/,OLD_NAV_BAR_APP_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[2\])/,NEW_NAV_BAR_APP:"one-appnav[1]/div[1]/div[2]",OLD_NAV_BAR_REGEX:/one\-appnav.+(nav\[1\]\/ul\[1\])/,NEW_NAV_BAR:"one-app-nav-bar[1]",OLD_NAV_BAR_ITEM_REGEX:/one\-app\-nav\-bar\[1\]\/(li)\[\d+\]/,NEW_NAV_BAR_ITEM:"one-app-nav-bar-item-root",OLD_NAV_BAR_DROPDOWN_REGEX:/one\-app\-nav\-bar\-item\-root\[\d+\]\/(div\[1\])/,NEW_NAV_BAR_DROPDOWN:"one-app-nav-bar-item-dropdown[1]/div[1]/one-tmp-button-menu[1]",OLD_NAV_BAR_DROPDOWN_ARROW_REGEX:/one\-tmp\-button\-menu\[1\]\/(div\[1\]\/div\[1\]\/div\[1\]\/a\[1\])/,NEW_NAV_BAR_DROPDOWN_ARROW:"button[1]",OLD_NAV_BAR_DROPDOWN_ARROW_ICON_REGEX:/button\[1\](.*)/,NEW_NAV_BAR_DROPDOWN_ARROW_ICON:"",OLD_NAV_BAR_DROPDOWN_MENU_REGEX:/one\-tmp\-button\-menu\[1\]\/(div\[2\]\/div\[1\]\/ul\[1\])/,NEW_NAV_BAR_DROPDOWN_MENU:"div[1]",OLD_NAV_BAR_DROPDOWN_ITEM_REGEX:/one\-tmp\-button\-menu\[1\]\/div\[1\]\/(li)/,NEW_NAV_BAR_DROPDOWN_ITEM:"one-tmp-menu-item",NEW_MORE_BUTTON:"",OLD_APP_LAUNCHER_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[1\]\/div\[1\]\/nav\[1\])/,NEW_APP_LAUNCHER:"one-appnav[1]/div[1]/div[1]/div[1]/nav[1]/one-app-launcher-header[1]",OLD_APP_NAME_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[1\]\/div\[1\]\/div\[1\])/,NEW_APP_NAME:"one-appnav[1]/div[1]/div[1]/div[1]/div[1]",NEW_NAV_BAR_APP_REGEX:/(one\-appnav\[1\]\/)/,OLD_NAV_BAR_APP:"",NEW_NAV_BAR_REGEX:/(one\-app\-nav\-bar\[1\])/,OLD_NAV_BAR:"nav[1]/ul[1]",NEW_NAV_BAR_ITEM_REGEX:/(one\-app\-nav\-bar\-item\-root)/,OLD_NAV_BAR_ITEM:"li",NEW_NAV_BAR_DROPDOWN_ARROW_REGEX:/(one\-app\-nav\-bar\-item\-dropdown\[1\]\/div\[1\]\/one\-tmp\-button\-menu\[1\]\/button\[1\])/,OLD_NAV_BAR_DROPDOWN_ARROW:"div[1]/div[1]/div[1]/a[1]",NEW_MORE_BUTTON_MENU_REGEX:/nav\[1\]\/ul\[1\]\/(div\[1\]\/one\-tmp\-button\-menu\[1\]\/div\[1\])/,NEW_MORE_BUTTON_REGEX:/nav\[1\]\/ul\[1\]\/(div\[1\]\/one\-tmp\-button\-menu\[1\]\/button\[1\])/,NEW_MORE_BUTTON_MENU_ITEM_REGEX:/li\[\d+\]\/div\[1\]\/div\[2\]\/div\[1\]\/ul\[1\]\/(one\-tmp\-menu\-item)/,OLD_MORE_BUTTON_MENU_ITEM:"li",NEW_NAV_BAR_DROPDOWN_ITEM_REGEX:/(one\-app\-nav\-bar\-item\-dropdown\[1\]\/div\[1\]\/one\-tmp\-button\-menu\[1\]\/div\[1\]\/one\-tmp\-menu\-item)/,OLD_NAV_BAR_DROPDOWN_ITEM:"div[1]/div[2]/div[1]/ul[1]/li",NEW_LAST_TAG_SPAN_REGEX:/(span\[\d*\])$/,OLD_REMOVE_LAST_TAG_SPAN:"",NEW_APP_LAUNCHER_REGEX:/(\/one\-app\-launcher\-header\[1\])/,OLD_APP_LAUNCHER:"",OLD_ARROW_ICON_CLASSES_SVG:"slds-icon--xx-small slds-icon",OLD_ARROW_ICON_CLASSES_A:"slds-button slds-button--icon",NEW_ARROW_ICON_CLASSES:"slds-button slds-button_reset",OLD_APP_NAME_CLASSES:"slds-button slds-truncate uiButton",NEW_APP_NAME_CLASSES:"slds-button slds-truncate"};r().register("sfAdapterConsts").asInstance(i)},function(t,e,n){var r=n(2).getCtx;function i(t,e){var n="ContentSectionConverter ",r=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(?:(?:div\[1\]\/div\[1\])|(?:div\[2\]))/,i="/html[1]/body[1]/div[5]/div[1]/section[1]/div[2]/div[1]/div[1]";this.match=function(t){var e=t.ElementDescription.elementXpath;if(null!=e.match(r))return!0;return!1},this.process=function(n){var r=n.ElementDescription.alreadyConverted;if(r)return;var i=t.getCapturedSfLightningVersion(n.ElementDescription);(!i||i<t.getNumericSfLightningVersion(e.WINTER18))&&o(n)};function o(t){a(t,r,i)}function a(e,r,i){var o=e.ElementDescription.elementXpath;t.writeToLog(n,"Original xpath: "+o),o=o.replace(r,i),e.ElementDescription.elementXpath=o,t.writeToLog(n,"Converted xpath: "+o),e.ElementDescription.alreadyConverted=!0}}r().register("ContentSectionConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts")},function(t,e,n){var r=n(2).getCtx;function i(t,e,n,i,o,a,s,u,c,l){var f,p;function d(){f=r().get("PrelibLogger"),p=[t,e,n,i,o,a,s,u]}this.match=function(t){var e=l.getCapturedSfLightningVersion(t.ElementDescription);if(!e)return!0;return!1},this.process=function(t){if(p)for(var e=0;e<p.length;e++){var n=p[e];try{if(n.match(t)){n.process(t);break}}catch(r){f.write("Exception while trying to use a converter, skipping it"),f.write(r)}}},d()}r().register("SpringSummerConverter").asCtor(i).dependencies("NavBarConverter, CalendarHomeConverter, LeftMenuConverter, IconWithArrowButtonConverter, LeadsConverter, ModalConverter, ChatterMenuConverter, DetailsFormConverter, sfAdapterConsts, SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t,e,n,i,o){var a,s;function u(){a=r().get("PrelibLogger"),s=[t,e,n]}this.match=function(t){var e=o.getCapturedSfLightningVersion(t.ElementDescription),n=!e||e<o.getNumericSfLightningVersion(i.WINTER18);return n},this.process=function(t){if(s)for(var e=0;e<s.length;e++){var n=s[e];try{if(n.match(t)){n.process(t);break}}catch(r){a.write("Exception while trying to use a converter, skipping it"),a.write(r)}}},u()}r().register("SummerWinterConverter").asCtor(i).dependencies("SummerWinterNavBarConverter, ContentSectionConverter, HeaderButtonsConverter, sfAdapterConsts, SfAdapterUtils")},function(t,e,n){var r=n(2).getCtx;function i(t,e){var n="HeaderButtonsConverter ",r=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[2\]\/ul\[1\]/,i="/html[1]/body[1]/div[5]/div[1]/header[1]/div[2]/span[1]/ul[1]",o=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[2\]\/span\[1\]\/ul\[1\]\/li\[6\]\/div\[1\]\/div\[1\]/,a="/html[1]/body[1]/div[5]/div[1]/header[1]/div[2]/span[1]/ul[1]/li[6]";this.match=function(t){var e=t.ElementDescription.elementXpath;if(e.match(r))return!0;return!1},this.process=function(e){if(!t.isWinter18())return;var s=e.ElementDescription.elementXpath;t.writeToLog(n,"Original xpath: "+s),s=s.replace(r,i),s=s.replace(o,a),t.writeToLog(n,"Converted xpath: "+s),e.ElementDescription.elementXpath=s}}r().register("HeaderButtonsConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts")},function(t,e,n){var r=n(2).getCtx;function i(t,e,n,r){var i,o,a="SummerWinterNavBarConverter ",s=/div\[2\]\/one\-app\-nav\-bar\[1\]/,u="one-app-nav-bar[1]/nav[1]/ul[1]",c=/one\-app\-nav\-bar\-item\-root/,l="li",f=/one\-app\-nav\-bar\[1\]\/nav\[1\]\/ul\[1\]/,p="div[2]/one-app-nav-bar[1]",d=/(one\-app\-nav\-bar\[1\]\/)li\[\d+\](\/one\-tmp\-button\-menu\[1\])/,v="$1div[1]$2",_=/(one\-app\-nav\-bar\[1\]\/)li/,m="$1one-app-nav-bar-item-root";function h(){i=[{originalXpath:s,convertedXpath:u},{originalXpath:c,convertedXpath:l}],o=[{originalXpath:f,convertedXpath:p},{originalXpath:d,convertedXpath:v},{originalXpath:_,convertedXpath:m}]}this.match=function(e){var n=e.ElementDescription.elementXpath;if(n.match(t.NAV_BAR_XPATH))return!0;return!1},this.process=function(s){e.isWinter18()?(E(s,i),r.convertAllSelectors(s,t.NEW_NAV_BAR_APP_SELECTOR,a)):(E(s,o),r.convertAllSelectors(s,t.HEADER_SELECTOR,a));var u=r.isNewNavBar();u||n.process(s)};function E(t,n){var r=t.ElementDescription.elementXpath;e.writeToLog(a,"Original xpath: "+r);for(var i=0;i<n.length;i++){var o=n[i];r=r.replace(o.originalXpath,o.convertedXpath)}t.ElementDescription.elementXpath=r,e.writeToLog(a,"Converted xpath: "+r)}h()}r().register("SummerWinterNavBarConverter").asCtor(i).dependencies("sfAdapterConsts, SfAdapterUtils, NavBarConverter, NavBarConvertersUtils")},function(t,e,n){var r=n(2).getCtx;function i(t,e){this.isNewNavBar=function(){return wmjQuery("one-appnav").length>0},this.convertAllSelectors=function(t,r,i){var o=t.ElementDescription.elementXpath,a=n(o,r,i);t.ElementDescription.autoQuery&&(e.writeToLog(i,"autoQuery detected, updating with the new selector"),t.ElementDescription.autoQuery=a)};function n(t,n,i){var o=n+" "+r(t);return e.writeToLog(i,"New selector created: "+o),o}function r(t){var e=t.split("/"),n=e[e.length-1],r=n.split("[")[0];return r.toUpperCase()}}r().register("NavBarConvertersUtils").asCtor(i).dependencies("sfAdapterConsts, SfAdapterUtils")}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-sf-lightning-modal-find-element@1.6.0@prelib",{name:"wm-plugin-sf-lightning-modal-find-element",version:"1.6.0",toolbelt:"1.2.3",packageDate:"2019-01-06T12:51:52.555Z",entry:"prelib"},function(t){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}return e.m=t,e.c=n,e.p="",e(0)}([function(t,n,e){t.exports=e(1)},function(t,n,e){var r=e(2).createPluginEntry,i=e(2).getCtx;t.exports=r(function(t){e(3),e(73),e(77),t(i().get("SfLightningModalFindElement"))})},function(t,n){var e,r={createPluginEntry:i,getCtx:o};function i(t){return function(n){e=n(),t(a)}}function o(){return e.ctx}function a(t){e.plugin(t)}n.__esModule=!0,n["default"]=r,n.createPluginEntry=r.createPluginEntry,n.getCtx=r.getCtx},function(t,n,e){var r=e(2).getCtx,i=e(4);r().register("SfModalIdentificationUtils").asCtor(o);function o(){var t=this;t.isElementInAModal=r,t.getActiveModalEntity=o,t.getAuraClass=a,t.init=e;var n=".modal-container .modal-body > div";function e(){}function r(t){for(var n=wmjQuery(t);n.length&&!n.is("body");){if(n.hasClass("modal-container"))return!0;n=n.parent()}return!1}function o(){var t,e=wmjQuery(n);if(e.length>0)try{var r=u(e[0]),o={targetRelatedListId:"targetRelatedListId",filterName:"filterName",entityApiName:"name",mode:"mode",layoutMode:"layoutMode",keyPrefix:"keyPrefix",recordTypeSelectorMode:"recordTypeSelectorMode"};t=i.getAvailableProps(o,r)}catch(a){}if(!i.isEmpty(t))return t;return}function a(){return wmjQuery(n).attr("data-aura-class")}function u(t){return i.travelOneBeforeType("force:modal",i.getComponent(t))}}},function(t,n,e){var r=window.aura,i=e(5);function o(t){return r?r.getComponent(t):void 0}function a(t){if(!t)return!0;for(var n in t)if(t.hasOwnProperty(n)&&void 0!==t[n]&&null!==t[n])return!1;return!0}function u(t,n){var e=n.getDef().getAttributeDefs().getNames(),r={};for(var i in t){var o=i.split(".");if(e.indexOf(o[0])!==-1){var a=n.get("v."+o[0]);if(o.length>1)for(var u=1;u<o.length&&(a=a[o[u]],a);u++);a&&(r[t[i]]=a)}}return r}function f(t,n){for(var e="";n&&"one:one"!==n.type&&n.type!==e;){e=n.type;for(var r=0;r<t.length;r++){var i=t[r];if(n.type===i)return{comp:n,type:i}}n=s(n)}return}function c(t,n){for(var e=s(n);e&&"one:one"!==e.type&&e.type!==n.type;){if(e.type===t)return n;n=e,e=s(n)}return}function s(t){if(!t)return;for(var n=t.getOwner(),e=n.getType(),r=void 0;("aura:iteration"===e||"aura:if"===e||n.isInstanceOf("ui:virtualComponent")||n.isInstanceOf("ui:abstractList")||n.isInstanceOf("ui:abstractDataGrid"))&&(n=n.getOwner(),e=n.getType(),n!==r);)r=n;return n}t.exports={travelToFirstOfTypes:f,getContainer:s,getComponent:o,getAvailableProps:u,isEmpty:a,travelOneBeforeType:c,getSfLightningVersion:i.getSfLightningVersion,getNumericSfLightningVersion:i.getNumericSfLightningVersion}},function(t,n,e){var r=e(6),i=o(r);function o(t){return t&&t.__esModule?t:{"default":t}}var a=e(2).getCtx,u=window.aura,f={"spring '17":39,"summer '17":40,"winter '18":41,"spring '18":42,"summer '18":43,"winter '19":44,"spring '19":45},c=function(){var t=void 0,n=0;return function(){if(void 0!==t)return t;if(n>=5||!u)return t="";var e=s(),r=[];p(u.services,function(t,n){return n&&n.version&&"string"==typeof n.version&&r.push(n.version)},4);var i=e(r);if(i>0)return t=i;return++n,""}}(),s=function(){var t=void 0;return function(){if(!t){var n=l(),e=n.map,r=n.filter,i=n.reduce,o=n.pipe,a=/^\d+\.\d+$/;t=o(r(d),r(function(t){return a.test(t)}),e(Number),i(function(t,n){return Math.max(t,n)},0))}return t}}();function l(){var t=a().get("ArrayUtils"),n=t.reduceSpec,e=t.mapSpec,r=t.filterSpec,i=function(t){return function(n){return e(n,t)}},o=function(t){return function(n){return r(n,t)}},u=function(t,e){return function(r){return n(r,t,e)}},f=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return n(e,function(t,n){return n(t)},t)}};return{map:i,filter:o,reduce:u,pipe:f}}function p(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(e&&r>e)return;for(var o in t){var a=t[o],u=n(o,a);if(u===!1)return!1;a&&"object"===("undefined"==typeof a?"undefined":(0,i["default"])(a))&&p(a,n,e,r+1)}}function d(t,n,e){return e.indexOf(t)===n}function g(t){if("string"==typeof t){t=t.replace(/(&#39;|)/g,"'");var n=t.toLowerCase();if(f[n])return f[n];if(/^\d+(\.\d+)?$/.test(t))return Number(t)}return t}t.exports={getSfLightningVersion:c,getNumericSfLightningVersion:g}},function(t,n,e){n.__esModule=!0;var r=e(7),i=f(r),o=e(58),a=f(o),u="function"==typeof a["default"]&&"symbol"==typeof i["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]&&t!==a["default"].prototype?"symbol":typeof t};function f(t){return t&&t.__esModule?t:{"default":t}}n["default"]="function"==typeof a["default"]&&"symbol"===u(i["default"])?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]&&t!==a["default"].prototype?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,n,e){t.exports={"default":e(8),__esModule:!0}},function(t,n,e){e(9),e(53),t.exports=e(57).f("iterator")},function(t,n,e){var r=e(10)(!0);e(13)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;if(e>=n.length)return{value:void 0,done:!0};return t=r(n,e),this._i+=t.length,{value:t,done:!1}})},function(t,n,e){var r=e(11),i=e(12);t.exports=function(t){return function(n,e){var o,a,u=String(i(n)),f=r(e),c=u.length;if(f<0||f>=c)return t?"":void 0;return o=u.charCodeAt(f),o<55296||o>56319||f+1===c||(a=u.charCodeAt(f+1))<56320||a>57343?t?u.charAt(f):o:t?u.slice(f,f+2):(o-55296<<10)+(a-56320)+65536}}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){var r=e(14),i=e(15),o=e(31),a=e(20),u=e(32),f=e(33),c=e(49),s=e(51),l=e(50)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",g="keys",m="values",v=function(){return this};t.exports=function(t,n,e,y,h,b,w){f(e,n,y);var x,S,O,E=function(t){if(!p&&t in I)return I[t];switch(t){case g:return function(){return new e(this,t)};case m:return function(){return new e(this,t)}}return function(){return new e(this,t)}},M=n+" Iterator",L=h==m,_=!1,I=t.prototype,k=I[l]||I[d]||h&&I[h],C=k||E(h),P=h?L?E("entries"):C:void 0,j="Array"==n?I.entries||k:k;if(j&&(O=s(j.call(new t)),O!==Object.prototype&&O.next&&(c(O,M,!0),r||"function"==typeof O[l]||a(O,l,v))),L&&k&&k.name!==m&&(_=!0,C=function(){return k.call(this)}),r&&!w||!p&&!_&&I[l]||a(I,l,C),u[n]=C,u[M]=v,h)if(x={values:L?C:E(m),keys:b?C:E(g),entries:P},w)for(S in x)S in I||o(I,S,x[S]);else i(i.P+i.F*(p||_),n,x);return x}},function(t,n){t.exports=!0},function(t,n,e){var r=e(16),i=e(17),o=e(18),a=e(20),u=e(30),f="prototype",c=function(t,n,e){var s,l,p,d=t&c.F,g=t&c.G,m=t&c.S,v=t&c.P,y=t&c.B,h=t&c.W,b=g?i:i[n]||(i[n]={}),w=b[f],x=g?r:m?r[n]:(r[n]||{})[f];g&&(e=n);for(s in e){if(l=!d&&x&&void 0!==x[s],l&&u(b,s))continue;p=l?x[s]:e[s],b[s]=g&&"function"!=typeof x[s]?e[s]:y&&l?o(p,r):h&&x[s]==p?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[f]=t[f],n}(p):v&&"function"==typeof p?o(Function.call,p):p,v&&((b.virtual||(b.virtual={}))[s]=p,t&c.R&&w&&!w[s]&&a(w,s,p))}};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)},function(t,n,e){var r=e(19);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(21),i=e(29);t.exports=e(25)?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(22),i=e(24),o=e(28),a=Object.defineProperty;n.f=e(25)?Object.defineProperty:function(t,n,e){if(r(t),n=o(n,!0),r(e),i)try{return a(t,n,e)}catch(u){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(23);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){t.exports=!e(25)&&!e(26)(function(){return 7!=Object.defineProperty(e(27)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){t.exports=!e(26)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},function(t,n,e){var r=e(23),i=e(16).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,e){var r=e(23);t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){t.exports=e(20)},function(t,n){t.exports={}},function(t,n,e){var r=e(34),i=e(29),o=e(49),a={};e(20)(a,e(50)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(a,{next:i(1,e)}),o(t,n+" Iterator")}},function(t,n,e){var r=e(22),i=e(35),o=e(47),a=e(44)("IE_PROTO"),u=function(){},f="prototype",c=function(){var t,n=e(27)("iframe"),r=o.length,i="<",a=">";for(n.style.display="none",e(48).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;r--;)delete c[f][o[r]];return c()};t.exports=Object.create||function(t,n){var e;return null!==t?(u[f]=r(t),e=new u,u[f]=null,e[a]=t):e=c(),void 0===n?e:i(e,n)}},function(t,n,e){var r=e(21),i=e(22),o=e(36);t.exports=e(25)?Object.defineProperties:function(t,n){i(t);for(var e,a=o(n),u=a.length,f=0;u>f;)r.f(t,e=a[f++],n[e]);return t}},function(t,n,e){var r=e(37),i=e(47);t.exports=Object.keys||function(t){return r(t,i)}},function(t,n,e){var r=e(30),i=e(38),o=e(41)(!1),a=e(44)("IE_PROTO");t.exports=function(t,n){var e,u=i(t),f=0,c=[];for(e in u)e!=a&&r(u,e)&&c.push(e);for(;n.length>f;)r(u,e=n[f++])&&(~o(c,e)||c.push(e));return c}},function(t,n,e){var r=e(39),i=e(12);t.exports=function(t){return r(i(t))}},function(t,n,e){var r=e(40);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(38),i=e(42),o=e(43);t.exports=function(t){return function(n,e,a){var u,f=r(n),c=i(f.length),s=o(a,c);if(t&&e!=e){for(;c>s;)if(u=f[s++],u!=u)return!0}else for(;c>s;s++)if((t||s in f)&&f[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var r=e(11),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,n,e){var r=e(11),i=Math.max,o=Math.min;t.exports=function(t,n){return t=r(t),t<0?i(t+n,0):o(t,n)}},function(t,n,e){var r=e(45)("keys"),i=e(46);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,n,e){var r=e(16),i=r._walkmeInternals||(r._walkmeInternals={}),o=i.coreJsShared||(i.coreJsShared={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var r=e(16).document;t.exports=r&&r.documentElement},function(t,n,e){var r=e(21).f,i=e(30),o=e(50)("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,o)&&r(t,o,{configurable:!0,value:n})}},function(t,n,e){var r=e(45)("wks"),i=e(46),o=e(16).Symbol,a="function"==typeof o,u=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};u.store=r},function(t,n,e){var r=e(30),i=e(52),o=e(44)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){if(t=i(t),r(t,o))return t[o];if("function"==typeof t.constructor&&t instanceof t.constructor)return t.constructor.prototype;return t instanceof Object?a:null}},function(t,n,e){var r=e(12);t.exports=function(t){return Object(r(t))}},function(t,n,e){e(54);for(var r=e(16),i=e(20),o=e(32),a=e(50)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<u.length;f++){var c=u[f],s=r[c],l=s&&s.prototype;l&&!l[a]&&i(l,a,c),o[c]=o.Array}},function(t,n,e){var r=e(55),i=e(56),o=e(32),a=e(38);t.exports=e(13)(Array,"Array",function(t,n){this._t=a(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;if(!t||e>=t.length)return this._t=void 0,i(1);if("keys"==n)return i(0,e);if("values"==n)return i(0,t[e]);return i(0,[e,t[e]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){n.f=e(50)},function(t,n,e){t.exports={"default":e(59),__esModule:!0}},function(t,n,e){e(60),e(70),e(71),e(72),t.exports=e(17).Symbol},function(t,n,e){var r=e(16),i=e(30),o=e(25),a=e(15),u=e(31),f=e(61).KEY,c=e(26),s=e(45),l=e(49),p=e(46),d=e(50),g=e(57),m=e(62),v=e(63),y=e(66),h=e(22),b=e(23),w=e(38),x=e(28),S=e(29),O=e(34),E=e(67),M=e(69),L=e(21),_=e(36),I=M.f,k=L.f,C=E.f,P=r.Symbol,j=r.JSON,T=j&&j.stringify,A="prototype",D=d("_hidden"),N=d("toPrimitive"),V={}.propertyIsEnumerable,F=s("symbol-registry"),R=s("symbols"),U=s("op-symbols"),B=Object[A],G="function"==typeof P,W=r.QObject,J=!W||!W[A]||!W[A].findChild,q=o&&c(function(){return 7!=O(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=I(B,n);r&&delete B[n],k(t,n,e),r&&t!==B&&k(B,n,r)}:k,z=function(t){var n=R[t]=O(P[A]);return n._k=t,n},H=G&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Q=function(t,n,e){if(t===B&&Q(U,n,e),h(t),n=x(n,!0),h(e),i(R,n))return e.enumerable?(i(t,D)&&t[D][n]&&(t[D][n]=!1),e=O(e,{enumerable:S(0,!1)})):(i(t,D)||k(t,D,S(1,{})),t[D][n]=!0),q(t,n,e);return k(t,n,e)},Y=function(t,n){h(t);for(var e,r=v(n=w(n)),i=0,o=r.length;o>i;)Q(t,e=r[i++],n[e]);return t},Z=function(t,n){return void 0===n?O(t):Y(O(t),n)},K=function(t){var n=V.call(this,t=x(t,!0));if(this===B&&i(R,t)&&!i(U,t))return!1;return!(n||!i(this,t)||!i(R,t)||i(this,D)&&this[D][t])||n},X=function(t,n){if(t=w(t),n=x(n,!0),t===B&&i(R,n)&&!i(U,n))return;var e=I(t,n);return!e||!i(R,n)||i(t,D)&&t[D][n]||(e.enumerable=!0),e},$=function(t){for(var n,e=C(w(t)),r=[],o=0;e.length>o;)i(R,n=e[o++])||n==D||n==f||r.push(n);return r},tt=function(t){for(var n,e=t===B,r=C(e?U:w(t)),o=[],a=0;r.length>a;)!i(R,n=r[a++])||e&&!i(B,n)||o.push(R[n]);return o};G||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===B&&n.call(U,e),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),q(this,t,S(1,e))};return o&&J&&q(B,t,{configurable:!0,set:n}),z(t)},u(P[A],"toString",function(){return this._k}),M.f=X,L.f=Q,e(68).f=E.f=$,e(65).f=K,e(64).f=tt,o&&!e(14)&&u(B,"propertyIsEnumerable",K,!0),g.f=function(t){return z(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:P});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var rt=_(d.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!G,"Symbol",{"for":function(t){return i(F,t+="")?F[t]:F[t]=P(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var n in F)if(F[n]===t)return n},useSetter:function(){J=!0},useSimple:function(){J=!1}}),a(a.S+a.F*!G,"Object",{create:Z,defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),j&&a(a.S+a.F*(!G||c(function(){var t=P();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){for(var n,e,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(e=n=r[1],!b(n)&&void 0===t||H(t))return;return y(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!H(n))return n}),r[1]=n,T.apply(j,r)}}),P[A][N]||e(20)(P[A],N,P[A].valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){var r=e(46)("meta"),i=e(23),o=e(30),a=e(21).f,u=0,f=Object.isExtensible||function(){return!0},c=!e(26)(function(){return f(Object.preventExtensions({}))}),s=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[r].i},p=function(t,n){if(!o(t,r)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[r].w},d=function(t){return c&&g.NEED&&f(t)&&!o(t,r)&&s(t),t},g=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,n,e){var r=e(16),i=e(17),o=e(14),a=e(57),u=e(21).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||u(n,t,{value:a.f(t)})}},function(t,n,e){var r=e(36),i=e(64),o=e(65);t.exports=function(t){var n=r(t),e=i.f;if(e)for(var a,u=e(t),f=o.f,c=0;u.length>c;)f.call(t,a=u[c++])&&n.push(a);return n}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(40);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){var r=e(38),i=e(68).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return i(t)}catch(n){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?u(t):i(r(t))}},function(t,n,e){var r=e(37),i=e(47).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,n,e){var r=e(65),i=e(29),o=e(38),a=e(28),u=e(30),f=e(24),c=Object.getOwnPropertyDescriptor;n.f=e(25)?c:function(t,n){if(t=o(t),n=a(n,!0),f)try{return c(t,n)}catch(e){}if(u(t,n))return i(!r.f.call(t,n),t[n])}},function(t,n){},function(t,n,e){e(62)("asyncIterator")},function(t,n,e){e(62)("observable")},function(t,n,e){var r=e(74).log,i=e(2).getCtx;i().register("sfModalFindElementExtender").asInstance(u);var o=e(75).addResult,a=e(4);function u(){var t=this,n="sfModalEntity",u="sfModal",f="sfModalClassName";function c(){this.sfModalIdentificationUtils=i().get("SfModalIdentificationUtils"),this.sfModalIdentificationUtils.init()}function s(t){for(var n in t)if(t[n])return!0;return!1}function l(){var e=t.sfModalIdentificationUtils.getActiveModalEntity(),r=t.sfModalIdentificationUtils.getAuraClass(),i={};return i[n]=e,i[f]=r,i}this.extendDescription=function(t,n){if(r("---------- do extendDescription ----------"),this.sfModalIdentificationUtils.isElementInAModal(t)){var i=l();s(i)&&(i.version=e(76).version,i.sfVersion=a.getSfLightningVersion(),n[u]=i,r("extendDescription - valid modal",i))}},this.findElement=function(t,i,o){r("---------- do findElement ----------");var u=t.ElementDescription,c=m(u);if(!c||!s(c))return g(!0,"desc has no sfModal"),void r("findElement - no data, continue");if(c.sfVersion=a.getNumericSfLightningVersion(c.sfVersion),void 0!==t.IsValidPageId&&!t.IsValidPageId||t.IgnorePageIdentification)return g(!0,"ignore page",l);o&&(o.pluginName="sf-lightning-modal-find-element",o.pluginVersion=e(76).version,o.pluginCaptureVersion=c.version,o.capturePlatformVersion=c.sfVersion,o.platformVersion=a.getSfLightningVersion());var p=l();if(c[n]&&d(c))return r("findElement - by entity",c[n]),g(v(c[n],p[n]),"by entity",p);if(c[f])return r("findElement - by class name",c[f]),g(y(c[f],p[f]),"by class",p);return g(!1,"findElement - bad data",p)};function p(t){return!t||t<=a.getNumericSfLightningVersion("Winter '19")}function d(t){if(t[f]&&"forceChangeOwnerContent"===t[f]&&p(t.sfVersion))return!1;return!0}function g(t,n,e){return o({skip:!t,reason:n,pageObj:e}),!!t&&void 0}function m(t){if(t[n]||t[f]){var e=t[u]={};e[n]=t[n],e[f]=t[f]}return t[u]}function v(t,n){if(r("compare modal entity"),"string"==typeof t&&(t={name:t}),!n)return r("findElement - open modal has no entity "),!1;if(void 0!==t.name&&n.name!==t.name)return r("open modal - name does not match"),!1;if(void 0!==t.mode&&t.mode!==n.mode)return r("open modal - mode does not match"),!1;if(void 0!==t.recordTypeSelectorMode&&t.recordTypeSelectorMode!==n.recordTypeSelectorMode)return r("open modal - recordTypeSelectorMode does not match"),!1;if(void 0!==t.targetRelatedListId&&t.targetRelatedListId!==n.targetRelatedListId)return r("open modal - targetRelatedListId does not match"),!1;return r("open modal - match"),!0}function y(t,n){return r("compare modal class"),n===t}c.call(this)}},function(t,n,e){var r=e(2).getCtx,i=r().get("PrelibLogger");function o(){var t=Array.prototype.slice.call(arguments);t.unshift("[ SfLightningModalFindElement ]"),i.write.apply(i,t)}function a(t){return{errMessage:t.message,errStack:t.stack}}n.log=o,n.errorData=a},function(t,n,e){var r=e(2).getCtx,i=e(74);t.exports={init:c,addResult:g};var o="wm-fe-pi-sfl",a=600,u={},f=!1;function c(){f=Math.random()<.1,f&&(d(),r().get("WindowBeforeUnloadHandler").register(s)),l()}function s(){if(f){var t=h(u);if(t.length>0){i.log("saving to storage",t);var n=r().get("CommonUtils").toJSON(t);p(n)}}}function l(){if(!r().has("BILogger"))return void i.log("no BILogger in ctx");i.log("loading events from storage");var t=r().get("ClientStorageManager").getData(o);p("[]");var n=t?r().get("CommonUtils").secureEvalJSON(t):null;if(n&&n.length>0)for(var e=0;e<n.length;e++)i.log("sending to bi",n[e]),b(n[e])}function p(t){r().get("ClientStorageManager").saveData(o,t,a)}function d(){r().get("UIChangeTracker").bind(function(){m()})}function g(t){f&&r().has("BILogger")&&y(t),i.log("result",t)}function m(){if(f){var t=h(u);if(t.length>0)for(var n=0;n<t.length;n++)t[n]&&t[n].total>0&&(i.log("sending to bi",t[n]),b(t[n]));u={}}}function v(t){return{total:0,count:0,sessionId:"",type:"sfl",key:"pi",name:"result",reason:t}}function y(t){var n=t.reason;u[n]||(u[n]=v(n));var e=u[n];e.total++,e.count+=t.skip?1:0,e.sessionId=e.sessionId||r().get("CommonUtils").toJSON(t.currPage)}function h(t){var n=[];for(var e in t)n.push(t[e]);return n}function b(t){r().has("BILogger")?r().get("BILogger").send("feperf",t):i.log("warn","no BILogger in ctx, can't send message")}},function(t,n){t.exports={_args:[[{raw:"wm-plugin-sf-lightning-modal-find-element@1.6.0",scope:null,escapedName:"wm-plugin-sf-lightning-modal-find-element",name:"wm-plugin-sf-lightning-modal-find-element",rawSpec:"1.6.0",spec:"1.6.0",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\10\\wmpack-49561AXZCGlgG6rA"]],_from:"wm-plugin-sf-lightning-modal-find-element@1.6.0",_id:"wm-plugin-sf-lightning-modal-find-element@1.6.0",_inCache:!0,_location:"/wm-plugin-sf-lightning-modal-find-element",_phantomChildren:{},_requested:{raw:"wm-plugin-sf-lightning-modal-find-element@1.6.0",scope:null,escapedName:"wm-plugin-sf-lightning-modal-find-element",name:"wm-plugin-sf-lightning-modal-find-element",rawSpec:"1.6.0",spec:"1.6.0",type:"version"},_requiredBy:["/"],_resolved:"https://npm.walkmedev.com/wm-plugin-sf-lightning-modal-find-element/-/wm-plugin-sf-lightning-modal-find-element-1.6.0.tgz",_shasum:"ea1162ef8778b68d097d35209178b59385c3b7f7",_shrinkwrap:null,_spec:"wm-plugin-sf-lightning-modal-find-element@1.6.0",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\10\\wmpack-49561AXZCGlgG6rA",dependencies:{"coffee-script":"^1.12.7","wm-prelib-plugin-entry-manager":"^0.1.0","wm-salesforce-lightning-version":"1.0.0"},description:"find element for modals",devDependencies:{browserify:"^13.0.1",grunt:"~0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-watch":"^0.6.1","grunt-git":"^0.3.7","grunt-karma":"0.10.1","grunt-release":"^0.13.0","jasmine-core":"git://github.com/WalkMe/jasmine.git#v2.2.0-wm-0.0.1","jasmine-jquery":"git://github.com/WalkMe/jasmine-jquery.git#v2.1.0-wm-0.0.1",karma:"0.12.31","karma-browserify":"^5.0.5","karma-chrome-launcher":"0.1.8","karma-firefox-launcher":"0.1.4","karma-ie-launcher":"0.1.5","karma-jasmine":"git://github.com/WalkMe/karma-jasmine.git#v0.3.5-wm-0.0.4","karma-junit-reporter":"git://github.com/WalkMe/karma-junit-reporter.git#v0.2.2-wm-0.0.1","karma-phantomjs-launcher":"0.2.0","test-page-loader":"git://github.com/WalkMe/test-page-loader.git#wm-0.0.1",watchify:"^3.7.0","wm-plugins-core":"^2.6.1","wm-tests-helper":"^0.1.8"},dist:{shasum:"ea1162ef8778b68d097d35209178b59385c3b7f7",tarball:"https://npm.walkmedev.com/wm-plugin-sf-lightning-modal-find-element/-/wm-plugin-sf-lightning-modal-find-element-1.6.0.tgz"},legoDirectoryName:"C:\\Projects\\lego\\sfLightningModalFindElement",main:"src/main.js",name:"wm-plugin-sf-lightning-modal-find-element",optionalDependencies:{},peerDependencies:{},pluginType:"delivery-general",publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{build:"grunt build",test:"grunt test"},version:"1.6.0",wmCommit:"97875ccb6338bac204465e1ebe66b0f8e23ed18f",wmLegoProject:"sfLightningModalFindElement",wmRepublishDate:"2019-01-06T09:39:04.439Z",wmRepublishOriginalVersion:"1.6.0-rc.2"}},function(t,n,e){var r=e(74),i=e(2).getCtx;i().register("SfLightningModalFindElement").asCtor(o).dependencies("sfModalFindElementExtender"),e(78)();function o(t){var n=this;n.run=u;var o;function a(){o=i().get("EventsListener")}function u(){return c(),f(),null}function f(){o.on("DataLoadedEvent",function(){try{var t=e(75);t.init()}catch(n){r.log("error","initializing BI Logger",r.errorData(n))}})}function c(){i().get("EventsListener").on("wm_walkmeLibLoaded",function(){r.log("register FindElement plugin"),_walkMe.registerFindElementPlugin(new t);var n=_walkmeInternals.extendElementDescription;window._walkmeInternals.extendElementDescription=function(){var t=Array.prototype.slice.call(arguments,0);return n&&(t[1]=n.apply(this,t)),window._makeTutorial.getFindElementPluginManager().extendDescription.apply(this,t)}})}a()}},function(t,n,e){var r=e(2).getCtx,i=r(),o=(e(74).log,"ExtendIdentifySettingsOnCaptureCallbacksArray");t.exports=function(){i.has(o)||i.register(o).asInstance([]),i.get(o).push(t);function t(t){var n=t.ElementDescription.sfModal;return n&&(t.IgnorePageIdentification=0,t.IsValidPageId=1),t}}}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-salesforce-lightning-find-element@1.1.3@prelib",{name:"wm-plugin-salesforce-lightning-find-element",version:"1.1.3",toolbelt:"1.2.3",packageDate:"2019-01-20T11:37:03.096Z",entry:"prelib"},function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r=n(2).createPluginEntry;e.exports=r(function(e){var t=n(3).FEPluginSalesforceLightning;e(new t)})},function(e,t){var n,r={createPluginEntry:i,getCtx:o};function i(e){return function(t){n=t(),e(a)}}function o(){return n.ctx}function a(e){n.plugin(e)}t.__esModule=!0,t["default"]=r,t.createPluginEntry=r.createPluginEntry,t.getCtx=r.getCtx},function(e,t,n){var r=n(2).getCtx;function i(){var e=this;e.run=a;var t,i=function(){return window.aura&&!0};function o(){t=r().get("EventsListener")}function a(){var e=n(4);t.once("DataLoadedEvent",function(){try{var t=n(7);t.init()}catch(i){r("error","initializing BI Logger",e.errorData(i))}}),t.once("wm_walkmeLibLoaded",function(){try{if(i()){var t=n(8),o=_walkmeInternals.extendElementDescription;_walkmeInternals.extendElementDescription=function(){var e=Array.prototype.slice.call(arguments,0);return o&&(e[1]=o.apply(this,e)),t.extendElementDescription.apply(t,e)},r("info","plugin ready"),e.log("plugin version:",n(6).version)}}catch(a){r("error","initializing extendElementDescription",e.errorData(a))}try{var u=n(86).pluginClass;_makeTutorial.registerFindElementPlugin(new u)}catch(a){r("error","initializing FE plugin",e.errorData(a))}});function r(n,r,i){t.once("WalkMeReady",function(){e.logzioLog(n,r,i)})}}o()}t.FEPluginSalesforceLightning=i},function(e,t,n){var r=n(2).getCtx,i=r().get("PrelibLogger"),o=n(5)(r()),a="SalesforceLightningFindElement";function u(){var e=Array.prototype.slice.call(arguments);e.unshift("[ FE-Salesforce-lightning ]"),i.write.apply(i,e)}function s(e,t,r){u.apply(this,arguments),r=r||{},r.level=e,r.plugin=a,r.pluginVersion=n(6).version,o.sendLog(t,r)}function c(e){return{errMessage:e.message,errStack:e.stack}}t.log=u,t.logzioLog=s,t.errorData=c},function(e,t){var n,r=function(){function e(e){var t=this;this._ctx=e,this._messageQueue=[],this._eventsListener=e.get("EventsListener"),this._eventsListener.on("DataLoadedEvent",function(){t._eventSenderErrorLogger||(t._eventSenderErrorLogger=t._ctx.get("EventSenderErrorLogger"),t.emptyQueue())})}return e.prototype.sendLog=function(e,t){if(!e)return;if(!this._eventSenderErrorLogger)return void this.pushToQueue(e,t);this._eventSenderErrorLogger.logError(e,t)},e.prototype.pushToQueue=function(e,t){this._messageQueue.push({message:e,extraData:t})},e.prototype.emptyQueue=function(){for(var e=0;e<this._messageQueue.length;e++)this._eventSenderErrorLogger.logError(this._messageQueue[e].message,this._messageQueue[e].extraData);this._messageQueue=null},e}();e.exports=function(e){return n?n:n=new r(e)}},function(e,t){e.exports={_args:[[{raw:"wm-plugin-salesforce-lightning-find-element@1.1.3",scope:null,escapedName:"wm-plugin-salesforce-lightning-find-element",name:"wm-plugin-salesforce-lightning-find-element",rawSpec:"1.1.3",spec:"1.1.3",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\10\\wmpack-49566ANodRWRHP3g"]],_from:"wm-plugin-salesforce-lightning-find-element@1.1.3",_id:"wm-plugin-salesforce-lightning-find-element@1.1.3",_inCache:!0,_location:"/wm-plugin-salesforce-lightning-find-element",_phantomChildren:{},_requested:{raw:"wm-plugin-salesforce-lightning-find-element@1.1.3",scope:null,escapedName:"wm-plugin-salesforce-lightning-find-element",name:"wm-plugin-salesforce-lightning-find-element",rawSpec:"1.1.3",spec:"1.1.3",type:"version"},_requiredBy:["/"],_resolved:"https://npm.walkmedev.com/wm-plugin-salesforce-lightning-find-element/-/wm-plugin-salesforce-lightning-find-element-1.1.3.tgz",_shasum:"68e9f4aa9edaeb502276bd2f4e0395f1dceba25c",_shrinkwrap:null,_spec:"wm-plugin-salesforce-lightning-find-element@1.1.3",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\10\\wmpack-49566ANodRWRHP3g",dependencies:{"babel-cli":"6.26.0","babel-plugin-transform-runtime":"6.23.0","babel-preset-env":"^1.7.0","coffee-script":"^1.12.7","wm-babel-runtime":"6.26.0","wm-logzio-sender":"1.1.0","wm-prelib-plugin-entry-manager":"0.1.0","wm-salesforce-lightning-version":"1.0.0","wm-xpath-utils":"2.0.0"},description:"Identify pages in SalesForce lightning. Save it on ElementDescription for better accuricy.",devDependencies:{browserify:"13.3.0",eslint:"4.10.0",grunt:"~0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-copy":"1.0.0","grunt-contrib-watch":"^0.6.1","grunt-git":"^0.3.7","grunt-karma":"0.10.1","grunt-release":"^0.13.0","jasmine-core":"git://github.com/WalkMe/jasmine.git#v2.2.0-wm-0.0.1","jasmine-jquery":"git://github.com/WalkMe/jasmine-jquery.git#v2.1.0-wm-0.0.1",karma:"0.12.31","karma-browserify":"^5.0.5","karma-chrome-launcher":"0.1.8","karma-firefox-launcher":"0.1.4","karma-ie-launcher":"0.1.5","karma-jasmine":"git://github.com/WalkMe/karma-jasmine.git#v0.3.5-wm-0.0.4","karma-junit-reporter":"git://github.com/WalkMe/karma-junit-reporter.git#v0.2.2-wm-0.0.1","karma-phantomjs-launcher":"0.2.0","test-page-loader":"git://github.com/WalkMe/test-page-loader.git#wm-0.0.1",watchify:"^3.7.0","wm-grunt-module-validate":"0.1.2","wm-package-json-validate":"0.1.1","wm-plugins-core":"^2.6.2","wm-tests-helper":"^0.1.8"},dist:{shasum:"68e9f4aa9edaeb502276bd2f4e0395f1dceba25c",tarball:"https://npm.walkmedev.com/wm-plugin-salesforce-lightning-find-element/-/wm-plugin-salesforce-lightning-find-element-1.1.3.tgz"},legoDirectoryName:"c:\\Projects\\lego\\wm-plugin-page-identifier-salesforce-console",main:"dist/main.js",name:"wm-plugin-salesforce-lightning-find-element",optionalDependencies:{},peerDependencies:{},pluginType:"core-product",publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{build:"babel src -d dist && grunt build",lint:"eslint src",postbuild:"npm run lint",prepublish:"npm run build ",test:"grunt test",validate:"grunt validate-code"},version:"1.1.3",wmCommit:"334d1b103fd73e64f2eadea070297b059d494dbc",wmLegoProject:"wm-plugin-salesforce-lightning-find-element",wmRepublishDate:"2019-01-20T11:02:18.354Z",wmRepublishOriginalVersion:"0.0.1-ci.20190120094304.334d1b10"}},function(e,t,n){var r=n(2).getCtx,i=n(4);e.exports={init:c,addResult:f};var o="wm-fe-pi-sfl",a=600,u={},s=Math.random()<.1;function c(){l(),r().get("WindowBeforeUnloadHandler").register(g),p()}function l(){i.log("registering"),r().get("UIChangeTracker").bind(function(){s&&m(),s=Math.random()<.1})}function f(e){i.log("result",e),s&&h(e)}function p(){if(!r().has("BILogger"))return void i.log("no BILogger in ctx");i.log("loading events from storage");var e=r().get("ClientStorageManager").getData(o);d("[]");var t=e?r().get("CommonUtils").secureEvalJSON(e):null;if(t&&t.length>0)for(var n=0;n<t.length;n++)i.log("sending to bi",t[n]),w(t[n])}function d(e){r().get("ClientStorageManager").saveData(o,e,a)}function g(){if(s){var e=y(u);if(e.length>0){i.log("saving to storage",e);var t=r().get("CommonUtils").toJSON(e);d(t)}}}function m(){var e=y(u);if(e.length>0)for(var t=0;t<e.length;t++)e[t]&&e[t].total>0&&(i.log("trying to send to bi",e[t]),w(e[t]));u={}}function v(e){return{total:0,count:0,sessionId:"",type:"sfl",key:"pi",name:"result",reason:e}}function h(e){var t=e.reason;u[t]||(u[t]=v(t));var n=u[t];n.total++,n.count+=e.skip?1:0,n.sessionId=n.sessionId||r().get("CommonUtils").toJSON(e.currPage)}function y(e){var t=[];for(var n in e)t.push(e[n]);return t}function w(e){r().has("BILogger")?r().get("BILogger").send("feperf",e):i.log("warn","no BILogger in ctx, can't send message")}},function(e,t,n){var r=n(2).getCtx,i=r(),o=n(9),a=n(4),u=n(13),s="ExtendIdentifySettingsOnCaptureCallbacksArray";i.has(s)||i.register(s).asInstance([]),i.get(s).push(c);function c(e){var t=e.ElementDescription.sfLightning;return t&&!e.IsValidPageId&&(e.IgnorePageIdentification=t.page?t.ignore:1,e.IsValidPageId=t.page?1:0),t&&t.data&&"detailItem"===t.data.type&&(e.StepSensitivity=0),e}e.exports={extendElementDescription:l};function l(e,t){var r=i.get("CommonUtils"),s=r.secureEvalJSON(t),c=o.recognizeElement(e),l=o.pageType(),f=s.sfLightning={version:n(6).version,sfVersion:u.getSfLightningVersion()};return l&&(f.page=l,f.ignore=o.shouldIgnorePage(e)),c&&(f.exactEl=c.exact,f.data=c),a.log("el desc",s.sfLightning),r.toJSON(s)}},function(e,t,n){var r=n(4),i=n(10),o=n(11),a=n(84),u=n(85),s=u.pageType,c=u.isSamePage,l=n(12),f=l.types,p=l.typeOrder,d=n(13),g=d.shadowJqueryFind,m=d.isDevVersion,v=d.semverCompare,h=d.clearObj,y=d.removeFromKeys,w=d.getAvailableProps,b=d.eq,x=d.travelToFirstOfTypes,L=d.getComponent,S=d.getContainer,_=d.extendMtVisibleFilter,k=d.removeIndexPrefix,E=n(82);function I(e){var t=void 0,n=void 0,r=e;do{if(t=j(p,S(r)),!t)return;r=t.comp,n=t.type}while(f[n].notContext===!0);return N(t)}var C=function(){return{dropdownArrow:function(e){var t=e.comp;return{exact:!0,info:P("dropdownArrow",t)}},lightningButton:function(e){var t=e.comp;return{exact:!0,info:{id:t.get("v.onclick").getDef().getName()}}},dropDown:function(e){var t=e.comp,n=I(t);if("ui:actionMenuItem"===t.type)return{selector:"li.uiMenuItem",info:{id:k(t.get("v.id")),context:n}};if("force:actionEventLink"===t.type)return{selector:"div.forceActionLink",info:{id:t.get("v.action.devNameOrId"),context:n}};if("ui:radioMenuItem"===t.type)return{selector:"li.uiMenuItem.uiRadioMenuItem",info:{id:t.get("v.value"),context:n}}},rtComp:function(e){var t=e.comp;if(v(E.version,"1.0.20")>0||m(E.version)){var n="relatedRecord",r=wmjQuery(f[n].selector,t.getElement());if(1===r.length){var i=M(r[0],n),o=i&&i.comp;if(o)return{info:P(n,o)}}}var a=t.get("v.componentInfoDefRef")[0],u=a.componentDef.descriptor,s={descriptor:u};if(v(E.version,"1.0.16")>0||m(E.version)){var c=void 0;a&&(c=a.attributes&&a.attributes.values&&a.attributes.values.entityName&&a.attributes.values.entityName.value),s.value=c}return{info:s}},quickLink:function(){var e=/(.*) \(.*\)/;return function(t){var n=t.comp,r=t.el,i=n.get("v.relatedLists"),o=r?wmjQuery(r):n.getElement(),a="li.rlql-relatedListQuickLink",u=o.is(a)?o:o.closest(a);if(!(u.length>0))return{selector:"div.forceRelatedListQuickLinksContainer",exact:!0};var s=g("a.rlql-relatedListLink span",u).attr("title");e.test(s)&&(s=e.exec(s)[1]);for(var c=0;c<i.length;c++)if(i[c].label===s)return{selector:a,info:{id:i[c].relatedListApiName},exact:!0}}}()}}();function P(e,t){var n=f[e].context&&I(t),r=f[e].info?w(f[e].info,t):{};return r.context=n,r}var j=function(e,t){if("string"==typeof e)return x([e],t);var n=x(e,t);if(!n){r.log("component is of unknown type. trying runtime comp");var i=x(["rtComp"],t);if(!i)return void r.log("component is of unknown type. doing nothing");return i}return n},M=function(e,t){var n=L(e);if(!n)return void r.log("no component found for the element. doing nothing");return j(t||p,n)};function N(e){var t=e.type,n=e.comp,i=e.el;return C[t]?(r.log("component has exceptional type",t),C[t]({comp:n,el:i})):(r.log("regular component of type",t),{info:P(t,n),type:t})}function O(e){E.version=n(6).version,E.page={};var t=D(e);return E.version=void 0,E.page=void 0,t}var D=function(e){var t=M(e,p);if(!t)return;var n=t.comp,r=t.type;if("detailPanel"===r&&wmjQuery(e,n.getElement()).closest(".forcePageBlockItem").length){var u=a.capture(e);if(u)return u}if("blacklist"===r)return;if("navbar"===r)return o.capture(e);var s=N({comp:n,type:r,el:e}),c=s.info,l=s.selector,d=s.exact;if(!l&&(l=f[r].selector,"string"!=typeof l&&l.length)){var g=wmjQuery.inArray(n.type,f[r].types);l=l[g]}var m=n.getElement(),v=void 0;if(void 0===d&&(d=e===m),!d){var h=wmjQuery(e),y=wmjQuery(m);v=i.xpathArrayToString(i.calculateXpath(h,y))}return{type:r,info:c,selector:l,xpath:v,exact:d}},A=function(e){var t=wmjQuery.extend(!0,{},e);return"div.slds-clearfix.slds-card.forceDetailPanel"===t.selector&&(t.selector="div.slds-clearfix.slds-card[class*=forceDetailPanel]"),h(["selector","exact","xpath"],t.info),y([/^v\./],t.info),T(t),t};function V(e){var t=e.page,n=e.version,r=e.data,i=e.modal;E.version=n,E.page=t;var o=A(r),a=R({data:o,modal:i});return E.version=void 0,E.page=void 0,a}function T(e){var t=e.type,n=e.info;"actionLink"===t&&n["action.devNameOrId"]&&(n["action.devNameOrId"]=n["action.devNameOrId"].replace(/_\d+$/,""),E.page&&"Task"===E.page.sObjectName&&(n.context=n.context||{type:"highlights",info:{}}))}function Q(e){var t=e.type,n=e.info;return T({type:t,info:n}),n}function R(e){var t=e.data,n=e.modal,i=t.type,u=t.info,s=t.selector;if("navbar"===i)return o.find(t);if("detailItem"===i)return a.find(t);for(var c=window.wmjQuery(s,n).filter(":mt_visible").filter(_),l=0;l<c.length;l++){var f=M(c[l],i);if(!f)continue;var p=void 0;if(p=v(E.version,"1.0.16")>0||m(E.version)?h(["selector","exact","xpath"],N(wmjQuery.extend({},f,{el:c[l]}))):N(wmjQuery.extend({},f,{el:c[l]})),f.type===i&&b(u,Q(p)))return r.log("found a context element of type",i),wmjQuery(c[l])}return}var B=function(e){return wmjQuery("header#oneHeader.slds-global-header_container.oneHeader").find(e).length};e.exports={recognizeElement:O,pageType:s,isSamePage:c,shouldIgnorePage:B,findElementContext:V}},function(e,t){e.exports={calculateXpath:r,xpathArrayToString:n};function n(e){for(var t=new Array(5*e.length),n=0;n<e.length;n++){var r=e[n];t.push("/"),t.push(r.tag),t.push("["),t.push(r.index),t.push("]")}var i=t.join("").toLowerCase();return i}function r(e,t){for(var n,r=(e[0],t||wmjQuery()),o=[];e.length&&1==e[0].nodeType&&e[0]!=r[0];e=n)n=e.parent(),o.push(i(e,n));return o=o.reverse()}function i(e,t){var n=1,r=e[0];if("HTML"!=o(r))for(var i=t.children(),u=0;u<i.length&&i[u]!=r;u++)a(i[u],r)&&n++;return{tag:o(r),index:n}}function o(e){var t=e.tagName;return t.toUpperCase&&(t=t.toUpperCase()),t}function a(e,t){return e.tagName==t.tagName}},function(e,t,n){var r=n(10),i=n(12).types.navbar.selector,o=/\/lightning\/[^\/]+\/([^?#\/]+)/,a=/\/sObject\/([^?#\/]+)/,u=/#?\/home$/,s=/\/([^\/]+)$/,c=/\//,l=n(13),f=l.shadowJqueryFind,p=l.extendMtVisibleFilter,d=n(83),g=d.map,m=function(e,t){return e.is(t)?e:e.closest(t)},v=function(e,t){var n=m(e,M[t].selector);if(0!==n.length)return{type:t,id:M[t].id(n),parent:n}},h=function(e){var t=a.exec(e);if(t)return t[1];if(t=o.exec(e))return t[1];if(t=u.exec(e))return"home";if(t=c.exec(e),!t)return e;if(t=s.exec(e))return t[1]},y=function(e){var t=e.match(/https?:\/\/[^\/]*(\/.+)/);if(t)return h(t[1]);return},w=function(e,t){return g(function(e){return e.concat(t)},e.split(",")).join(",")},b=function(e){return y(f("a.slds-context-bar__label-action",e.closest(k))[0].href)},x=function(e){return y(f('a[role*="menuitem"], a[role*="menuitemcheckbox"]',e)[0].href)},L=function(e){return y(f("a.slds-context-bar__label-action",e)[0].href)},S=function(e){return function(){return e}},_="one-app-nav-bar one-app-nav-bar-item-dropdown",k="li.slds-context-bar__item.slds-shrink-none:not(.slds-context-bar__dropdown-trigger.hidden), one-app-nav-bar-item-root.navItem",E="li.slds-context-bar__item.slds-context-bar__dropdown-trigger.slds-shrink-none, div.more-item",I=[w(E," one-tmp-menu-item"),w(E," one-app-nav-bar-menu-item")].join(","),C="nav.appLauncher",P="span.appName",j="li.editGlobalNav, div.editGlobalNav",M={dropdown:{id:b,selector:_},innerMenuItem:{id:x,selector:I},moreItem:{id:S("wmMore"),selector:E},regularItem:{id:L,selector:k},appLauncher:{id:S("id"),selector:C},appName:{id:S("id"),selector:P},editNavbar:{id:S("id"),selector:j},navbar:{id:S("navbar"),selector:i}},N=function(e){return v(e,"dropdown")||v(e,"innerMenuItem")||v(e,"moreItem")||v(e,"regularItem")||v(e,"appName")||v(e,"editNavbar")||v(e,"appLauncher")||v(e,"navbar")||{}},O=function(e,t){if("regularItem"===e||"innerMenuItem"===e)return M.regularItem.selector.concat(", ",M.innerMenuItem.selector,t?" a":"");return M[e].selector},D=function(e){var t=wmjQuery(e),n=N(t),i=n.type,o=n.id,a=n.parent;if(!i)return;var u=a===t;return{type:"navbar",info:{type:i,id:o},selector:O(i,u),exact:u,xpath:u?void 0:r.xpathArrayToString(r.calculateXpath(t,a))}},A=function(e){var t=wmjQuery.extend(!0,{},e),n=O(t.info.type,t.exact);return"innerMenuItem"!==t.info.type&&"regularItem"!==t.info.type||t.selector===n||(t.selector=n),t},V=function(e){if(!e.info||!e.info.type)return!1;var t=A(e);return T(t)},T=function(e){var t=e.exact,n=e.info,r=n.type,i=n.id;i=h(i).toLowerCase();for(var o=wmjQuery(O(r,t)).filter(function(e,t){var n=wmjQuery(t);return n.is("one-tmp-menu-item")||n.is("one-app-nav-bar-menu-item")||p(e,t)&&n.is(":mt_visible")}),a=0;a<o.length;a++)if(N(wmjQuery(o[a])).id.toLowerCase()===i)return wmjQuery(o[a])};e.exports={find:V,capture:D}},function(e,t){e.exports={typeOrder:["userProfileCard","lightningButton","listViewManager","listViewHeader","listViewButtons","actionButton","quickLink","blacklist","calendarHeader","settingsMenuButton","menuList","displaySwitcher","recommendations","homeAssistant","detailPanel","dropdownArrow","card","recentItems","news","navbar","actionLink","dropDown","quickAction","header","listViewGrid","highlights"],types:{userProfileCard:{types:["one:userProfileCard"],selector:".oneUserProfileCard"},highlights:{types:["force:highlightsPanel"],selector:"header.forceHighlightsPanel"},header:{types:["one:header"],selector:"header#oneHeader.slds-global-header_container.oneHeader"},card:{types:["force:relatedListCardDesktop","force:relatedListSingleContainer"],selector:["article.slds-card.slds-card_boundary.forceRelatedListCardDesktop","div.container.forceRelatedListSingleContainer"],info:["relatedListConfig.entityKeyPrefix","relatedListConfig.relatedListApiName"]},dropdownArrow:{types:["force:deferredDropDownAction","force:virtualAction"],selector:["div.actionsContainer > div.forceDeferredDropDownAction, div.actionsContainer > ul.forceDeferredDropDownAction","div.forceVirtualActionMarker.forceVirtualAction > a.rowActionsPlaceHolder, div.forceVirtualActionMarker.forceVirtualAction > ul.oneActionsRibbon"],context:!0,notContext:!0},rtComp:{types:["flexipage:runtimeComponent"],selector:"div.flexipageComponent"},settingsMenuButton:{types:["force:listViewSettingsMenu"],selector:"div.test-listViewSettingsMenu.forceListViewSettingsMenu"},displaySwitcher:{types:["force:listViewManagerDisplaySwitcher"],selector:"div.test-listviewdisplayswitcher.forceListViewManagerDisplaySwitcher"},lightningButton:{types:["lightning:button"],selector:"button.slds-button"},actionLink:{types:["force:actionEventLink"],info:["action.devNameOrId"],selector:"a.forceActionLink",context:!0},navbar:{types:["one:appNavContainer"],selector:"one-appnav"},menuList:{types:["force:actionsDropDownMenuList"],selector:"div.actionMenu.popupTargetContainer.uiPopupTarget.uiMenuList.forceActionsDropDownMenuList",context:!0},quickAction:{types:["force:publisherQuickActionCollapser"],selector:"div.testid__publisher-quick-action-collapser.forcePublisherQuickActionCollapser",info:["quickActionApiName"]},quickLink:{types:["force:relatedListQuickLinksContainer"]},dropDown:{types:["ui:actionMenuItem","ui:radioMenuItem","force:actionEventLink"],selector:"li.uiMenuItem",info:["id","action.devNameOrId"]},news:{types:["wits:newsPanel"],selector:"div.witsNewsPanel"},recentItems:{types:["flexipage:recentItems"],selector:"div.recentItemsContainer.flexipageRecentItems"},detailPanel:{types:["force:detailPanel","force:quickActionLayout"],selector:["div.slds-clearfix.slds-card[class*=forceDetailPanel]","div.container.forceQuickActionLayout"],info:["isInlineEditMode","quickActionName"]},relatedRecord:{types:["console:relatedRecord"],selector:"article.consoleRelatedRecord",info:["updateQuickActionName","mode"]},appTile:{types:["salesforceIdentity:appLauncherTile"],selector:"div.app-grid > ul > li > div",info:["app.Name"]},homeAssistant:{types:["home:assistant"],selector:"div.slds-card.homeAssistant"},recommendations:{types:["forceChatter:recommendations"],selector:"div.forceChatterRecommendationListWidget.forceChatterRecommendations.forceChatterRelatedCardContainer.loaded"},actionButton:{types:["force:actionButton"],selector:".slds-button.uiButton.forceActionButton",info:["action.devNameOrId"]},blacklist:{types:["ui:tabBar"]},listViewButtons:{types:["force:listViewManagerButtonBar"],selector:"force-list-view-manager-button-bar",version:"1.1.1"},listViewGrid:{types:["force:listViewManagerPrimaryDisplayManager"],selector:"div.slds-col.slds-no-space.forceListViewManagerPrimaryDisplayManager"},listViewHeader:{types:["force:listViewManagerHeader"],selector:".forceListViewManagerHeader",version:"1.1.1"},listViewManager:{types:["force:listViewManager"],selector:".forceListViewManager",version:"1.1.1"},calendarHeader:{types:["force:calendarHeader"],selector:".calendarHeader div.slds-page-header.slds-page-header_joined"}}}},function(e,t,n){var r=n(14),i=o(r);function o(e){return e&&e.__esModule?e:{"default":e}}var a=n(2).getCtx,u=window.aura,s=n(12),c=s.types,l=n(81),f=/^\d+:/,p=n(82);function d(e){return"0.0.1-dev"===e}function g(e){return!e||e<l.getNumericSfLightningVersion("Winter '19")}function m(e){return e>l.getNumericSfLightningVersion("Winter '19")}function v(e){if(!u)return;for(var t=wmjQuery(e),n=u.getComponent(t[0]);t.length&&t[0]!==document.body&&!n;)t=t.parent(),n=u.getComponent(t[0]);return n}var h=function(){var e=void 0;return function(t,n){return e||(e=a().get("JQuerySelectorRunnerShadow")),e.run(t,n)}}();function y(e){if(!e)return!0;for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t]&&null!==e[t])return!1;return!0}function w(e,t){for(var n=t.getDef().getAttributeDefs().getNames(),r={},i=0;i<e.length;i++){var o=e[i],a=o.split(".");if(n.indexOf(a[0])!==-1){var u=t.get("v."+a[0]);if(a.length>1)for(var s=1;s<a.length&&(u=u[a[s]],u);s++);u&&(r[o]=u)}}return r}function b(e,t){for(var n="",r=t.getElement()&&wmjQuery(t.getElement()).closest("div.modal-container").length;"one:one"!==t.type&&t.type!==n;){if(r&&t.getElement()&&!wmjQuery(t.getElement()).closest("div.modal-container").length||!r&&t.getElement()&&wmjQuery(t.getElement()).closest("div.modal-container").length)return;n=t.type;for(var i=0;i<e.length;i++){var o=e[i],a=c[o];if(a&&p.version&&E(p.version,a.version)<0&&!d(p.version))continue;if(t.type===o||a&&a.types.includes(t.type))return{comp:t,type:o}}t=x(t)}return}function x(e){if(!e)return;for(var t=e.getOwner(),n=t.getType(),r=void 0;("aura:iteration"===n||"aura:if"===n||t.isInstanceOf("ui:virtualComponent")||t.isInstanceOf("ui:abstractList")||t.isInstanceOf("ui:abstractDataGrid"))&&(t=t.getOwner(),n=t.getType(),t!==r);)r=t;return t}var L=function(){return wmjQuery("div.modal-container > div.modal-body").length},S=function(){return L()?wmjQuery("div.modal-container"):void 0},_=function(e){return function(t){if(t)return e(t)}};function k(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n={};for(var r in e){if(n[r])continue;if("object"===(0,i["default"])(e[r])){if("object"!==(0,i["default"])(t[r])||!k(e[r],t[r]))return!1}else if(e[r]!==t[r])return!1;n[r]=!0}for(var o in t){if(n[o])continue;if("object"===(0,i["default"])(t[o])){if("object"!==(0,i["default"])(e[o])||!k(e[o],t[o]))return!1}else if(e[o]!==t[o])return!1}return!0}function E(e,t){if(!e&&!t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.split("."),r=t.split("."),i=0;i<2;i++){var o=Number(n[i]),a=Number(r[i]);if(o>a)return 1;if(a>o)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}if(n=n[2].split("-"),r=r[2].split("-"),o=Number(n[0]),a=Number(r[0]),o>a)return 1;if(a>o)return-1;if(n[1]&&!r[1])return-1;if(!n[1]&&r[1])return 1;return 0}var I=function M(e,t){for(var n in t){if(wmjQuery.inArray(n,e)!==-1){t[n]=void 0;continue}"object"===(0,i["default"])(t[n])&&M(e,t[n])}return t},C=function N(e,t){for(var n in t){for(var r=0;r<e.length;r++)if(e[r].test(n)){var o=n.replace(e[r],"");t[o]=t[n],t[n]=void 0,n=o}"object"===(0,i["default"])(t[n])&&N(e,t[n])}return t},P=function(e){return e.replace(f,"")},j=function(e,t){return t.offsetWidth>0&&t.offsetHeight>0};e.exports={clearObj:I,travelToFirstOfTypes:b,getContainer:x,isOpenModal:L,getModalContainer:S,aura:u,getComponent:v,ifNotNull:_,eq:k,getAvailableProps:w,isEmpty:y,removeFromKeys:C,semverCompare:E,isDevVersion:d,isBeforeWinter19:g,isAfterWinter19:m,shadowJqueryFind:h,getSfLightningVersion:l.getSfLightningVersion,getNumericSfLightningVersion:l.getNumericSfLightningVersion,removeIndexPrefix:P,extendMtVisibleFilter:j}},function(e,t,n){t.__esModule=!0;var r=n(15),i=s(r),o=n(66),a=s(o),u="function"==typeof a["default"]&&"symbol"==typeof i["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]&&e!==a["default"].prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{"default":e}}t["default"]="function"==typeof a["default"]&&"symbol"===u(i["default"])?function(e){return"undefined"==typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]&&e!==a["default"].prototype?"symbol":"undefined"==typeof e?"undefined":u(e)}},function(e,t,n){e.exports={"default":n(16),__esModule:!0}},function(e,t,n){n(17),n(61),e.exports=n(65).f("iterator")},function(e,t,n){var r=n(18)(!0);n(21)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;if(n>=t.length)return{value:void 0,done:!0};return e=r(t,n),this._i+=e.length,{value:e,done:!1}})},function(e,t,n){var r=n(19),i=n(20);e.exports=function(e){return function(t,n){var o,a,u=String(i(t)),s=r(n),c=u.length;if(s<0||s>=c)return e?"":void 0;return o=u.charCodeAt(s),o<55296||o>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):o:e?u.slice(s,s+2):(o-55296<<10)+(a-56320)+65536}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(22),i=n(23),o=n(39),a=n(28),u=n(40),s=n(41),c=n(57),l=n(59),f=n(58)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",g="keys",m="values",v=function(){return this};e.exports=function(e,t,n,h,y,w,b){s(n,t,h);var x,L,S,_=function(e){if(!p&&e in C)return C[e];switch(e){case g:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",E=y==m,I=!1,C=e.prototype,P=C[f]||C[d]||y&&C[y],j=P||_(y),M=y?E?_("entries"):j:void 0,N="Array"==t?C.entries||P:P;if(N&&(S=l(N.call(new e)),S!==Object.prototype&&S.next&&(c(S,k,!0),r||"function"==typeof S[f]||a(S,f,v))),E&&P&&P.name!==m&&(I=!0,j=function(){return P.call(this)}),r&&!b||!p&&!I&&C[f]||a(C,f,j),u[t]=j,u[k]=v,y)if(x={values:E?j:_(m),keys:w?j:_(g),entries:M},b)for(L in x)L in C||o(C,L,x[L]);else i(i.P+i.F*(p||I),t,x);return x}},function(e,t){e.exports=!0},function(e,t,n){var r=n(24),i=n(25),o=n(26),a=n(28),u=n(38),s="prototype",c=function(e,t,n){var l,f,p,d=e&c.F,g=e&c.G,m=e&c.S,v=e&c.P,h=e&c.B,y=e&c.W,w=g?i:i[t]||(i[t]={}),b=w[s],x=g?r:m?r[t]:(r[t]||{})[s];g&&(n=t);for(l in n){if(f=!d&&x&&void 0!==x[l],f&&u(w,l))continue;p=f?x[l]:n[l],w[l]=g&&"function"!=typeof x[l]?n[l]:h&&f?o(p,r):y&&x[l]==p?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(p):v&&"function"==typeof p?o(Function.call,p):p,v&&((w.virtual||(w.virtual={}))[l]=p,e&c.R&&b&&!b[l]&&a(b,l,p))}};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(27);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(29),i=n(37);e.exports=n(33)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(30),i=n(32),o=n(36),a=Object.defineProperty;t.f=n(33)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(31);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(33)&&!n(34)(function(){return 7!=Object.defineProperty(n(35)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(34)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(31),i=n(24).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(31);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=n(28)},function(e,t){e.exports={}},function(e,t,n){var r=n(42),i=n(37),o=n(57),a={};n(28)(a,n(58)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(30),i=n(43),o=n(55),a=n(52)("IE_PROTO"),u=function(){},s="prototype",c=function(){var e,t=n(35)("iframe"),r=o.length,i="<",a=">";for(t.style.display="none",n(56).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+a+"document.F=Object"+i+"/script"+a),e.close(),c=e.F;r--;)delete c[s][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[s]=r(e),n=new u,u[s]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(29),i=n(30),o=n(44);e.exports=n(33)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(45),i=n(55);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(38),i=n(46),o=n(49)(!1),a=n(52)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(47),i=n(20);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(48);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(46),i=n(50),o=n(51);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=i(s.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(19),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(19),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)};
},function(e,t,n){var r=n(53)("keys"),i=n(54);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(24),i=r._walkmeInternals||(r._walkmeInternals={}),o=i.coreJsShared||(i.coreJsShared={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(24).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(29).f,i=n(38),o=n(58)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(53)("wks"),i=n(54),o=n(24).Symbol,a="function"==typeof o,u=e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))};u.store=r},function(e,t,n){var r=n(38),i=n(60),o=n(52)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){if(e=i(e),r(e,o))return e[o];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?a:null}},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(62);for(var r=n(24),i=n(28),o=n(40),a=n(58)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){var r=n(63),i=n(64),o=n(40),a=n(46);e.exports=n(21)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;if(!e||n>=e.length)return this._t=void 0,i(1);if("keys"==t)return i(0,n);if("values"==t)return i(0,e[n]);return i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){t.f=n(58)},function(e,t,n){e.exports={"default":n(67),__esModule:!0}},function(e,t,n){n(68),n(78),n(79),n(80),e.exports=n(25).Symbol},function(e,t,n){var r=n(24),i=n(38),o=n(33),a=n(23),u=n(39),s=n(69).KEY,c=n(34),l=n(53),f=n(57),p=n(54),d=n(58),g=n(65),m=n(70),v=n(71),h=n(74),y=n(30),w=n(31),b=n(46),x=n(36),L=n(37),S=n(42),_=n(75),k=n(77),E=n(29),I=n(44),C=k.f,P=E.f,j=_.f,M=r.Symbol,N=r.JSON,O=N&&N.stringify,D="prototype",A=d("_hidden"),V=d("toPrimitive"),T={}.propertyIsEnumerable,Q=l("symbol-registry"),R=l("symbols"),B=l("op-symbols"),F=Object[D],H="function"==typeof M,W=r.QObject,q=!W||!W[D]||!W[D].findChild,J=o&&c(function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(F,t);r&&delete F[t],P(e,t,n),r&&e!==F&&P(F,t,r)}:P,z=function(e){var t=R[e]=S(M[D]);return t._k=e,t},G=H&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},U=function(e,t,n){if(e===F&&U(B,t,n),y(e),t=x(t,!0),y(n),i(R,t))return n.enumerable?(i(e,A)&&e[A][t]&&(e[A][t]=!1),n=S(n,{enumerable:L(0,!1)})):(i(e,A)||P(e,A,L(1,{})),e[A][t]=!0),J(e,t,n);return P(e,t,n)},K=function(e,t){y(e);for(var n,r=v(t=b(t)),i=0,o=r.length;o>i;)U(e,n=r[i++],t[n]);return e},X=function(e,t){return void 0===t?S(e):K(S(e),t)},$=function(e){var t=T.call(this,e=x(e,!0));if(this===F&&i(R,e)&&!i(B,e))return!1;return!(t||!i(this,e)||!i(R,e)||i(this,A)&&this[A][e])||t},Y=function(e,t){if(e=b(e),t=x(t,!0),e===F&&i(R,t)&&!i(B,t))return;var n=C(e,t);return!n||!i(R,t)||i(e,A)&&e[A][t]||(n.enumerable=!0),n},Z=function(e){for(var t,n=j(b(e)),r=[],o=0;n.length>o;)i(R,t=n[o++])||t==A||t==s||r.push(t);return r},ee=function(e){for(var t,n=e===F,r=j(n?B:b(e)),o=[],a=0;r.length>a;)!i(R,t=r[a++])||n&&!i(F,t)||o.push(R[t]);return o};H||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(B,n),i(this,A)&&i(this[A],e)&&(this[A][e]=!1),J(this,e,L(1,n))};return o&&q&&J(F,e,{configurable:!0,set:t}),z(e)},u(M[D],"toString",function(){return this._k}),k.f=Y,E.f=U,n(76).f=_.f=Z,n(73).f=$,n(72).f=ee,o&&!n(22)&&u(F,"propertyIsEnumerable",$,!0),g.f=function(e){return z(d(e))}),a(a.G+a.W+a.F*!H,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=I(d.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!H,"Symbol",{"for":function(e){return i(Q,e+="")?Q[e]:Q[e]=M(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in Q)if(Q[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!H,"Object",{create:X,defineProperty:U,defineProperties:K,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),N&&a(a.S+a.F*(!H||c(function(){var e=M();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],!w(t)&&void 0===e||G(e))return;return h(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,O.apply(N,r)}}),M[D][V]||n(28)(M[D],V,M[D].valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(54)("meta"),i=n(31),o=n(38),a=n(29).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(34)(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},p=function(e,t){if(!o(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},d=function(e){return c&&g.NEED&&s(e)&&!o(e,r)&&l(e),e},g=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(e,t,n){var r=n(24),i=n(25),o=n(22),a=n(65),u=n(29).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(44),i=n(72),o=n(73);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,u=n(e),s=o.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(48);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(46),i=n(76).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?u(e):i(r(e))}},function(e,t,n){var r=n(45),i=n(55).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(73),i=n(37),o=n(46),a=n(36),u=n(38),s=n(32),c=Object.getOwnPropertyDescriptor;t.f=n(33)?c:function(e,t){if(e=o(e),t=a(t,!0),s)try{return c(e,t)}catch(n){}if(u(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(70)("asyncIterator")},function(e,t,n){n(70)("observable")},function(e,t,n){var r=n(14),i=o(r);function o(e){return e&&e.__esModule?e:{"default":e}}var a=n(2).getCtx,u=window.aura,s={"spring '17":39,"summer '17":40,"winter '18":41,"spring '18":42,"summer '18":43,"winter '19":44,"spring '19":45},c=function(){var e=void 0,t=0;return function(){if(void 0!==e)return e;if(t>=5||!u)return e="";var n=l(),r=[];p(u.services,function(e,t){return t&&t.version&&"string"==typeof t.version&&r.push(t.version)},4);var i=n(r);if(i>0)return e=i;return++t,""}}(),l=function(){var e=void 0;return function(){if(!e){var t=f(),n=t.map,r=t.filter,i=t.reduce,o=t.pipe,a=/^\d+\.\d+$/;e=o(r(d),r(function(e){return a.test(e)}),n(Number),i(function(e,t){return Math.max(e,t)},0))}return e}}();function f(){var e=a().get("ArrayUtils"),t=e.reduceSpec,n=e.mapSpec,r=e.filterSpec,i=function(e){return function(t){return n(t,e)}},o=function(e){return function(t){return r(t,e)}},u=function(e,n){return function(r){return t(r,e,n)}},s=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){return t(n,function(e,t){return t(e)},e)}};return{map:i,filter:o,reduce:u,pipe:s}}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(n&&r>n)return;for(var o in e){var a=e[o],u=t(o,a);if(u===!1)return!1;a&&"object"===("undefined"==typeof a?"undefined":(0,i["default"])(a))&&p(a,t,n,r+1)}}function d(e,t,n){return n.indexOf(e)===t}function g(e){if("string"==typeof e){e=e.replace(/(&#39;|)/g,"'");var t=e.toLowerCase();if(s[t])return s[t];if(/^\d+(\.\d+)?$/.test(e))return Number(e)}return e}e.exports={getSfLightningVersion:c,getNumericSfLightningVersion:g}},function(e,t){e.exports={}},function(e,t){function n(e,t,n){if(t=t||n[0],!t)throw"func you";for(var r=t,i=0;i<n.length;i++)r=e(r,n[i],i,n);return r}function r(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n}function i(e,t){for(var n=[],r=0,i=0;r<t.length;r++)e(t[r])&&(n[i]=e(t[r],r,t),i++);return n}e.exports={map:r,reduce:n,filter:i}},function(e,t,n){t.__esModule=!0,t.capture=p,t.find=d;var r=n(10),i=n(13),o=i.getModalContainer,a=i.travelToFirstOfTypes,u=i.getComponent,s=i.getAvailableProps,c=i.extendMtVisibleFilter;function l(e){var t=a(["force:pageBlockItemView","force:pageBlockItemEdit"],u(e[0]));if(!t)return{};var n=s(["targetValue"],t.comp),r=n&&n.targetValue||"";return{id:r.toLowerCase(),parent:wmjQuery(t.comp.getElement()),type:"force:pageBlockItemView"===t.comp.getType()?"view":"edit"}}function f(){return".forcePageBlockItem.forcePageBlockItemView, .forcePageBlockItem.forcePageBlockItemEdit"}function p(e){var t=wmjQuery(e),n=l(t),i=n.type,o=n.id,a=n.parent;if(!i||!o)return;var u=a[0]===t[0];return{type:"detailItem",info:{type:i,id:o},selector:f(i),exact:u,xpath:u?void 0:r.xpathArrayToString(r.calculateXpath(t,a))}}function d(e){for(var t=e.info,n=t.id,r=t.type,i=e.selector,a=wmjQuery(i,o()).filter(":mt_visible").filter(c),u=0;u<a.length;u++){var s=l(wmjQuery(a[u]));if(s.id===n&&s.type===r)return wmjQuery(a[u])}}},function(e,t,n){var r=n(4),i=n(13),o=i.travelToFirstOfTypes,a=i.getAvailableProps,u=i.getComponent,s=i.isOpenModal,c=i.aura;function l(){if(s())return void r.log("modal, not enhancing page id");var e=u(wmjQuery("header#oneHeader.slds-global-header_container.oneHeader")[0]);if(!e)return;var t=o(["one:standardLayoutContainer","laf:standardLayoutContainer"],e);if(!t)return;var n=a(["state.attributes"],t.comp),i=n["state.attributes"];if(!i){var l=a(["pageRefTx"],c.getRoot()),d=l.pageRefTx;if(!d)return;return f(d.dispositionValue.attributes)}return p(i)}function f(e){var t=e.name,n=e.pageName,r=e.actionName,i=e.objectApiName;return t||n||r||i?{pageName:n,name:t,actionName:r,sObjectName:i}:void 0}function p(e){var t=e.name,n=e.pageName,r=e.actionName,i=e.sObjectName;return t||n||r||i?{pageName:n,name:t,actionName:r,sObjectName:i}:void 0}function d(e,t){var n=function(n){return e[n]===t[n]};if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;if(n("pageName")&&n("actionName")&&n("sObjectName"))return!0;return!1}e.exports={pageType:l,isSamePage:d}},function(e,t,n){e.exports={pluginClass:l};var r=n(9),i=n(10),o=n(7),a=n(4),u=n(2).getCtx,s=n(13),c={"slds-form-element__label test-id__field-label":"test-id__field-label","forcePageBlockItem forcePageBlockItemView full slds-has-flexi-truncate slds-p-horizontal_x-small":"slds-has-flexi-truncate slds-col slds-grid full forcePageBlockItem forcePageBlockItemView","slds-form-element slds-form-element_edit slds-hint-parent slds-p-vertical_xx-small":"slds-form-element slds-hint-parent","slds-form-element__static slds-form-element_separator slds-grow test-id__field-value":"test-id__field-value slds-form-element__static slds-grow is-read-only","forcePageBlockItem forcePageBlockItemEdit full slds-has-flexi-truncate slds-p-horizontal_medium":"slds-has-flexi-truncate slds-is-editing full forcePageBlockItem forcePageBlockItemEdit","inline-edit-trigger slds-button slds-button--icon-container slds-button_icon slds-button_icon-small slds-shrink-none test-id__inline-edit-trigger":"slds-button test-id__inline-edit-trigger slds-button_icon slds-button_icon-small slds-shrink-none inline-edit-trigger slds-button_icon-container"};function l(){this.extendOriginalSettings=function(n,i){var o=n.ElementDescription,u=wmjQuery.extend(!0,{},o.sfLightning);if(!u||!u.page&&!u.data&&!o.sfModal)return o.noSfLightning=!0,f(!0,"no sf lightning data on desc");u.sfVersion=s.getNumericSfLightningVersion(u.sfVersion),a.log("element desc version:",u.version),a.log("element desc SF version:",u.sfVersion);var c=r.pageType();if(a.log("element was captured on",u.page,". current page id is",c),(void 0===n.IsValidPageId||n.IsValidPageId)&&!n.IgnorePageIdentification&&(a.log("page is important."),!r.isSamePage(u.page,c)))return l(i,u),o.doNotRun=!0,f(!1,"different page",c);var p=s.getModalContainer();if(o.sfModal&&!p||!o.sfModal&&p)return l(i,u),o.doNotRun=!0,f(!1,"wrong modal state.",{sfModal:o.sfModal,sfLightning:c});o.doNotRun=!1;var d=Boolean(o.sfModal),g=u.data;if(!g)return p&&d&&e(p,u,o),f(!0,"desc has no data");l(i,u),u.isModal=d;var m=r.findElementContext({version:u.version,data:u.data,page:u.page,modal:p});if(!m||!m.length)return o.doNotRun=!0,f(!1,"no context found",c);return t(n,o,u,m),e(m,u,o),o.sfLightEnhanced=!0,f(!0,"same page",c)};function e(e,t,n){if(n.customContext=e,n.preDefinedSuspects=void 0,n.autoQuery="",n.exactEl=t.exactEl?e[0]:void 0,t.data&&t.data.xpath){var r=i.xpathArrayToString(i.calculateXpath(e));n.elementXpath=r+t.data.xpath}}function t(e,t,n,r){t.elementClass&&s.isBeforeWinter19(n.sfVersion)&&!s.isBeforeWinter19(s.getSfLightningVersion())&&!n.classAdapted&&u(t),"navbar"===n.data.type&&s.isAfterWinter19(s.getSfLightningVersion())&&o(e,t,n,r)}function o(e,t,n,r){"editNavbar"===n.data.info.type&&(n.data.xpath="/lightning-button-icon[1]"+n.data.xpath,e.StepSensitivity=0),"innerMenuItem"===n.data.info.type&&!n.data.exact&&r.closest("one-app-nav-bar-item-dropdown").length&&(n.data.xpath="/one-app-nav-bar-item-dropdown[1]/div[1]"+n.data.xpath)}function u(e){var t=e.elementClass.split(" ").filter(Boolean).sort().join(" "),n=c[t]||t;e.sfLightning.classAdapted=!0,e.elementClass=n,e["class"]=n}function l(e,t){e&&(e.pluginName="salesforce-lightning-find-element",e.pluginVersion=n(6).version,e.pluginCaptureVersion=t.version,e.capturePlatformVersion=t.sfVersion,e.platformVersion=s.getSfLightningVersion())}function p(e){e.customContext=void 0,e.exactEl=void 0}this.findElement=function(e,t){if(e.ElementDescription.noSfLightning)return;if(e.ElementDescription.doNotRun)return!1;var n=e.ElementDescription.exactEl;return n&&(p(e.ElementDescription),t&&(t.score=15)),n},this.extendAdaptedSettings=function(e,t){if(e.ElementDescription.noSfLightning)return;t.customContext=e.ElementDescription.customContext,t.autoQuery=e.ElementDescription.autoQuery},this.extendResult=function(e,t,n){if(p(e.ElementDescription),!n.elements[0])return;if(t.attributes.id){var r=n.elements[0].totalScore;e.IsIgnoreId||(n.elements[0].totalScore=Math.max(r-6,.1))}e.ElementDescription.sfLightEnhanced&&(n.elements[0].totalScore+=6,e.ElementDescription.sfLightning.data&&e.ElementDescription.sfLightning.data.xpath&&e.ElementDescription.sfLightning.data.xpath.split("/").length>6&&(n.elements[0].totalScore-=2))}}function f(e,t,n){return o.addResult({skip:!e,currPage:u().get("CommonUtils").toJSON(n),reason:t}),!!e&&void 0}}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-wm-jquery-shadow-dom@2.3.1@prelib",{name:"wm-plugin-wm-jquery-shadow-dom",version:"2.3.1",toolbelt:"1.2.3",packageDate:"2019-01-13T10:10:20.100Z",entry:"prelib"},function(e){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}return t.m=e,t.c=n,t.p="",t(0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){var r=t(2).createPluginEntry;e.exports=r(function(e){var n=t(3).WmJqueryShadowDom;e(new n)})},function(e,n){var t,r={createPluginEntry:o,getCtx:i};function o(e){return function(n){t=n(),e(a)}}function i(){return t.ctx}function a(e){t.plugin(e)}n.__esModule=!0,n["default"]=r,n.createPluginEntry=r.createPluginEntry,n.getCtx=r.getCtx},function(e,n,t){var r=t(2).getCtx;t(4).log;t(5);function o(){var e=this;e.run=o;function n(){}function o(){var e={};if(r().has("FeaturesManager")){var n=r().get("FeaturesManager");n.isFeatureEnabled("shadow-dom-no-cache")?e.useCache=!1:n.isFeatureEnabled("shadow-dom-use-cache")&&(e.useCache=!0)}t(6)(wmjQuery,e)}n()}n.WmJqueryShadowDom=o},function(e,n,t){var r=t(2).getCtx,o=r().get("PrelibLogger");function i(){var e=Array().slice.call(arguments);e.unshift("[ WmJqueryShadowDom ]"),o.write.apply(o,e)}n.log=i},function(e,n,t){var r=t(2).getCtx;r().register("ShadowDOMPluginSupportLevel").asCtor(o);function o(){var e=this;e.get=n;function n(){return 3}}},function(e,n,t){var r=t(2).getCtx,o=t(7),a=t(8),u=t(11),s=t(10),l=t(13),c=t(15).hasNativeShadowDOM,f=t(15);e.exports=function(e,n){var d=t(12)(e),m=t(18)(n);function h(e){return e}function p(e,n,t,r){return r=r||o.toArray,function(o,i){return r(g(o,e,i,n||"",t||h))}}function g(e,n,t,r,o){return E(t,e,n,r,o)}var w={".walkme-current-language, .walkme-language":!0,".walkme-language":!0,"a .walkme-open-ticket":!0};function v(e,n,t){if(e===document&&w[n])return y(e,n,t),t}function y(e,n,t){var r=o.toArray(N().querySelectorAll(e,n));for(i=0;i<r.length;i++)t.push(r[i]);return t}function S(n,t,r){r=r||[];var i,a=k.chunkSelector(t),u=a[0],s=a[1],l=n;try{if(v(n,t,r))return r}catch(c){}for(var f=0;f<u.length;f++){if("/deep/"===u[f]&&f<u.length-1)continue;l=E(u[f],l,"querySelectorAll","",h),0===f&&u[f].match(/^\[id=[\'\"].+[\'\"]\]$/)&&(i=e(n).filter(u[f]),i&&i.length>0&&(l=e(l).add(o.toArray(i)),i=void 0))}return o.arrForEach(l,function(e,n){r.push(e)}),s&&(S(n,s,r),k.uniqueSort(r)),r}function E(n,t,r,i,a){if(!n)return[];var l=m.getShadowContext(t,{values:!0}),c=l.values,f=l.containers,d=l.content,h=[];e(t).each(function(e,t){var i="function"==typeof r?r(t):r;h=h.concat(o.toArray(a(N()[i](t,n))))});var p=i+n;o.arrForEach(c.shadowRoot,function(e,n){var t=N().querySelectorAll(e,p);t&&t.length&&(h=h.concat(o.toArray(t)))});var g=d.slot.concat(d.content),w=u.getElementsChildren(f.shadowRoot);return w.length>0&&(h=o.arrFilter(h,function(e,n){return!o.arrContains(w,e)})),h=s(h,g,p),k.uniqueSort(h)}function C(e,n){for(var t=0;t<a.children.length;t++)if(a.children[t].test(e))return a.children[t][n](e)}function j(e){return function(n){return function(t,r){var o=t;if(1===t.nodeType&&(o=e.element),9===t.nodeType&&(o=e.doc),11===t.nodeType&&(o=e.docFrag),o[n])return o[n].call(t,r)}}}function x(e){return function(n,t){if(n[e])return n[e](t)}}function b(e){return function(n,t){return n[t]=e(t),n}}var N=function(){var e,n=["getElementById","getElementsByTagName","getElementsByName","getElementsByClassName","querySelectorAll"];return function(){if(void 0!==e)return e;if(!r().has("NativeDocumentFunctionsProvider"))return e=o.arrReduce(n,b(x),{});return natFuncProv=r().get("NativeDocumentFunctionsProvider"),e=o.arrReduce(n,b(j(natFuncProv)),{})}}(),R={wmjQuery:{contains:function(e,n){return e=d.unwrapElement(e),n=d.unwrapElement(n),u.strongContains(e,n)},queryHelpers:{useQuerySpeedUpFuncs:!1,getElementById:p("getElementById","#",function(e){return e?[e]:[]},function(e){return e&&e.length?e[0]:e}),getElementsByTagName:p(function(e){if(e.getElementsByTagName.toString().indexOf("[native code]")>0)return"querySelectorAll";return"getElementsByTagName"}),getElementsByName:p("getElementsByName"),getElementsByClassName:p("getElementsByClassName","."),querySelectorAll:S}},sizzle:{sortOrder:function(){var n=e.find.sortOrder;return n&&n!==e.find.sortOrderFuncs.vanilla?function(t,r){var o;return(o=e.fnHelpers.isInShadow(t)||e.fnHelpers.isInShadow(r)?k.sortOrderFuncs.vanilla:n)(d.unwrapElement(t),d.unwrapElement(r))}:n}(),siblingCheck:function(){if(e.find.siblingCheck)return function(n,t,r,o){if(n===t)return r;o=o||e.fnHelpers.parentNode(n);var i=e.fnHelpers.parentType(n,o),a=e.fnHelpers.parentType(t,o);if(i!==a)return i-a;for(var u=mtjQuery.fnHelpers.nextSibling(n,o);u;){if(u===t)return-1;u=mtjQuery.fnHelpers.nextSibling(u,o)}return 1}}()},fnHelpers:{parentNode:function(e){var n,t=e;do n=t,t=o.arrReduce(a.parents,function(e,t){return e||t.parent(n)},void 0);while(t&&t!==n&&11===t.nodeType);return t},parentType:function(n){var t=e.fnHelpers.parentNode(n);if(!t)return 0;var r,i=n;do{r=i;var u;if(i=o.arrReduce(a.parents,function(e,n,t){if(e)return e;var o=n.parent(r);if(o)return u=t+1,o},void 0),i===t)return u}while(i&&i!==r&&11===i.nodeType);return a.length+1},isInShadow:function(n){var t,r=n;do{if(t=e.fnHelpers.parentNode(r),e.fnHelpers.isInDirectShadow(r,t))return!0;r=t}while(t);return!1},isInDirectShadow:function(n,t){if(t=t||e.fnHelpers.parentNode(n),t&&t!==n.parentNode)return!0},firstChild:function(e){return C(e,"firstChild")},firstElementChild:function(e){return C(e,"firstElementChild")},childNodes:function(e){return C(e,"childNodes")},dirParentEquals:function(n,t,r){for(r=r||e.fnHelpers.parent(n),n=n[t];n;n=n[t])if(e.fnHelpers.parentEquals(n,r))return n},nextSibling:function(n,t){return e.fnHelpers.dirParentEquals(n,"nextSibling",t)},previousSibling:function(n,t){return e.fnHelpers.dirParentEquals(n,"previousSibling",t)},previousSiblingArr:function(n,t,r){return e.fnHelpers.previousSibling(n,t[r])}},fnDefs:{next:function(e){return mtjQuery.nth(e,2,[mtjQuery.fnHelpers.nextSibling,mtjQuery.fnHelpers.parentNode(e)])},prev:function(e){return mtjQuery.nth(e,2,[mtjQuery.fnHelpers.previousSibling,mtjQuery.fnHelpers.parentNode(e)])},nextAll:function(e){return mtjQuery.dir(e,[mtjQuery.fnHelpers.nextSibling,mtjQuery.fnHelpers.parentNode(e)])},prevAll:function(e){return mtjQuery.dir(e,[mtjQuery.fnHelpers.previousSibling,mtjQuery.fnHelpers.parentNode(e)])},nextUntil:function(e,n,t){return mtjQuery.dir(e,[mtjQuery.fnHelpers.nextSibling,mtjQuery.fnHelpers.parentNode(e)],t)},prevUntil:function(e,n,t){return mtjQuery.dir(e,[mtjQuery.fnHelpers.previousSibling,mtjQuery.fnHelpers.parentNode(e)],t)}},relative:{"~":function(){var n=e.find.selectors.relative["~"];return function(e,t,r){for(var o=new Array(e.length),i=0;i<e.length;i++)o[i]=mtjQuery.fnHelpers.parentNode(e[i]);var a=[mtjQuery.fnHelpers.previousSiblingArr,o];return n(e,t,r,a)}}()},filters:{enabled:function(){var n=e.expr.filters.enabled;return function(e){var t=e&&(e.matches||e.msMatchesSelector);if(t)return t.call(e,":enabled");return n(e)}}()}},Q={sibling:function(e,n){for(var t=[],r=e&&mtjQuery.fnHelpers.parentNode(e);e;e=e.nextSibling)1!==e.nodeType||e===n||r&&!mtjQuery.fnHelpers.parentEquals(e,r)||t.push(e);return t}};function D(e,n){var t={};for(var r in n)t[r]=e[r];return e.extend(n),t}function q(e,n){var t={};for(var r in n)t[r]=e[r],e[r]=n[r];return t}var k;function H(){k=e.find,q(e.fnHelpers,R.fnHelpers),r().get("EventsListener").once("wm_walkmeLibLoaded",function(){q(e.queryHelpers,N())}),e.getShadowContext=m.getShadowContext,e.getShadowRoots=m.getShadowRoots,e.hasShadowContext=m.hasShadowContext,l.initPlugin(),r().register("ShadowVersion").asInstance({get:f.getCurrentPlatformVersion}),r().register("ShadowJQueryBindingWrapper").asCtor(A),_()}function A(){var n;this.run=function(e){try{t();var n=e();return r(),n}catch(o){return r(),e()}};function t(){!n&&c()&&(n={sizzle:q(k,R.sizzle),wmjQuery:q(e,R.wmjQuery),fnDefs:q(e.fnDefs,R.fnDefs),relative:q(e.find.selectors.relative,R.relative),filters:q(e.expr.filters,R.filters),extend:D(e,Q)})}function r(){n&&(q(k,n.sizzle),q(e,n.wmjQuery),q(e.fnDefs,n.fnDefs),q(e.find.selectors.relative,n.relative),q(e.expr.filters,n.filters),D(e,n.extend),n=void 0)}}function _(){var e;r().decorate("JQuerySelectorRunner",n),r().register("JQuerySelectorRunnerShadow",t);function n(n){return e=n.run,n.run=function(){var t=o.toArray(arguments);return r().get("FeaturesManager").isFeatureEnabled("disableShadowjQueryWrapper")?e.apply(n,t):r().get("ShadowJQueryBindingWrapper").run(function(){return e.apply(n,t)})},n}function t(){this.run=function(){var n=o.toArray(arguments);return r().get("ShadowJQueryBindingWrapper").run(function(){var t=r().get("JQuerySelectorRunner"),o=e||t.run;return o.apply(t,n)})}}}H()}},function(e,n){e.exports={toArray:t,arrForEach:r,arrMap:i,arrFilter:a,arrReduce:u,concatArrays:s,binaryFind:l,arrContains:o};function t(e){if(!e||!e.length)return[];return Array.prototype.slice.call(e,0)}function r(e,n){for(var t=0;t<e.length;t++)if(n(e[t],t)===!1)return}function o(e,n){var t=!1;return r(e,function(e,r){if(e===n)return t=!0,!1}),t}function i(e,n){var t=[];return r(e,function(e,r){t.push(n(e,r))}),t}function a(e,n){var t=[];return r(e,function(e,r){n(e,r)&&t.push(e)}),t}function u(e,n,t){var o=t;return r(e,function(e,t){o=n(o,e,t)}),o}function s(e){return u(e,function(e,n){return e.concat(n)},[])}function l(e,n,t){var r,o,i=0,a=e.length-1;if(0===e.length)return{found:!1,index:0};for(;i<=a;)if(r=(i+a)/2|0,o=e[r],t(o,n)<0)i=r+1;else{if(!(t(o,n)>0))return{found:!0,index:r};a=r-1}return{found:!1,index:t(o,n)<0?r+1:r}}},function(e,n,t){var r=t(9);e.exports={parents:[r.slot,r.content,r.regular,r.shadowRoot],children:[r.shadowRoot,r.slot,r.content,r.regular]}},function(e,n,t){var r=t(7),o=t(10);e.exports={regular:{test:function(e){return!0},children:function(e){return e.children},childNodes:function(e){return e.childNodes},firstChild:function(e){return e.firstChild},firstElementChild:function(e){return e.firstElementChild},parent:function(e){return e.parentNode},getRoot:function(e){return[e]}},shadowRoot:{test:function(e){return this.value(e)},value:function(e){return e.shadowRoot||wmjQuery.fnHelpers.wrapIfNeeded(e).shadowRoot},children:function(e){var n=this.value(e);return n&&n.children||[]},childNodes:function(e){var n=this.value(e);return n&&n.childNodes},firstChild:function(e){var n=this.value(e);return n&&n.firstChild},firstElementChild:function(e){var n=this.value(e);return n&&n.firstElementChild},parent:function(e){return e.host},getRoot:function(e){return[this.value(e)]}},slot:{test:function(e){return this.value(e).assignedNodes&&wmjQuery.nodeName(e,"slot")},value:function(e){return e.assignedNodes?e:wmjQuery.fnHelpers.wrapIfNeeded(e)},children:function(e){var n=this.value(e);return r.toArray(n.assignedNodes&&n.assignedNodes()||[])},childNodes:function(e){return this.children(e)},firstChild:function(e){return this.children(e)[0]},firstElementChild:function(e){return i(this.children(e))},parent:function(e){return e.assignedSlot||wmjQuery.fnHelpers.wrapIfNeeded(e).assignedSlot},getRoot:function(e){return[a(this.children(e))]}},content:{test:function(e){return this.value(e).getDistributedNodes&&wmjQuery.nodeName(e,"content")},value:function(e){return e.getDistributedNodes?e:wmjQuery.fnHelpers.wrapIfNeeded(e)},children:function(e){var n=this.value(e);return r.toArray(n.getDistributedNodes&&n.getDistributedNodes()||[])},childNodes:function(e){return this.children(e)},firstChild:function(e){return this.children(e)[0]},firstElementChild:function(e){return i(this.children(e))},parent:function(e){var n=e.getDestinationInsertionPoints?e:wmjQuery.fnHelpers.wrapIfNeeded(e);if(n.getDestinationInsertionPoints){var t=n.getDestinationInsertionPoints();return t&&t[0]}},getRoot:function(e){return[a(this.children(e))]}},iframe:{test:function(e){return wmjQuery.nodeName(e,"iframe")&&this.value(e)},value:function(e){try{return e.contentDocument}catch(n){}},getRoot:function(e){return[this.value(e)]}}};function i(e){for(var n,t=0;n=e[t++];)if(1===n.nodeType)return n;return null}function a(e){return{querySelectorAll:function(n){return o([],e,n)}}}},function(e,n,t){var r=t(7);e.exports=function(e,n,t){return n.length>0&&(e=e.concat(o(n,t)),r.arrForEach(n,function(n,o){n.querySelectorAll&&(e=e.concat(r.toArray(n.querySelectorAll(t))))})),e};function o(e,n){for(var t=[],o=e.length-1;o>=0;o--){var i=e[o].parentNode;i&&i.querySelectorAll&&(t=t.concat(r.toArray(i.querySelectorAll(n))))}return r.arrFilter(e,function(e,n){return r.arrContains(t,e)})}},function(e,n,t){var r=t(7),o=t(12)(wmjQuery);function i(e,n){return e!==n&&r.arrReduce(wmjQuery(e).children(),function(e,t){return t=o.unwrapElement(t),e||t===n||i(t,n)},!1)}function a(e){for(var n=[],t=0;t<e.length;t++)n=n.concat(u(e[t]));return n}function u(e){return e.querySelectorAll?r.toArray(e.querySelectorAll("*")):e.getElementsByTagName?r.toArray(e.getElementsByTagName("*")):[]}e.exports={strongContains:i,getElementsChildren:a,getElementChildren:u}},function(e,n){var t;function r(e){for(var n=0;n<t.length;n++)if(e[t[n]])return e[t[n]];return e}function o(e){return e.__wrapper8e3dd93a60__||e}var i={unwrapElement:r};e.exports=function(e){return t=t||function(){var n=document.getElementsByTagName("html")[0];if(n.__impl4cf1e782hg__)return e.fnHelpers.wrapIfNeeded=function(n){if(n.length>0)return e(n).map(function(e,n){return o(n)});return o(n)},["__impl4cf1e782hg__"];return[]}(),i}},function(e,n,t){e.exports={initPlugin:c};var r,o=t(2).getCtx,i=t(7),a=t(14),u=t(9),s=t(15),l=t(4);function c(){o().get("EventsListener").on("wm_walkmeLibLoaded",function(){r=_walkmeInternals.extendElementDescription,_walkmeInternals.extendElementDescription=f,_makeTutorial.registerFindElementPlugin(new p)})}function f(e,n,a){h("CAPTURE ELEMENT"),l.log("Start extendElementDescription:"),r&&(n=r(e,n,a));for(var u=t(16)(),c=u.parse(n),f=o().get("ShadowJQueryBindingWrapper").run(function(){return d(e,c).reverse()}),m=[],p=1;p<f.length;p++)f[p]&&wmjQuery.fnHelpers.isInDirectShadow(f[p-1],f[p])&&m.unshift(f[p]);var g=i.arrFilter(i.arrMap(m,function(e){return(e.tagName||"").toUpperCase()}),function(e){return e&&"HTML"!==e&&"SHADOW"!==e});return l.log("found "+g.length+" shadow parents"),g.length>0?(l.log("saving shadow-parents data on ElementDescription"),c.shadow={shadowTags:g,version:t(17).version,platformVersion:s.getCurrentPlatformVersion()},n=u.stringify(c)):l.log("nothing to save - doing nothing"),l.log("End extendElementDescription"),n}function d(e,n){var t=(n.elementXpath.match(/\/(iframe|frame)\[/g)||[]).length;if(0===t)return m(e);var r=[],o=a.getIframeChain(e,document,t);if(o)for(var i=0;i<o.length;i++)r=r.concat(m(o[i]));return r=r.concat(m(e))}function m(e){var n=wmjQuery(e).parents().toArray().reverse();return n.push(e),n}function h(e){l.log("-----------"+(e||"")+"-----------")}function p(){var e=[u.shadowRoot,u.content,u.slot,u.iframe];this.extendOriginalSettings=function(e){if(h("FIND ELEMENT"),l.log("### extendOriginalSettings"),e.ElementDescription.customContext)return void l.log("element has custom context, doing nothing");var n=e.ElementDescription;if(!n.shadow)return void l.log("ElementDescription has no shadow data - fallback to original find-element");if(l.log("ElementDescription has shadow data: ",n.shadow.shadowTags),!s.hasNativeCustomElements())return l.log("document does not support native custom elements - adapting ElementDescription (xpath, autoQuery, shadowTags)"),n.elementXpath=n.elementXpath.replace(/\/(content|slot)\[\d+\]/gi,""),n.autoQuery=(n.autoQuery||"").replace(/\s(content|slot)\s/gi," ").replace(/(content|slot)\[.*\]\s/gi," "),void(n.shadow.shadowTags=i.arrFilter(n.shadow.shadowTags,function(e){return e=(e||"").toLowerCase(),"content"!==e}));l.log("document supports native custom elements - do nothing")},this.extendAdaptedSettings=function(r,o,a){if(l.log("### extendAdaptedSettings"),r.ElementDescription.customContext)return void l.log("element has custom context, doing nothing");var u=r.ElementDescription;if(!u.shadow)return void l.log("ElementDescription has no shadow data - fallback to original find-element");var c=u.shadow.shadowTags;if(!c||c.length<=0)return void l.log("ElementDescription has no shadow data - fallback to original find-element");if(!s.hasNativeShadowDOM())return void l.log("document does not support native shadow-dom - fallback to original find-element");l.log("ElementDescription has shadow data:",c),l.log("searching for context");for(var f,d=[document],m=0;m<c.length;m++)if(f=c[m],d=i.arrReduce(n(d,f),function(n,t){for(var r=0;r<e.length;r++)if(e[r].test(t))return n.concat(e[r].getRoot(t));return n.concat([t])},[]),0===d.length){l.log("did not find context",m,f);break}l.log("context:",d);var h=o.elementType,p=n(d,h);o.visibilityFilter&&(p=wmjQuery(p).filter(o.visibilityFilter)),l.log("found "+p.length+" suspects:",p),0===p.length?(l.log("no suspects found - abort find-element"),p=[wmjQuery("<not-my-div>")]):l.log("continuing find-element on these suspects"),a&&(a.pluginName="jquery-shadow-dom",a.pluginVersion=t(17).version,a.pluginCaptureVersion=u.shadow.version,a.capturePlatformVersion=u.shadow.platformVersion,a.platformVersion=s.getCurrentPlatformVersion()),o.preDefinedSuspects=p};function n(e,n){return i.arrReduce(e,function(e,t){return e.concat(i.toArray(t.querySelectorAll(n)))},[])}}},function(e,n){e.exports={getIframeChain:r,traverseIframes:t};function t(e,n,r,o,i){for(var a=wmjQuery("iframe:not(#walkme-hidden-iframe,#walkme-native-functions),frame",e),u=0;u<a.length;u++)try{var s=a[u].contentWindow,l=a[u].contentDocument;if(!s||!l)continue;if(n(a[u],s,l)===!1)return!1;if((o<i||i<0)&&t(l,n,r,o+1,i)===!1)return r&&r(a[u],s,l),!1}catch(c){}}function r(e,n,r){var o=[];return t(n,function(n,t,r){if(wmjQuery(r).find(e).length>0)return o=[n],!1},function(e,n,t){o.push(e)},1,r),o}},function(e,n,t){e.exports={hasNativeShadowDOM:u,hasNativeCustomElements:p,getCurrentPlatformVersion:a};var r,o,i=t(14);function a(){if(r)return r.join();var e=(t(12)(wmjQuery),""),n="";return m(s)?(e="Polymer",n=m(l)||""):m(c)&&(e="WebComponents",n=m(f)||""),r=[[e,n].join("")],u()&&r.push("NativeShadowDOM"),r.join()}function u(){if(void 0!==o)return o;return o=m(d)}function s(e,n){return!!e.Polymer}function l(e,n){return e.Polymer&&e.Polymer.version}function c(e,n){return!!e.WebComponents}function f(e,n){var t=n.getElementsByTagName("html")[0];if(t.__impl4cf1e782hg__)return"__impl4cf1e782hg__"}function d(e,n){var t;return e.Polymer&&e.Polymer.Settings&&void 0!==e.Polymer.Settings.useShadow&&(t=e.Polymer.Settings.useShadow),!t&&wmjQuery.hasShadowContext(n)&&(t=!0),t}function m(e){return e(window,document)||h(document,e)}function h(e,n){var t=!1;return i.traverseIframes(e,function(e,r,o){if(t=n(r,o))return!1},null,0,-1),t}function p(){return m(g)}function g(e){if(e.Polymer&&e.Polymer.Settings)return e.Polymer.Settings.useNativeCustomElements;return!(e.customElements&&e.customElements.polyfillWrapFlushCallback)}},function(e,n){e.exports=function(){var e=_walkMe.getCommonUtils(),n={parse:e.secureEvalJSON,stringify:e.toJSON};return n}},function(e,n){e.exports={_args:[[{raw:"wm-plugin-wm-jquery-shadow-dom@2.3.1",scope:null,escapedName:"wm-plugin-wm-jquery-shadow-dom",name:"wm-plugin-wm-jquery-shadow-dom",rawSpec:"2.3.1",spec:"2.3.1",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\10\\wmpack-4956SSwV8H8MW18s"]],_from:"wm-plugin-wm-jquery-shadow-dom@2.3.1",_id:"wm-plugin-wm-jquery-shadow-dom@2.3.1",_inCache:!0,_location:"/wm-plugin-wm-jquery-shadow-dom",_phantomChildren:{},_requested:{raw:"wm-plugin-wm-jquery-shadow-dom@2.3.1",scope:null,escapedName:"wm-plugin-wm-jquery-shadow-dom",name:"wm-plugin-wm-jquery-shadow-dom",rawSpec:"2.3.1",spec:"2.3.1",type:"version"},_requiredBy:["/"],_resolved:"https://npm.walkmedev.com/wm-plugin-wm-jquery-shadow-dom/-/wm-plugin-wm-jquery-shadow-dom-2.3.1.tgz",_shasum:"49518b66cbf8c51753223ffa31cf0330d087f553",_shrinkwrap:null,_spec:"wm-plugin-wm-jquery-shadow-dom@2.3.1",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\10\\wmpack-4956SSwV8H8MW18s",dependencies:{"coffee-script":"^1.12.7","wm-prelib-plugin-entry-manager":"^0.1.0","wm-xpath-utils":"2.0.0"},description:"Change wmjQuery to find elements inside ShadowDOM",devDependencies:{browserify:"^13.0.1",grunt:"1.0.3","grunt-browserify":"^5.0.0","grunt-contrib-watch":"^0.6.1","grunt-git":"^0.3.7","grunt-karma":"3.0.0","grunt-release":"^0.13.0","jasmine-core":"git://github.com/WalkMe/jasmine.git#v2.2.0-wm-0.0.1","jasmine-jquery":"git://github.com/WalkMe/jasmine-jquery.git#v2.1.0-wm-0.0.1",karma:"3.0.0","karma-browserify":"^5.0.5","karma-chrome-launcher":"0.1.8","karma-coverage":"0.3.1","karma-edge-launcher":"git+https://github.com/barakhaim/karma-edge-launcher.git","karma-firefox-launcher":"0.1.4","karma-ie-launcher":"0.1.5","karma-jasmine":"^1.1.0","karma-junit-reporter":"git://github.com/WalkMe/karma-junit-reporter.git#v0.2.2-wm-0.0.1","test-page-loader":"git://github.com/WalkMe/test-page-loader.git#wm-0.0.1",watchify:"^3.7.0","wm-plugins-core":"^2.6.2","wm-tests-helper":"^0.1.8"},dist:{shasum:"49518b66cbf8c51753223ffa31cf0330d087f553",tarball:"https://npm.walkmedev.com/wm-plugin-wm-jquery-shadow-dom/-/wm-plugin-wm-jquery-shadow-dom-2.3.1.tgz"},legoDirectoryName:"c:\\Projects\\lego\\wm-jquery-shadow-dom",main:"src/main.js",name:"wm-plugin-wm-jquery-shadow-dom",optionalDependencies:{},peerDependencies:{},pluginType:"delivery-general",publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{build:"grunt build",prepublish:"npm run build && npm run test-ci",test:"grunt tests","test-ci":"grunt karma:continuous"},version:"2.3.1",wmCommit:"fa23a241f6ea5645aae4488f25eaf2a872a71da9",wmLegoProject:"wm-jquery-shadow-dom",wmRepublishDate:"2019-01-13T09:29:02.430Z",wmRepublishOriginalVersion:"2.3.1-rc.5"}},function(e,n,t){var r=t(7),o=t(9),i=t(19);e.exports=function(e){var n,t,u,s=i.getShadowContext,l={childList:!0,subtree:!0};function c(){return e.useCache||e.useCache!==!1&&window._walkMe&&_walkMe.getIsInEditor()}function f(){var e={},n=0,t=function(){return++n},r=function(){return(new Date).getTime()},o=0,a=500;s=function(n,u){var s=r(),l=n.wmShadowLastUpdate||0;n.wmShadowId=n.wmShadowId||t();var c=[n.wmShadowId,u.content,u.values].join("-");return(!e[c]||o>l&&s>l+a)&&(n.wmShadowLastUpdate=s,e[c]=i.getShadowContext(n,u)),e[c]},u=new MutationObserver(function(e){o=r()}),u.observe(document,l)}function d(e,r){if(t)return s(e,r);return window._walkMe&&(t=!0),!n&&"function"==typeof MutationObserver&&c()&&(n=!0,f()),s(e,r)}return{getShadowContext:function(e,t){var i=d(e,t);return t&&t.values&&(i.values={shadowRoot:r.arrMap(i.containers.shadowRoot,o.shadowRoot.value)},n&&r.arrForEach(i.values.shadowRoot,function(e){u.observe(e,l)})),i},getShadowRoots:function(e){var n=this.getShadowContext(e,{values:!0,content:!1});return n.values.shadowRoot},hasShadowContext:function(e){return a(this.getShadowContext(e,{content:!1,stopCB:a}))}}};function a(e){return e.containers.shadowRoot.length>0||e.containers.slot.length>0||e.containers.content.length>0}},function(e,n,t){var r=t(7),o=t(12)(wmjQuery),i=t(11),a=t(9),u=t(20);function s(e){for(var n=[],t=[],u=[],s=wmjQuery(e),c=0;c<s.length;c++){var f=s[c];if(a.slot.test(f)&&t.push(f),a.content.test(f)&&u.push(f),a.shadowRoot.test(f))n.push(f);else{var d=r.arrFilter(i.getElementChildren(f),l);d.length>0&&(n=n.concat(r.arrFilter(d,function(e){return a.shadowRoot.test(e)})),t=t.concat(r.arrFilter(d,function(e){return a.slot.test(e)})),u=u.concat(r.arrFilter(d,function(e){return a.content.test(e)})))}}return{shadowRoot:wmjQuery.find.uniqueSort(r.arrMap(n,o.unwrapElement)),slot:wmjQuery.find.uniqueSort(r.arrMap(t,o.unwrapElement)),content:wmjQuery.find.uniqueSort(r.arrMap(u,o.unwrapElement))}}function l(e){if(!e)return!1;try{return c(e)||r.arrReduce(["slot","content","shadowRoot"],function(n,t){return n||a[t].test(e)},!1)&&l(wmjQuery.fnHelpers.parentNode(e))}catch(n){return!1}}function c(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects&&e.getClientRects().length>0}function f(e,n){return wmjQuery.find.uniqueSort(r.arrMap(r.concatArrays(r.arrMap(e,function(e){return r.toArray(a[n].children(e))})),o.unwrapElement))}function d(e,n){n=n||{};var t={containers:{shadowRoot:[],slot:[],content:[]},content:{shadowRoot:[],slot:[],content:[]}},r=u(n);return h(e,function(e,o){for(var i=r.length-1;i>=0;i--)r[i].add(t,o);if(n.stopCB&&n.stopCB(t))return!1}),t}function m(e){e.content&&(e.content.shadowRoot=e.content.shadowRoot.concat(i.getElementsChildren(e.content.shadowRoot)),e.content.slot=e.content.slot.concat(i.getElementsChildren(e.content.slot)),e.content.content=e.content.content.concat(i.getElementsChildren(e.content.content)))}function h(e,n){var t=u(),o=s(e),i={shadowRoot:f(o.shadowRoot,"shadowRoot"),slot:f(o.slot,"slot"),content:f(o.content,"content")};if(n(e,{containers:o,content:i})===!1)return;for(var a=i.shadowRoot.concat(i.slot).concat(i.content),l=!0;a.length>0&&l;){var c=r.arrReduce(r.arrMap(a,function(e){return s(e)}),function(e,r,o){var i=f(r.shadowRoot,"shadowRoot"),u=f(r.slot,"slot"),s=f(r.content,"content");if(r.shadowRoot.length>0||r.slot.length>0||i.length>0||u.length>0||s.length>0){var c={containers:r,content:{shadowRoot:i,slot:u,content:s}};n(a[o],c)===!1&&(l=!1);for(var d=t.length-1;d>=0;d--)t[d].add(e,c)}return e},{containers:{shadowRoot:[],slot:[],content:[]},content:{shadowRoot:[],slot:[],content:[]}});a=c.content.shadowRoot.concat(c.content.slot).concat(c.content.content)}}e.exports={getShadowContext:d,getShadowContextDeep:h,addContentChildren:m}},function(e,n){function t(e){return{add:function(n,t){n[e].shadowRoot=n[e].shadowRoot.concat(t[e].shadowRoot),n[e].slot=n[e].slot.concat(t[e].slot),n[e].content=n[e].content.concat(t[e].content)}}}var r={containers:t("containers"),content:t("content")};e.exports=function(e){var n=[];return e&&e.containers===!1||n.push(r.containers),e&&e.content===!1||n.push(r.content),n}}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-user-behavior@5.0.4@prelib",{name:"wm-plugin-user-behavior",version:"5.0.4",toolbelt:"1.2.3",packageDate:"2019-03-19T15:34:39.861Z",entry:"prelib"},function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){var n=r(2).createPluginEntry;t.exports=n(function(t){var e=r(3).WmPluginAbra;t(new e)})},function(t,e){var r,n={createPluginEntry:i,getCtx:o};function i(t){return function(e){r=e(),t(a)}}function o(){return r.ctx}function a(t){r.plugin(t)}e.__esModule=!0,e["default"]=n,e.createPluginEntry=n.createPluginEntry,e.getCtx=n.getCtx},function(t,e,r){var n=r(2).getCtx;function i(){this.run=t;function t(){return r(4).start(n())}}e.WmPluginAbra=i},function(t,e,r){var n=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n},i=function(){function t(){}return t.registerClass=function(e,r,n){t.classRegistrations.push({name:e,ctor:r,dependencies:n})},t.getCtx=function(){if(t.ctx)return t.ctx;throw new Error("ctx is not set")},t.load=function(e){t.ctx=e,t.loadMockDependencies(e),t.loadModules(e);for(var r=0,n=t.classRegistrations;r<n.length;r++){var i=n[r],o=e.register(i.name).asCtor(i.ctor);i.dependencies&&o.dependencies(i.dependencies)}t.classRegistrations=[]},t.loadMockDependencies=function(t){t.register("Abra:Walkme").asInstance(window._walkMe)},t.loadModules=function(t){t.register("Abra:EventObfuscator").asCtor(r(5).Encoder).dependencies("Abra:JSON"),t.register("Abra:SimpleNlp").asFunction(function(t){var e=r(7);return e.setJQuery(t),e}).dependencies("wmjQuery"),t.register("Abra:QueryGenerator").asFunction(function(t){var e=r(8)({}),n=r(11)(t,e);return{generate:function(e){return n.generate(t(e))}}}).dependencies("wmjQuery")},t.classRegistrations=[],t}(),o=function(){function t(t,e){this.jQuery=t,this.collectablesAttributes=e}return t.prototype.collect=function(t){for(var e={},r=this.collectablesAttributes.length-1;r>=0;r--){var n=this.collectablesAttributes[r];e[n]=this.jQuery(t).attr(n)}return e},t}(),a=function(){function t(t,e,r,n,i,a,s,u,l,c,h){this.parentDataUtils=t,this.jQuery=e,this.privacyUtils=r,this.textUtils=n,this.logger=i,this.errorUtils=a,this.xpathGenerator=s,this.queryGenerator=u,this.elementParentsGetter=l,this.labelGetter=c,this.censorshipRunner=h,this.textOptions={maxLength:200},this.attributesCollector=new o(e,["name","title","id","type","class"])}return t.prototype.generate=function(t,e){var r=this,n=this.logger.pref("capture"),i=this.attributesCollector.collect(t);i["class"]=i["class"]&&K.removeExtraSpaces(i["class"]),i.tag=u.getLowerCaseTagName(t);var o=this.errorUtils.wrapCall(function(){return r.elementParentsGetter.get(t)},"error getting element parents"),a=this.errorUtils.wrapCall(function(){if(e&&e!==t)return r.elementParentsGetter.get(e,t)},"error getting element inner elements");try{i.xpath=this.xpathGenerator.generate(o)}catch(s){this.logger.error("cannot generate xpath",s)}try{i.autoQuery=this.queryGenerator.generate(t)}catch(s){this.logger.error("cannot generate autoQuery",s)}var l=this.parentDataUtils.findParent(t);if(l&&!this.privacyUtils.isPrivacyUnsafeElementType(l)&&(i.pfText=this.parentDataUtils.firstText(l)),i.label=this.labelGetter.get(t),!this.privacyUtils.isPrivacyUnsafeElementType(t)){var c=this.jQuery(t);"select"===u.getLowerCaseTagName(t)?i.text=c.find('option[value="'+c.val()+'"]').text():i.text=K.trim(this.textUtils.collectText(t,this.textOptions),this.textOptions.maxLength);var h=c.val();i.value=h?K.trim(h.toString(),this.textOptions.maxLength):void 0}return this.censorshipRunner.run(i,o,a),n.stop(),i},t}();i.registerClass("Abra:ElementDescriptionGenerator",a,"Abra:ParentDataUtils, wmjQuery, Abra:PrivacyUtils, Abra:TextUtils, Abra:Logger, Abra:ErrorUtils, Abra:XPathGenerator, Abra:QueryGenerator, Abra:ElementParentsGetter, Abra:LabelGetter, Abra:CensorshipRunner");var s=function(){function t(t){this.logger=t}return t.prototype.get=function(e,r){for(var n=[],i=t.MaxClimbCount;e&&!this.isSameElement(r,e);)if(u.isDocument(e)&&(e=this.tryGetFrameElement(e)),u.isElement(e)?(n.unshift(e),e=e.parentNode):e=null,0===--i)throw new Error("ElementParentsGetter loop reached its limit");return n},t.prototype.isSameElement=function(t,e){if(t&&e&&t===e)return!0;return!1},t.prototype.tryGetFrameElement=function(t){try{var e=t.defaultView||t.parentWindow;if(e&&this.shouldClimbMore(e))return e.frameElement}catch(r){this.logger.error("error getting frame element",r)}},t.prototype.shouldClimbMore=function(t){try{return!t._makeTutorial}catch(e){return!1}},t.MaxClimbCount=1e3,t}();i.registerClass("Abra:ElementParentsGetter",s,"Abra:Logger");var u=function(){function t(){}return t.isElementTextNode=function(t){return t.nodeType===Z.Text||t.nodeType===Z.CDATASection},t.isVisualDomElement=function(t){var e=t.nodeType===Z.Element&&!t.tagName.match(/^(script|style)$/i);return e},t.getParent=function(t){var e=t.parentNode;if(e&&e.nodeType==Z.Element)return e;return null},t.isElement=function(t){return t&&t.nodeType===Z.Element},t.isDocument=function(t){return t&&(t.nodeType===Z.Document||t.nodeType===Z.DocumentType)},t.getLowerCaseTagName=function(t){return(t.nodeName||t.localName).toLowerCase()},t}(),l=function(){function t(t,e){this.hostData=t,this.jQuery=e}return t.prototype.get=function(t){var e=this.getLabelElement(t);return e&&e.textContent&&K.trim(e.textContent)},t.prototype.getLabelElement=function(e){var r=e.labels&&e.labels[0];if(r)return r;if((this.hostData.isIE()||this.hostData.isEdge())&&this.jQuery.inArray(u.getLowerCaseTagName(e),t.polyfillElementTypes)!==-1){var n=this.jQuery(e),i=this.jQuery("label[for='"+n.attr("id")+"']",e.ownerDocument);if(0!==i.length)return i[0];return n.closest("label")[0]}},t.polyfillElementTypes=["input","textarea","button","select","output"],t}();i.registerClass("Abra:LabelGetter",l,"HostData, wmjQuery");var c=function(){function t(t){this.jQuery=t,this.cursorOverrideNotPointer=["select","input","button","textarea","video","audio","label"]}return t.prototype.get=function(t){for(var e=this.jQuery(t),r=void 0,n=!0,i=!1;i===!1;){var o=u.getLowerCaseTagName(e[0]);if("button"===o){r={type:o,element:e[0]};break}if(n===!0){var a=this.getElementCursor(e);this.isPointer(e,a)?r={type:"pointer",element:e[0]}:n=this.isCursorCouldBePointer(e[0],a)}void 0===r&&this.isStoppableAttribute(e[0])&&(r={type:"attribute",element:e[0]}),e=e.parent(),i=1!==e.prop("nodeType")}return r&&t!==r.element&&(r.climb=!0),r},t.prototype.isStoppableAttribute=function(t){if(!t||!t.attributes)return!1;var e=t.attributes.tabIndex;if(e&&e.value&&t.tabIndex>=0)return!0;return e=t.attributes.accesskey,!(!e||!e.value)},t.prototype.getElementCursor=function(t){try{return this.jQuery(t).css("cursor")}catch(e){return"auto"}},t.prototype.isPointer=function(t,e){if("pointer"===e)return!0;if("auto"!==e)return!1;switch(u.getLowerCaseTagName(t[0])){case"a":return void 0!==t.attr("href");default:return!1}},t.prototype.isCursorCouldBePointer=function(t,e){if("pointer"===e)return!0;if("auto"!==e)return!1;return this.jQuery.inArray(u.getLowerCaseTagName(t),this.cursorOverrideNotPointer)===-1},t}();i.registerClass("Abra:MeaningfulElementGetter",c,"wmjQuery");var h=function(){function t(t,e){this.simpleNlp=t,this.textUtils=e}return t.prototype.findParent=function(t,e){void 0===e&&(e=200);var r,n=t;do n=u.getParent(n),r=!!n&&this.firstText(t,e)===this.firstText(n,e);while(r&&n);if(!r&&n)return n;return null},t.prototype.firstText=function(t,e){var r=this;return K.trim(this.textUtils.extractFirstOccuringText(t,function(t,e){return t&&r.simpleNlp.isPhraseHuman(t.toString())||e&&r.simpleNlp.isPhraseHuman(e.toString())}),e)},t}();i.registerClass("Abra:ParentDataUtils",h,"Abra:SimpleNlp, Abra:TextUtils");var p=function(){function t(t,e,r){this.jQuery=t,this.elementParentsGetter=e,this.dataCollectionSettings=r,this.xpathMaxLength=1800,this.attributesToCollect=this.getAttributesToCollect(r.get())}return t.prototype.getAttributesToCollect=function(t){var e=t.element&&t.element.attributesToCollect;if(e&&0!==e.length){var r=e.slice();return r.sort(),r}},t.prototype.generate=function(t){var e;return e=u.isElement(t)?this.elementParentsGetter.get(t):t,this.convertToXpath(this.generateXpathParts(e))},t.prototype.generateXpathParts=function(t){var e=this;return this.jQuery(t).map(function(t,r){var n=e.jQuery(r);return{tagName:u.getLowerCaseTagName(r),tagIndex:e.getTagIndex(r),classes:n.attr("class"),id:n.attr("id"),attributes:e.getAttributes(n)}}).toArray()},t.prototype.getAttributes=function(t){if(this.attributesToCollect){var e=[];return this.jQuery.each(this.attributesToCollect,function(r,n){e.push(t.attr(n))}),e}},t.prototype.convertToXpath=function(e){for(var r=this,n=[],i=0;i<e.length;i++){var o=e[i];if(n.push(o.tagName),n.push("["),n.push((o.tagIndex+1).toString()),n.push("]"),t.shouldCollect(o.id)){var a=K.trim(o.id);a.length<=t.idMaxLength&&(n.push("#"),n.push(a))}if(o.classes){var s=this.jQuery.grep(o.classes.split(/[\s\uFEFF\xA0]+/),t.shouldCollect);s=this.jQuery.map(s,function(t){return K.trim(t)}),s=this.jQuery.grep(s,function(e){return e&&e.length<=t.classMaxLength}),s=this.jQuery.map(s,function(t){return"."+t}),s.sort(),n.push.apply(n,s)}if(o.attributes){var u=this.jQuery.map(o.attributes,function(e,n){if(void 0!==e){var i=r.attributesToCollect[n];return t.shouldCollect(e)?"&"+i+"="+e:"&"+i}});n.push.apply(n,u)}n.push("/")}return n.pop(),this.applyXpathLengthLimitation(n).join("")},t.prototype.applyXpathLengthLimitation=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r].length;for(var r=0;e>this.xpathMaxLength&&r<t.length;r++){var n=t[r];"."===n[0]&&(e-=n.length,t[r]="")}if(e>this.xpathMaxLength){for(var i=0,o=0,r=0;r<t.length&&0===o;r++){var n=t[r];i+=n.length,"/"===n&&e-i<=this.xpathMaxLength&&(o=r)}t=0!==o?t.slice(o+1):[]}return t},t.prototype.getTagIndex=function(t){for(var e=0,r=t.previousSibling;r;r=r.previousSibling)r.localName===t.localName&&e++;return e},t.shouldCollect=function(e){return e&&!t.forbiddenCharsRegex.test(e)&&!M.isCreditCard(e)},t.forbiddenCharsRegex=/[&=\.\]\[\/\#]/,t.classMaxLength=25,t.idMaxLength=40,t}();i.registerClass("Abra:XPathGenerator",p,"wmjQuery, Abra:ElementParentsGetter, Abra:DataCollectionSettingsWrapper");var f=function(){function t(t){this.jQuery=t}return t.prototype.get=function(){var t=this;return{classInElementTree:function(e,r,n){return t.classInElementTree(e,r,n)},idInElementTree:function(e,r,n){return t.idInElementTree(e,r,n)}}},t.prototype.classInElementTree=function(t,e,r){t.compiled||(t.compiled=this.convertClassArrayToRegex(t.values));for(var n=e.length-1;n>=0;n--){var i=this.jQuery(e[n]).attr("class");if(i&&t.compiled.test(i))return!0}if(r)for(var n=r.length-1;n>=0;n--){var i=this.jQuery(r[n]).attr("class");if(i&&t.compiled.test(i))return!0}return!1},t.prototype.convertClassArrayToRegex=function(t){var e=[];return this.jQuery.each(t,function(t,r){var n=K.escapeRegExp(r);e.push("(^|[\\s\\uFEFF\\xA0]{1})"+n+"($|[\\s\\uFEFF\\xA0]{1})")}),new RegExp(e.join("|"),"i")},t.prototype.idInElementTree=function(t,e,r){if(this.isIdsExistInElementArray(e,t.values)||r&&this.isIdsExistInElementArray(r,t.values))return!0;return!1},t.prototype.isIdsExistInElementArray=function(t,e){for(var r=0;r<t.length;r++)for(var n=0;n<e.length;n++)if(t[r].id===e[n])return!0;return!1},t}();i.registerClass("Abra:CensorshipConditionsGetter",f,"wmjQuery");var d=function(){function t(e){this.conditionMethods={removeTextValues:t.removeTextValues}}return t.prototype.get=function(){return this.conditionMethods},t.removeTextValues=function(t){t.name=void 0,t.title=void 0,t.pfText=void 0,t.value=void 0,t.text=void 0,t.label=void 0},t}();i.registerClass("Abra:CensorshipMethodsGetter",d,"Abra:PrivacyUtils");var g=function(){function t(t,e,r,n,i){this.jQuery=t,this.logger=e,this.censorshipRules=this.getCensorshipRules(i.get()),this.conditionDictionary=r.get(),this.censorshipMethods=n.get()}return t.prototype.run=function(t,e,r){var n=this.getCensorshipMethods(e,r);this.applyCensorshipMethods(t,n)},t.prototype.getCensorshipRules=function(t){var e=t&&t.element&&t.element.censorshipRules;return e||[]},t.prototype.getCensorshipMethods=function(t,e){for(var r={},n=this.censorshipRules.length-1;n>=0;n--)if(this.conditionDictionary[this.censorshipRules[n].type]){if(this.conditionDictionary[this.censorshipRules[n].type](this.censorshipRules[n],t,e)){var i=this.censorshipRules[n].methods;i&&i.length>0&&this.jQuery.each(i,function(t,e){r[e]=!0})}}else this.logger.error("censorship type does not exist: "+this.censorshipRules[n].type);return U.getKeys(r)},t.prototype.applyCensorshipMethods=function(t,e){for(var r=e.length-1;r>=0;r--)this.censorshipMethods[e[r]]?this.censorshipMethods[e[r]](t):this.logger.error("censorship method does not exist: "+e[r])},t}();i.registerClass("Abra:CensorshipRunner",g,"wmjQuery, Abra:Logger, Abra:CensorshipConditionsGetter, Abra:CensorshipMethodsGetter, Abra:DataCollectionSettingsWrapper");var v;!function(t){t[t.Creating=0]="Creating",t[t.Altering=1]="Altering",t[t.Finalizing=1e3]="Finalizing"}(v||(v={}));var m=function(){function t(t,e,r){this.promiseManager=t,this.jQuery=e,this.logger=r,this.providers=[],this.providersCount=0}return t.prototype.build=function(e){var r=this;if(0===this.providersCount)return this.promiseManager.resolve(e.event);return this.jQuery(t.ProvidersTypeOrder).reduce(function(t,n){return t.then(function(){return r.runProvidersGroup(e,r.providers[n])})},this.promiseManager.resolve()).then(function(){return e.event})},t.prototype.runProvidersGroup=function(t,e){var r=this,n=[];if(e)for(var i=function(i){var a=e[i];try{var s=a.handler(t);if(s){var u=s["catch"](function(t){r.logger.error("failed to run provider",t,{providerName:a.name,promise:!0})});n.push(u)}}catch(l){o.logger.error("failed to run provider",l,{providerName:a.name})}},o=this,a=0;a<e.length;a++)i(a);return this.promiseManager.all(n)},t.prototype.register=function(t,e,r){void 0===r&&(r=v.Creating),this.providers[r]=this.providers[r]||[],this.providers[r].push({name:t,handler:e}),this.providersCount++},t.ProvidersTypeOrder=[v.Creating,v.Altering,v.Finalizing],t}();i.registerClass("Abra:EventBuilder",m,"PromiseManager, wmjQuery, Abra:Logger");var y=function(){function t(t,e,r,n,o,a,s,u,l,c,h){this.eventBuilder=t,this.eventsSenderWrapper=e,this.eventsTrigger=r,this.logger=n,this.privacyUtils=o,this.window=a,this.windowIdGetter=s,this.commonEventAttributesProvider=u,this.jQuery=l,this.obfuscator=c,this.shouldEncode=!0,this.shouldEncode=!h.isFeatureEnabled("Abra-DisableEncoding"),i.getCtx().has("CleanObject")&&(this.cleanObject=i.getCtx().get("CleanObject"))}return t.prototype.initiate=function(t){var e=this,r=$.now();this.eventBuilder.build(t).then(function(t){return t.time=r,t.ctx=t.ctx||{},e.addTimingData(t),e.addIframeData(t),e.addApplicationData(t),e.addWindowData(t).then(function(){e.substringEvent(t),e.censorEvent(t),t=e.jQuery.extend(!0,t,e.commonEventAttributesProvider.get()),e.cleanObject&&(t=e.cleanObject(t)),e.sendEvent(t)})})["catch"](function(t){e.logger.error("error sending event",t)})},t.prototype.substringEvent=function(t){K.substringObject(_.Value,t)},t.prototype.addTimingData=function(t){t.ctx.timing=$.getTimingData()},t.prototype.addWindowData=function(t){return this.windowIdGetter.getOrCreate().then(function(e){t.ctx.winId=e})},t.prototype.addIframeData=function(t){try{j.isIframe()&&(t.ctx.topTitle=j.getTopTitle())}catch(e){}},t.prototype.addApplicationData=function(t){t.version={abra:N.App.version}},t.prototype.censorEvent=function(t){t.element&&(!this.privacyUtils.removeInputValues||"keypress"!==t.type&&"change"!==t.type||"select"!==t.element.tag&&(t.element.value=void 0,t.element.text=void 0),t.element=this.privacyUtils.filterCreditCard(t.element))},t.prototype.sendEvent=function(t){this.eventsSenderWrapper.send(this.shouldEncode?this.obfuscator.encode(t):t),this.eventsTrigger.sync("Abra:EventSent",t),this.logger.debug(t)},t}();i.registerClass("Abra:EventHandler",y,"Abra:EventBuilder, Abra:EventsSenderWrapper, EventsTrigger, Abra:Logger, Abra:PrivacyUtils, win, Abra:WindowIdGetter, CommonEventAttributesProvider, wmjQuery, Abra:EventObfuscator, FeaturesManager");var b={active:"active",idle:"idle",pageChange:"pageChange"},C=function(){function t(t,e,r,n,i){this.eventHandler=t,this.userEventListener=e,this.reusableTimerFactory=r,this.errorUtils=n,this.throttle=i,this.delay=6e4,this.isIdle=!1,this.isEnabled=!1,this.throttleIntervalMS=1e3}return t.prototype.load=function(){var t=this;this.timer||(this.timer=this.reusableTimerFactory.create(function(){return t.setIdle()},this.delay),this.registerId=this.userEventListener.register(this.throttle(function(e){return t.setActive(e)},this.throttleIntervalMS),["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit"]),this.timer.set(),this.isEnabled=!0)},t.prototype.unload=function(){this.timer&&(this.userEventListener.unregister(this.registerId),this.timer.clear(),this.isEnabled=!1)},t.prototype.setDelay=function(t){this.delay=t},t.prototype.setThrottleInterval=function(t){this.throttleIntervalMS=t},t.prototype.setActive=function(t){this.isEnabled&&(this.isIdle&&(this.isIdle=!1,this.raiseEvent(b.active,t&&t.type)),this.timer.set())},t.prototype.setIdle=function(){this.isEnabled&&(this.isIdle=!0,this.raiseEvent(b.idle))},t.prototype.raiseEvent=function(t,e){var r=this;this.errorUtils.wrapCallAndLog(function(){r.eventHandler.initiate({event:{type:t,misc:{trigger:e}}})},"error at IdleEventCreator",{type:t,trigger:e})},t}();i.registerClass("Abra:IdleEventCreator",C,"Abra:EventHandler, Abra:UserEventListener, Abra:ReusableTimerFactory, Abra:ErrorUtils, Throttle");var E=function(){function t(t,e,r,n,i,o){var a=this;this.userEventListener=t,this.errorUtils=e,this.eventHandler=r,this.reusableTimerFactory=n,this.xpathGenerator=i,this.elementDescriptionGenerator=o,this.isEnabled=!1,this.timer=this.reusableTimerFactory.create(function(){return a.feedEvent()},1e3)}return t.prototype.load=function(){var t=this;this.isEnabled||(this.registerId=this.userEventListener.register(function(e){return t.feedEvent(e)},["keypress"]),this.registerBeforeUnload(),this.isEnabled=!0)},t.prototype.unload=function(){this.isEnabled&&(this.timer.clear(),this.userEventListener.unregister(this.registerId),this.eventData=void 0,this.isEnabled=!1)},t.prototype.feedEvent=function(t){if(!this.isEnabled)return;if(t&&"keypress"==t.type){var e=this.xpathGenerator.generate(t.target);this.eventData?this.eventData.desc.xpath===e?(this.timer.set(),this.eventData.count++):(this.raiseEvent(),this.createNew(t.target)):this.createNew(t.target)}else this.raiseEvent()},t.prototype.createNew=function(t){this.eventData={desc:this.elementDescriptionGenerator.generate(t),count:1,t1:$.now()},this.timer.set()},t.prototype.raiseEvent=function(){this.timer.clear(),this.eventData&&(this.eventHandler.initiate({event:{type:"keypress",element:this.eventData.desc,misc:{count:this.eventData.count,t1:this.eventData.t1}}}),this.eventData=void 0)},t.prototype.registerBeforeUnload=function(){var t=this,e=window.onbeforeunload;window.onbeforeunload=function(r){if(t.isEnabled&&t.errorUtils.wrapCallAndLog(function(){return t.feedEvent()},"error on onbeforeunload keypress"),e)return e.call(window,r)}},t}();i.registerClass("Abra:KeypressEventCreator",E,"Abra:UserEventListener, Abra:ErrorUtils, Abra:EventHandler, Abra:ReusableTimerFactory, Abra:XPathGenerator, Abra:ElementDescriptionGenerator");var A=function(){function t(t,e,r,n,i){var o=this;this.logger=t,this.pageVisitIdProvider=e,this.eventHandler=r,this.pageLoadSync=n,this.eventsListener=i,this.eventCallback=function(){return o.distribute()}}return t.prototype.distribute=function(){this.eventHandler.initiate({event:{type:b.pageChange}})},t.prototype.load=function(){this.pageLoadSync.initializationData&&(this.pageVisitIdProvider.get()!==this.pageLoadSync.initializationData.id&&this.logger.error("Data inconsistency in pageVisitId"),this.distribute()),this.eventsListener.on("PageVisitIdUpdated",this.eventCallback)},t.prototype.unload=function(){this.eventsListener.off("PageVisitIdUpdated",this.eventCallback)},t}();i.registerClass("Abra:PageInfoCreator",A,"Abra:Logger, PageVisitIdProvider, Abra:EventHandler, Abra:PageLoadSync, EventsListener");var w=function(){function t(){}return t.enable=function(t){t.get("EventsListener").once("EventSenderContextDataProviderReferrerEnablement",function(){return!0})},t}(),x=function(){function t(t,e){this.jQuery=t,this.compatibilityUtils=e}return t.prototype.bindEvents=function(t,e,r){var n=this,i=function(e){return n.jQuery(t).on(e+".abra",r)},o=i;this.compatibilityUtils.isCaptureBindCompatible()&&(o=function(e){try{t.addEventListener(e,r,!0)}catch(n){i(e)}}),this.jQuery.each(e,function(t,e){o(e)})},t.prototype.unbindEvents=function(t,e,r){var n=this,i=function(e){try{t.removeEventListener(e,r,!0),n.jQuery(t).off(e+".abra",r)}catch(i){}};this.jQuery.each(e,function(t,e){i(e)})},t}();i.registerClass("Abra:UserEventBinder",x,"wmjQuery, Abra:CompatibilityUtils");var T=function(){function t(t,e,r,n,i,o){this.userEventListener=t,this.eventHandler=e,this.elementDescriptionGenerator=r,this.jQuery=i,this.errorUtils=o,this.generateElementDescription=this.errorUtils.bindCall(this.elementDescriptionGenerator,this.elementDescriptionGenerator.generate,"element capture"),this.meaningfulElementGetter=this.errorUtils.bindCall(this,function(t){if("mousedown"===t.type)return n.get(t.target)},"meaningful element")}return t.prototype.createEvent=function(t){if(!u.isElement(t.target))return;var e=t.target,r=this.meaningfulElementGetter(t),n=r&&{type:r.type,climb:r.climb},i=r?r.element:e,o=this.generateElementDescription(i,e);this.eventHandler.initiate({event:{type:t.type,element:o,misc:n},data:{event:t,element:i}})},t.prototype.load=function(){var t=this;this.registerId=this.userEventListener.register(function(e){return t.createEvent(e)},["change","mousedown","dblclick","select","submit"])},t.prototype.unload=function(){this.userEventListener.unregister(this.registerId)},t}();i.registerClass("Abra:UserEventCreator",T,"Abra:UserEventListener, Abra:EventHandler, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, wmjQuery, Abra:ErrorUtils");var S=function(){function t(t,e,r){var n=this;this.userEventBinder=t,this.frameBinder=e,this.errorUtils=r,this.runningCallbackId=-1,this.distributeMap={},this.unregisterData={},this.enabled=!0,this.mainCallback=function(t){return n.distribute(t)}}return t.prototype.register=function(t,e){for(var r=++this.runningCallbackId,n=[],i=0;i<e.length;i++){var o=e[i];this.distributeMap[o]?this.distributeMap[o].push(t):(this.distributeMap[o]=[t],n.push(o))}return this.bind(n,this.mainCallback),this.unregisterData[r]={callback:t,events:e},r},t.prototype.unregister=function(t){var e=this.unregisterData[t];if(!e)return!1;for(var r=[],n=0;n<e.events.length;n++)for(var i=e.events[n],o=this.distributeMap[i],a=0;a<o.length;a++)if(o[a]===e.callback){o.splice(a,1),0===o.length&&(r.push(i),delete this.distributeMap[i]);break}return this.unbind(r,this.mainCallback),delete this.unregisterData[t],!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.distribute=function(t){if(this.enabled)for(var e=this.distributeMap[t.type]||[],r=function(r){n.errorUtils.wrapCallAndLog(function(){return e[r](t)},"error distributing event",{trigger:t.type})},n=this,i=0;i<e.length;i++)r(i)},t.prototype.bind=function(t,e){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.bindEvents(n,t,e)})},t.prototype.unbind=function(t,e){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.unbindEvents(n,t,e)})},t}();i.registerClass("Abra:UserEventListener",S,"Abra:UserEventBinder, Abra:FrameBinder, Abra:ErrorUtils");var I=function(){function t(t){this.walkme=t}return t.prototype.isCaptureBindCompatible=function(){var t=this.walkme.getHostData();return t.isIE(9,"gte")||!t.isIE()},t}();i.registerClass("Abra:CompatibilityUtils",I,"Abra:Walkme");var L=function(){function t(t,e,r){this.promiseManager=t,this.jQuery=e,this.logger=r}return t.prototype.wrapCatch=function(t){var e=this;return function(r){return e.promiseManager.reject(e.wrapError(r,t))}},t.prototype.wrapCall=function(t,e){try{return t()}catch(r){throw this.wrapError(r,e)}},t.prototype.bindCall=function(t,e,r){void 0===t&&(t=null);var n=this;return function(){try{return e.apply(t,arguments)}catch(i){throw n.wrapError(i,r)}}},t.prototype.wrapCallAndLog=function(t,e,r){try{return t()}catch(n){n=this.wrapError(n,r),this.logger.error(e,n,n.extraData)}},t.prototype.wrapError=function(t,e){var r="string"==typeof t?{message:t}:t||{message:"no error provided"};return e="string"!=typeof e?e||{}:{failPoint:e},r.extraData=this.jQuery.extend(e,r.extraData),r},t}();i.registerClass("Abra:ErrorUtils",L,"PromiseManager, wmjQuery, Abra:Logger");var D=function(){function t(t){this.eventsSenderFactory=t}return t.prototype.init=function(t){var e={name:"Abra",postEventAction:"/event/tell",storageConfig:{keyName:t,autoSave:!1,expiresSeconds:600},stagingStorageConfig:{keyName:t+"-s",autoSave:!1,expiresSeconds:600},failureStorageConfig:{keyName:t+"-f",autoSave:!0,expiresSeconds:86400},storageType:"session",dataSender:"accumulation",clientStorageManager:"ArrayBuffer",clientStagingStorageManager:"ArrayBuffer"};this.sender=this.eventsSenderFactory.generateAndGetEventsSender(e),this.sender.enable()},t.prototype.disable=function(){this.sender&&(this.sender.sleep(),this.sender.disable(),this.sender=void 0)},t.prototype.send=function(t){this.sender&&this.sender.send(t)},t}();i.registerClass("Abra:EventsSenderWrapper",D,"EventsSenderFactory");var P=function(){function t(t,e){this.iFramesManager=t,this.uIChangeTracker=e}return t.prototype.load=function(){this.isSpa()||this.iFramesManager.mapIframes()},t.prototype.forEach=function(t){t(document);try{var e=function(e){e.documentAccessible&&t(e.iframe.contentWindow.document)};this.iFramesManager.foreachIframe(e,!0),this.iFramesManager.onIframeLoad(e)}catch(r){}},t.prototype.isSpa=function(){return this.uIChangeTracker.isActivated()},t}();i.registerClass("Abra:FrameBinder",P,"IFramesManager, UIChangeTracker");var U,j=function(){function t(){}return t.isIframe=function(){return top!==window},t.getTopTitle=function(){return top.window.document.title},t}();!function(t){function e(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}t.getKeys=e}(U||(U={}));var M=function(){function t(t,e){this.jQuery=t,this.dataCollectionSettings=e,this.allowedInputTypes=["radio","checkbox","button","reset","submit"],this.removeInputValues=!0;var r=e.get();this.removeInputValues="collect"!==(r&&r.element&&r.element.inputValues),this.removeInputValues||(this.allowedInputTypes=t.merge(this.allowedInputTypes,["text","search","number","tel","email","url"]))}return t.prototype.isPrivacyUnsafeElementType=function(t){if(t.nodeType===Z.Element&&t.tagName){if(this.removeInputValues&&"true"===this.jQuery(t).attr("contenteditable"))return!0;var e=u.getLowerCaseTagName(t);if(this.removeInputValues&&"textarea"===e)return!0;if("input"===e){var r=(t.type||"").toLowerCase();if(this.jQuery.inArray(r,this.allowedInputTypes)!==-1)return!1;return!0}}return!1},t.prototype.filterCreditCard=function(e){if(e){var r=typeof e;if("object"===r)if("number"!=typeof e.length||e.propertyIsEnumerable("length"))for(var n in e)e.hasOwnProperty(n)&&(e[n]=this.filterCreditCard(e[n]));else for(var i=e.length-1;i>=0;i--)e[i]=this.filterCreditCard(e[i]);else if("string"===r&&e.length>=12){if(t.isCreditCard(e))return null}else if("number"===r&&e>=99999999999)return null}return e},t.isCreditCard=function(t){return t.length>=12&&this.creditCardRegex.test(t)},t.creditCardRegex=/(?:[\s\xA0-]{0,5}\d{4,}){3}/,t}();i.registerClass("Abra:PrivacyUtils",M,"wmjQuery, Abra:DataCollectionSettingsWrapper");var k=function(){function t(t){this.walkmeCommonUtils=t}return t.prototype.stringify=function(t){return this.walkmeCommonUtils.toJSON(t)},t.prototype.parse=function(t){return this.walkmeCommonUtils.secureEvalJSON(t)},t}();i.registerClass("Abra:JSON",k,"CommonUtils");var Q=function(){function t(t,e,r,n,i){var o=this;this.storageManager=t,this.promiseManager=e,this.guidGenerator=r,this.sessionPersister=n,this.jQuery=i,this.libCallback=function(){return o.createNew()}}return t.prototype.load=function(){if(this.jQuery(N.WalkmeInternals).on(t.LibNewSessionEventName,this.libCallback),this.sessionPersister.isNewSession())return this.promiseManager.resolve(this.createNew());return this.getOrCreate()},t.prototype.unload=function(){this.jQuery(N.WalkmeInternals).off(t.LibNewSessionEventName,this.libCallback)},t.prototype.getOrCreate=function(){var t=this;return this.get().then(function(e){return e||t.createNew()})},t.prototype.get=function(){var e=this;return new this.promiseManager.Promise(function(r){e.storageManager.getStorage().getData(t.WindowIdStorageKey,void 0,void 0,function(t){r(t)})})},t.prototype.createNew=function(){var e=this.guidGenerator.generateGuid(!0);return this.storageManager.getStorage().saveData(t.WindowIdStorageKey,e),e},t.WindowIdStorageKey="__WMML_SESSION_ID__",t.LibNewSessionEventName="NewSession",t}();i.registerClass("Abra:WindowIdGetter",Q,"Abra:StorageManager, PromiseManager, GuidGenerator, SessionPersister, wmjQuery");var N;!function(t){t.App={name:"abra",version:"5.0.4",rev:"b6aec5b"},t.WalkmeInternals=window._walkmeInternals,t.AbraObject={version:t.App.version,rev:t.App.rev};function e(e){t.WalkmeInternals.abraState=e}t.setState=e;function r(r){e("errored"),t.AbraObject.errorInfo=r}t.setErrorInfo=r;function n(e){try{w.enable(e),o(e),e.get("EventsListener").once("BeforeWalkmeReady",function(){var n=e.get("HostData");if(n.isIE(9,"gte")||!n.isIE()){var i=O.registerLogger(e);if(t.WalkmeInternals.abra)return i.error("Abra was already loaded");t.WalkmeInternals.abra=t.AbraObject,e.get("AuditingEnabledIndicator").isEnabled()?a(e):r({error:new Error("Disabled due to noAudit feature enabled")})}})}catch(n){r({error:n})}return null}t.start=n;function o(t){var e={initializationData:void 0};t.get("EventsListener").once("PageVisitIdUpdated",function(t,r){e.initializationData=r}),t.register("Abra:PageLoadSync").asInstance(e)}function a(t){var n,o=t.get("Abra:Logger"),a=o.pref("load");try{e("preload"),n="load abra to ctx",i.load(t),t.get("EventsTrigger").sync("Abra:CtxLoaded"),n="load abra",t.get("Abra:Loader").load().then(function(t){t&&a.stop()})}catch(s){o.error("could not "+n,s),r({error:s})}}}(N||(N={})),t.exports=N;var W=function(){function t(t,e,r,n,i,o,a,s,u,l,c,h,p,f,d){this.logger=t,this.storageSynchronizer=e,this.eventsSenderWrapper=r,this.eventsTrigger=n,this.jQuery=i,this.userEventCreator=o,this.idleEventCreator=a,this.windowIdGetter=s,this.errorUtils=u,this.frameBinder=l,this.pageInfoCreator=c,this.timingUtils=h,this.eventsListener=p,this.userEventListener=f,this.keypressEventCreator=d,this.isUnloaded=!1}return t.prototype.load=function(){var t,e=this;return N.setState("loading"),this.storageSynchronizer.getStorageKey()["catch"](this.errorUtils.wrapCatch("get storage key")).then(function(){return e.windowIdGetter.load()})["catch"](this.errorUtils.wrapCatch("get winId")).then(function(){return e.errorUtils.wrapCall(function(){return e.frameBinder.load()},"bind frames"),e.errorUtils.wrapCall(function(){return e.eventsSenderWrapper.init(t)},"load sender"),e.errorUtils.wrapCall(function(){return e.userEventCreator.load()},"load event creator"),e.errorUtils.wrapCall(function(){return e.idleEventCreator.load()},"load idle event creator"),
e.errorUtils.wrapCall(function(){return e.pageInfoCreator.load()},"load page info creator"),e.errorUtils.wrapCall(function(){return e.keypressEventCreator.load()},"load keypress event creator"),N.WalkmeInternals.removeAbra=function(t){e.unload({message:t||"no error provided"},{failPoint:"API call"})},e.eventsListener.once("removeWalkMe",function(){e.unload({message:"removeWalkMe"},void 0,!0)}),e.disableHeartbeat(),N.setState("loaded"),e.eventsTrigger.sync("Abra:Ready"),!0})["catch"](function(t){return e.unload(t),!1})},t.prototype.disableHeartbeat=function(){i.getCtx().has("HeartbeatEventSender")&&i.getCtx().get("HeartbeatEventSender").disable()},t.prototype.unload=function(t,e,r){if(void 0===r&&(r=!1),this.isUnloaded===!0)return;N.setState("removing"),N.WalkmeInternals.removeAbra=void 0,this.isUnloaded=!0,e=e?this.jQuery.extend(t.extraData||{},e):t.extraData||{},N.setErrorInfo({error:t,extraData:e});try{this.userEventListener.disable(),this.eventsSenderWrapper.disable(),this.timingUtils.disable(),this.windowIdGetter.unload(),this.userEventCreator.unload(),this.idleEventCreator.unload(),this.pageInfoCreator.unload(),this.keypressEventCreator.unload(),N.setState("removed")}catch(n){this.logger.warn("error unloading abra",n)}e.failPoint=e.failPoint||"unknown reason",r||this.logger.error("abra unload: "+e.failPoint,t,e)},t}();i.registerClass("Abra:Loader",W,"Abra:Logger, Abra:StorageSynchronizer, Abra:EventsSenderWrapper, EventsTrigger, wmjQuery, Abra:UserEventCreator, Abra:IdleEventCreator, Abra:WindowIdGetter, Abra:ErrorUtils, Abra:FrameBinder, Abra:PageInfoCreator, Abra:TimingUtils, EventsListener, Abra:UserEventListener, Abra:KeypressEventCreator");var F=function(){function t(t){this.customerLog=t.wrapCustomerLog("Abra")}return t.prototype.error=function(t,e){this.logError(1,t,e)},t.prototype.warn=function(t,e){this.logError(2,t,e)},t.prototype.info=function(t){this.log(3,t)},t.prototype.debug=function(t){this.log(4,t)},t.prototype.logError=function(t,e,r){var n=r&&r.stack||(r&&r.length?r:"");this.customerLog(e+": "+n,t)},t.prototype.log=function(t,e){this.customerLog(e,t)},t}(),O=function(t){n(e,t);function e(e,r,n,i){t.call(this,n),this.serverLogger=e,this.performanceLogger=r,this.prefOptions=this.createPrefOptions();try{this.libVersion=i.getLibVersion()}catch(o){}}return e.registerLogger=function(t){var r="Abra:Logger";return t.has(r)||t.register(r).asCtor(e).dependencies("EventSenderErrorLogger, PerformanceBILogger, Logger, WalkMeInfo"),t.get(r)},e.prototype.error=function(e,r,n){void 0===n&&(n={}),n.app=N.App.name,n.version=N.App.version,n.rev=N.App.rev,n.libVersion=this.libVersion,r&&(r.message||r.stack?(n.errorMsg=r.message,n.stack=r.stack):"string"==typeof r&&(n.errorMsg=r)),void 0===n.errorMsg&&(n.errorMsg='could not get errorMsg, error type is "'+typeof r+'"'),this.serverLogger.logError(e,n),t.prototype.error.call(this,e,r)},e.prototype.pref=function(t){return this.performanceLogger.measure(N.App.name+"-"+t,this.prefOptions)},e.prototype.createPrefOptions=function(){return{extraData:{app:N.App.name,version:N.App.version,gitRevision:N.App.rev}}},e}(F),G=function(){function t(){this.settings={},i.getCtx().has("DataCollectionSettings")&&(this.settings=i.getCtx().get("DataCollectionSettings").get()),this.settings.element=this.settings.element||{},this.settings.element.censorshipRules=this.settings.element.censorshipRules||[],this.settings.element.censorshipRules.push({type:"classInElementTree",values:["jaco-hide","wm-hide"],methods:["removeTextValues"]})}return t.prototype.get=function(){return this.settings},t}();i.registerClass("Abra:DataCollectionSettingsWrapper",G);var H=function(){function t(t){this.storage=t}return t.prototype.getData=function(t,e,r,n){this.storage.sessionGetData(t,e,r,n)},t.prototype.saveData=function(t,e){this.storage.sessionSetData(t,e)},t}(),R=function(){function t(){}return t.prototype.getData=function(t,e,r,n){n(sessionStorage[t]||e)},t.prototype.saveData=function(t,e){sessionStorage[t]=e},t}(),V=function(){function t(t){this.walkme=t,this.isCrossDomain()?this.storage=new H(this.walkme.getClientStorageManager()):this.storage=new R}return t.prototype.isCrossDomain=function(){var t=this.walkme.getStorageType();if(t.indexOf("crossdomain")!==-1)return!0;return!1},t.prototype.getStorage=function(){return this.storage},t}();i.registerClass("Abra:StorageManager",V,"Abra:Walkme");var B=function(){function t(t,e){this.promiseManager=t,this.storageManager=e}return t.prototype.getStorageKey=function(){var e=this;return new this.promiseManager.Promise(function(r){j.isIframe()?e.storageManager.getStorage().getData(t.StorageNumberKey,1,void 0,function(n){e.storageManager.getStorage().saveData(t.StorageNumberKey,Number(n)+1),r("wm-dc-storage"+n)}):r("wm-dc-storage0")})},t.StorageNumberKey="__WMML_STORAGE_NUM__",t}();i.registerClass("Abra:StorageSynchronizer",B,"PromiseManager, Abra:StorageManager");var _=function(){function t(){}return t.Value={element:{name:100,title:120,"class":500,id:130,autoQuery:500,pfText:100,type:40,text:500,value:120},ctx:{topTitle:512}},t}(),z=function(){function t(){this.buffer=[]}return t.prototype.append=function(t){this.buffer.push(t)},t.prototype.toString=function(){var t=this.buffer.join("");return t},t}(),J=function(){function t(){}return t.escapeSurrogatePairs=function(e){if(!t.containsSurrogatePair(e))return e;for(var r=-1,n=e.length,i=new z;++r<n;){var o=e.charAt(r);/[\uD800-\uDBFF]/.test(o)||/[\uDC00-\uDFFF]/.test(o)?i.append(t.escapeChar(o)):i.append(o)}return i.toString()},t.containsSurrogatePair=function(t){var e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=e.exec(t)},t.escapeChar=function(t){var e=t.charCodeAt(0),r=e.toString(16).toUpperCase(),n=r.length>2,i="\\"+(n?"u":"x")+("0000"+r).slice(n?-4:-2);return i},t}(),K=function(){function t(t){this.privacyUtils=t}return t.substringObject=function(e,r){if(e&&r&&"object"==typeof r)for(var n in e)if(e.hasOwnProperty(n)&&r.hasOwnProperty(n)){var i=typeof r[n];"string"===i&&"number"==typeof e[n]?r[n]=r[n].substring(0,e[n]):"object"===i&&(r[n]=t.substringObject(e[n],r[n]))}return r},t.trim=function(t,e){if(void 0!==e)return t.replace(/^[\s\uFEFF\xA0]+/g,"").substr(0,e).replace(/[\s\uFEFF\xA0]+$/g,"");return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.removeExtraSpaces=function(t){var e=/\s+/g;return t.replace(e," ").trim()},t.extractElementText=function(e){var r=e.nodeValue;return r&&(r=t.removeExtraSpaces(r),r=J.escapeSurrogatePairs(r)),r},t.prototype.collectText=function(t,e){var r={textBuffer:[],totalLength:0,active:!0};this.collectTextInner(t,e,r);var n=r.textBuffer.join("\n");return void 0!==e.maxLength&&n.length>e.maxLength&&(n=n.substring(0,e.maxLength)),n},t.prototype.extractFirstOccuringText=function(t,e){var r=this.collectText(t,{collectFirstOnly:!0,textFilterCb:e,maxNodeTextLength:70});return r},t.prototype.collectTextInner=function(e,r,n){if(e&&!this.privacyUtils.isPrivacyUnsafeElementType(e)){if(u.isElementTextNode(e)){var i=t.extractElementText(e);if(i&&0!==i.length){void 0!==r.maxNodeTextLength&&(i=i.substring(0,r.maxNodeTextLength));var o=!1;void 0!==r.textFilterCb&&(o=r.textFilterCb(i,e.nodeValue)!==!0),o===!1&&(n.textBuffer.push(i),n.totalLength+=i.length,(void 0!==r.maxLength&&n.totalLength>=r.maxLength||r.collectFirstOnly===!0)&&(n.active=!1))}}var a=!1;if(r.includeNonVisual!==!0&&(a=u.isVisualDomElement(e)===!1),e.childNodes&&n.active&&a===!1)for(var s=0,l=e.childNodes.length;s<l&&n.active;s++)this.collectTextInner(e.childNodes[s],r,n)}},t.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},t}();i.registerClass("Abra:TextUtils",K,"Abra:PrivacyUtils");var q=function(){function t(t){this.timingUtils=t}return t.prototype.create=function(t,e){return new X(this.timingUtils,t,e)},t}();i.registerClass("Abra:ReusableTimerFactory",q,"Abra:TimingUtils");var X=function(){function t(t,e,r){this.timingUtils=t,this.callback=e,this.delay=r}return t.prototype.clear=function(){this.timerHandle&&(this.timingUtils.clearTimeout(this.timerHandle),this.timerHandle=void 0)},t.prototype.set=function(){this.clear(),this.timerHandle=this.timingUtils.setTimeout(this.callback,this.delay)},t}(),$=function(){function t(t,e){this.timerManager=t,this.errorUtils=e,this.enabled=!0}return t.prototype.clearTimeout=function(t){t&&t.clear()},t.prototype.disable=function(){this.enabled=!1},t.prototype.setTimeout=function(t,e){var r=this;if(this.enabled)return this.timerManager.libSetTimeout(function(){return r.enabled&&r.errorUtils.wrapCallAndLog(t,"timeout")},e)},t.now=function(){return(new Date).getTime()},t.getTimingData=function(){var t=window.performance,e=t&&t.timing;if(e){var r=e.navigationStart,n=e.loadEventEnd;return{navStart:r,loadTime:n-r}}},t}();i.registerClass("Abra:TimingUtils",$,"TimerManager, Abra:ErrorUtils");var Z;!function(t){t[t.Element=1]="Element",t[t.Text=3]="Text",t[t.CDATASection=4]="CDATASection",t[t.DocumentType=9]="DocumentType",t[t.Document=10]="Document"}(Z||(Z={}))},function(t,e,r){var n=r(6);function i(t){i.prototype.encode=function(e){var r=n.encode(t.stringify(e));return{_enc:r}}}t.exports={Encoder:i}},function(t,e){var r=31;function n(t){for(var e,n=[],i=t.length-1;i>=0;i--)e=t.charCodeAt(i),n.push(~(e&r)&r|e&~r);return String.fromCharCode.apply(null,n)}t.exports={decode:n,encode:n}},function(t,e){var r;!function(t){var e,r,n=/[a-zA-Z]/,i=/[0-9]/;!function(t){t[t.Digit=0]="Digit",t[t.Alphabet=1]="Alphabet",t[t.Other=2]="Other"}(r||(r={}));function o(t){e=t}t.setJQuery=o;function a(t){var e=new h,r=new u(t),n=e.isHuman(r);return n}t.isPhraseHuman=a;function s(t){if(n.test(t))return r.Alphabet;if(i.test(t))return r.Digit;return r.Other}var u=function(){function t(t){this.words=[],this.raw=t,this.buildWords()}return t.prototype.buildWords=function(){this.splitCategories()},t.prototype.addWord=function(t){var n=this;if(t=e.trim(t),!t)return;if(s(t[0])!==r.Alphabet)this.words.push(t);else{var i=this.splitCamelCase(t);e.each(i,function(t,e){return n.words.push(e.toLowerCase())})}},t.prototype.splitCamelCase=function(t){var e=t.replace(/([a-z](?=[A-Z]))/g,"$1 "),r=e.split(" ");return r},t.prototype.splitCategories=function(){for(var t,e=s(this.raw[0]),r=0,n=0;n<this.raw.length;n++){var i=this.raw[n],o=s(i);o!=e&&(t=this.raw.substring(n,r),this.addWord(t),r=n,e=o)}t=this.raw.substring(r,n+1),this.addWord(t)},t}();t.Sentence=u;var l=5,c=function(){function t(){var t=this;this.WHITE_LIST=["html","css","btn","js","http","a"],this.VOWELS="aeiou",this.pointers={},this.pointers[r.Alphabet]=function(e){return t.alphabetPred(e)},this.pointers[r.Digit]=function(e){return t.numberPred(e)},this.pointers[r.Other]=function(e){return t.otherPred(e)}}return t.prototype.numberPred=function(t){return!1},t.prototype.otherPred=function(t){return!0},t.prototype.alphabetPred=function(t){for(var e=0,r=0;r<t.length;r++){var n=t[r];if(this.VOWELS.indexOf(n)==-1?e++:e=0,e>=l)return!1}return!0},t.prototype.isHuman=function(t){if(this.contains(this.WHITE_LIST,t))return!0;var e=s(t[0]),r=this.pointers[e],n=r(t);return n},t.prototype.contains=function(t,r){return e.inArray(r,t)!==-1},t}();t.WordClassifier=c;var h=function(){function t(){}return t.prototype.isHuman=function(t){if(t.raw.length<=2)return!1;if(this.isUrl(t))return!1;var r=new c,n=e.map(t.words,function(t,e){return r.isHuman(t)}),i=this.all(n);return i},t.prototype.all=function(t){for(var e=t.length-1;e>=0;e--)if(!t[e])return!1;return!0},t.prototype.isUrl=function(t){var e=0==t.raw.indexOf("/")||0==t.raw.indexOf("http");return e},t}();t.SentanceClassifier=h}(r||(r={})),t.exports=r},function(t,e,r){t.exports=function(t){var e=new(r(9))(t),n=new(r(10))(e,t);return n}},function(t,e){t.exports=r;function r(t){this.getJQuery=e;function e(e){if(t.jquery)return t.jquery;if(t.getJQuery)return t.getJQuery(e);var r=n(e);return r&&r.wmjQuery}function r(e){if(t.fnName)return t.fnName;if(e){if(e.getLibWrappedWindow)return"getLibWrappedWindow";if(e.getLibWindow)return"getLibWindow"}}function n(e){if(t.winProvider){var n=r(t.winProvider);return t.winProvider[n](e)}return window}}},function(t,e){t.exports=r;function r(t,e){this.isEnabled=function(){try{return e.featuresService&&e.featuresService.isEnabled("jQueryProxy")}catch(t){return!1}},this.jqProxyProp=function(e,r){if(this.isEnabled()){var n=t.getJQuery(e);if(n&&n.fnHelpers)return n.fnHelpers[r](e)}return e[r]},this.parentNode=function(t){return this.jqProxyProp(t,"parentNode")},this.firstElementChild=function(t){return this.jqProxyProp(t,"firstElementChild")},this.childNodes=function(t){return this.jqProxyProp(t,"childNodes")},this.previousSibling=function(t){return this.jqProxyProp(t,"previousSibling")}}},function(t,e,r){!function(e,r){"object"==typeof t&&"object"==typeof t.exports?t.exports=r:e.queryGenerator=r}(this,function(t,e){var n;return function(n){var i=["DIV","SPAN","HTML","BODY","TR","TD"],o=["'"],a=r(12);a.setJQuery(t);function s(e){var r=c(e),n=[e[0]].concat(r),i=t.map(n,g),o=h(i,function(t){return null!==t}),a=f(o);a=a.reverse();var s=t.map(a,p),u=s.join(" ");return l(u)?u:void 0}n.generate=s;function u(t,e,r){if(!t)return t;var n=/^((.+) )*(([^\[]+)(\[id=".*"\])?)$/,i=t.match(n),o=i[1]||"",s=i[4],u=o+s;return!e&&r&&a.isPhraseHuman(r)&&(u+='[id="'+r+'"]'),u}n.modifyAutoQuery=u;function l(t){if(!t||!t.length)return!1;for(var e=0;e<o.length;e++)if(t.indexOf(o[e])>=0)return!1;return!0}function c(t,r){for(var n=e.parentNode(t[0]),i=r&&r[0]&&e.parentNode(r[0]),o=[];n&&1==n.nodeType&&n!=i;n=e.parentNode(n))o.push(n);return o}function h(t,e){for(var r=[],n=0;n<t.length;++n){var i=t[n];e(i)&&r.push(i)}return r}function p(t){var e=t.tagName;return t.id&&(e+='[id="'+t.id+'"]'),e}function f(t){for(var e=t.length,r=0;r<t.length;r++){var n=t[r];if(n.id){e=r;break}}var i=t.slice(0,e+1);return i}function d(t){var e=t.attr("id");if(e&&a.isPhraseHuman(e))return e;return null}function g(e,r){var n=t(e),o=d(n),a=n[0].tagName,s=t.inArray(a,i)>=0,u=0===r,l=u||o||!s;if(!l)return null;var c={tagName:a,id:o};return c}}(n||(n={})),n})},function(t,e){var r;!function(t){var e,r,n=/[a-zA-Z]/,i=/[0-9]/;!function(t){t[t.Digit=0]="Digit",t[t.Alphabet=1]="Alphabet",t[t.Other=2]="Other"}(r||(r={}));function o(t){e=t}t.setJQuery=o;function a(t){var e=new h,r=new u(t),n=e.isHuman(r);return n}t.isPhraseHuman=a;function s(t){if(n.test(t))return r.Alphabet;if(i.test(t))return r.Digit;return r.Other}var u=function(){function t(t){this.words=[],this.raw=t,this.buildWords()}return t.prototype.buildWords=function(){this.splitCategories()},t.prototype.addWord=function(t){var n=this;if(t=e.trim(t),!t)return;if(s(t[0])!==r.Alphabet)this.words.push(t);else{var i=this.splitCamelCase(t);e.each(i,function(t,e){return n.words.push(e.toLowerCase())})}},t.prototype.splitCamelCase=function(t){var e=t.replace(/([a-z](?=[A-Z]))/g,"$1 "),r=e.split(" ");return r},t.prototype.splitCategories=function(){for(var t,e=s(this.raw[0]),r=0,n=0;n<this.raw.length;n++){var i=this.raw[n],o=s(i);o!=e&&(t=this.raw.substring(n,r),this.addWord(t),r=n,e=o)}t=this.raw.substring(r,n+1),this.addWord(t)},t}();t.Sentence=u;var l=5,c=function(){function t(){var t=this;this.WHITE_LIST=["html","css","btn","js","http","a"],this.VOWELS="aeiou",this.pointers={},this.pointers[r.Alphabet]=function(e){return t.alphabetPred(e)},this.pointers[r.Digit]=function(e){return t.numberPred(e)},this.pointers[r.Other]=function(e){return t.otherPred(e)}}return t.prototype.numberPred=function(t){return!1},t.prototype.otherPred=function(t){return!0},t.prototype.alphabetPred=function(t){for(var e=0,r=0;r<t.length;r++){var n=t[r];if(this.VOWELS.indexOf(n)==-1?e++:e=0,e>=l)return!1}return!0},t.prototype.isHuman=function(t){if(this.contains(this.WHITE_LIST,t))return!0;var e=s(t[0]),r=this.pointers[e],n=r(t);return n},t.prototype.contains=function(t,r){return e.inArray(r,t)!==-1},t}();t.WordClassifier=c;var h=function(){function t(){}return t.prototype.isHuman=function(t){if(t.raw.length<=2)return!1;if(this.isUrl(t))return!1;var r=new c,n=e.map(t.words,function(t,e){return r.isHuman(t)}),i=this.all(n);return i},t.prototype.all=function(t){for(var e=t.length-1;e>=0;e--)if(!t[e])return!1;return!0},t.prototype.isUrl=function(t){var e=0==t.raw.indexOf("/")||0==t.raw.indexOf("http");return e},t}();t.SentanceClassifier=h}(r||(r={})),t.exports=r}])});