window._walkmeWebpackJP&&_walkmeWebpackJP([14],{290:function(e,t){function n(){function d(){var s,l=this;l.LocalSVNRevision="$Rev: 3461 $";var u=null,c=null,r={},a={},o={},i={},f={},e={};function g(e,t,n){if(!n)return t;return i[e]=t,function(){return i[e](arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19])}}l.Extends=function(e,t,n,i,s,r,a){u=new e(t,n,i,s,r,a),c=u.__wmoop__,function(){var e=c.GetPublics();for(var t in e){var n=e[t];l.Public(t,n)}}(),function(){for(var e in f){if(!c.IsVirtual(e))throw"Cannot override non-virtual method ["+e+"]. of class : "+c;c.DoOverride(e,f[e])}}();var o=function(){var e={},t={},t=c.GetOriginalFunctions();for(var n in t){var i=t[n];e[n]=i}return e}();l._base=o},l.Override=function(e,t){return f[e]=t},l.DoOverride=function(e,t){i[e]=t},l.IsVirtual=function(e){return i[e]!==undefined},l.GetOriginalFunctions=function(){return o},l.Public=function(e,t,n){var i=g(e,t,n);return o[e]=t,s[e]=i,r[e]=i},l.Protected=function(e,t,n){var i=g(e,t,n);return o[e]=t,a[e]=i},l.GetProperties=function(){return e},l.GetPublics=function(){return r},l.GetProtecteds=function(){return a},function(e){((s=e).__wmoop__=l).Virtual=new n(l),l.Prop=new t(l)}.apply(null,arguments)}function t(){var i;function s(t,e){return i.GetProperties()[t]=e,function(e){if(e===undefined)return i.GetProperties()[t];i.GetProperties()[t]=e}}this.Public=function(e,t){var n=s(e,t);return i.Public(e,n),n},this.Protected=function(e,t){var n=s(e,t);return i.Protected(e,n),n},this.Private=function(e,t){return s(e,t)},function(e){i=e}.apply(null,arguments)}function n(){var n;function i(e){return function(){throw"["+e+"] is pure virtual and must be overriden"}}this.Public=function(e,t){return t=t||i(e),n.Public(e,t,!0)},this.Protected=function(e,t){return t=t||i(e),n.Protected(e,t,!0)},function(e){n=e}.apply(null,arguments)}function e(){this.getClassName=function(){return e.getClassName()},function(e){}.apply(null,arguments)}function i(){this.getClassName=function(){return i.getClassName()},function(){}.apply(null,arguments)}function g(){var r,a,o,l,u,t=this,n=!1;function e(){if(!n){var e=r[l()];0===e.Name().indexOf("*")?setTimeout(function(){i(e)},8e3):i(e)}}function i(e){_testMe.libUtils.log("Running action Type ["+e._className_+"] Name ["+e.Name()+"], Action ["+(l()+1)+"] of ["+r.length+"]",4),wmjQuery(M).trigger(N,{actionName:e.Name(),actionId:e.Id()});try{e.execute(s,o.setTimer,r,o.currentState()&&"TestMeStatePreActions"===o.currentState().getClassName())}catch(t){_testMe.libUtils.log("Error running action. ex:"+t+"\n Stack: "+(new Error).stack,1),s()}}function s(e){e&&u(e),wmjQuery(M).trigger(U),l()<r.length?t.runActions():n||(wmjQuery(M).off(y,f),wmjQuery(M).off(x,c),o.setTimer(a,_testMe.Utils.getUserReactionTime(),!0))}function c(){u(l()+1),o.storeState()}function f(){_testMe.libUtils.log("Stop actions, waiting for page reload",5),n=!0}t.runActions=function(){o.setTimer(e,0,!0)},t.getClassName=function(){return g.getClassName()},function(e,t,n,i,s){r=e,a=s,o=i,l=t,u=n,wmjQuery(M).on(y,f),wmjQuery(M).on(x,c)}.apply(null,arguments)}_makeTutorial&&_makeTutorial.addTimeStamp("testMeStartInit"),e.getClassName=function(){return"testSuite"},i.getClassName=function(){return"testCase"},g.getClassName=function(){return"ActionsRunner"};var o=500,m=2e4,p=30,w=172800,f=400,a=400,l=300,S=0,s="tm-",r="crossdomain",M={},u=s+"SuitesToRun",c=s+"ReactionTime",_=s+"started",h="TestSuiteChange",T="TestCaseChange",b="StatSwitched",v="TestCaseSuccessCriteria",C="TestMeFinished",I="ReportTestRunResult",y="OnBeforeUnloadEvent",k="TestMeRunTimeout",N="ActionLoaded",x="BeforeActionRun",U="AfterRunningAction",P="ReportOnWorkingState",D={TestSuite:0,TestCase:1},E={StartingWT:"Can't start walkthru [{wtName}] Id [{wtId}]",TSPreActions:"Error while running TestSuite pre-actions. action [{actionName}] Id [{actionId}]",TCPreActions:"Error while running TestCase pre-actions. action [{actionName}] Id [{actionId}]",WaitingForStep:"Waiting for step to jump. last running step [{stepName}] Id [{stepId}]. walkthru [{wtName}] Id [{wtId}]",RespondingToStep:"Fail while executing action [{actionName}] Id [{actionId}] in step [{stepName}] Id [{stepId}]. walkthru [{wtName}] Id [{wtId}]",NoOwnershipWasTaken:"PassOnwership error. No one took ownership"},R={WalkmeStorage:0,LocalStorage:1,Cookie:2,TestMeStorage:3},j={Failed:0,Success:1,RetryThenSuccess:2},O="wm-ltm",A=900,F={NOTHING:0,NEXT_BUTTON:1,CLICK:2,HOVER:3,PAGE_CHANGED:4,KEY_PRESSED:5,DURATION:6,SELECT_ANY:7,SELECT_VALUE:8,SWIPE:9};function W(){this.readFile=function(e,t){_testMe.libUtils.log("Parsing TestMe data file",5),wmjQuery.ajax({type:"GET",url:e,jsonpCallback:"fixedCallback",dataType:"jsonp",contentType:"application/json",success:function(e){e?t&&t(e):_testMe.libUtils.log("TestMe data file is empty",1)},error:function(e,t,n){_testMe.libUtils.log("Can't parse TestMe data file. textStatus: ["+t+"] ex: "+n,1),_testMe.exit()}})},function(){}.apply(null,arguments)}function Q(){var n=this;n.po_instanceDomainForLog="",n.addInstanceDomainForLog=function(e){n.po_instanceDomainForLog=e+" - "},n.initClientStorageManager=function(e){n.getClientStorageManager().init(e)},n.getInputGenerator=function(){return _walkMe.getCommonUtils().getInputGenerator()},n.secureEvalJSON=function(e){return _walkMe.getCommonUtils().secureEvalJSON(e)},n.toJSON=function(e){return _walkMe.getCommonUtils().toJSON(e)},n.getClientStorageManager=function(){return _walkMe.getStorageManagerInstance(r)},n.getStep=function(e,t){return _walkMe.getDeployablesManager(0).getById(e).Steps[t]},n.findElement=function(e){return _walkMe.findElement(e)},n.getLogger=function(){return _walkMe.Logger},n.log=function(e,t){n.getLogger().customerLog(n.po_instanceDomainForLog+e,t,"testMe")},n.addLibFeature=function(e){_walkMe.getSiteConfig().Features+=","+e},n.isFeatureExists=function(e){return!(!_walkMe.getSiteConfig()||!_walkMe.getSiteConfig().Features)&&-1<_walkMe.getSiteConfig().Features.indexOf(e)},n.isWTRunning=function(){return 0!==_walkMe.getState()},n.getStepById=function(e,t){for(var n=_walkMe.getTutorials(),i=n.length-1;0<=i;i--)if(n[i].Id==e)for(var s=n[i].Steps.length-1;0<=s;s--)if(n[i].Steps[s].Id==t)return n[i].Steps[s];return null},n.checkCondition=function(e){return _walkMe.evaluateConditionTree(e)},n.stopCurrentWalkThru=function(e){_walkMe.stopTutorial(undefined,e)},n.startWalkThru=function(t,n,i,s,r){i?function e(t,n,i,s){WalkMeAPI.canStartWalkthru(t,n)?(WalkMeAPI.startWalkthruById(t,n),i&&i()):(_testMe.libUtils.log("WalkTuru ["+t+"] from step ["+n+"] can't be started. trying again",5),s(function(){e(t,n,i,s)},l,!1))}(t,n,s,r):(WalkMeAPI.startWalkthruById(t,n),s&&s())},n.bindToWalkMeEvent=function(e,t){_walkmeInternals.bind(e,t)},n.unbindFromWalkMeEvent=function(e,t){_walkmeInternals.unbind(e,t)},n.getLibRunningState=function(){return _walkMe.getState()},n.getFramesetsUtils=function(){return _walkMe.getFramesetsUtils()},n.getCurrentTutorial=function(){return _walkMe.getCurrentTutorial()},function(){}.apply(null,arguments)}function z(){var r,e,t,n=this;function i(){return"undefined"!=typeof wmPreviewSnippet?wmPreviewSnippet:wmSnippet}function s(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function a(e){(function(e){try{e.contentWindow.document}catch(t){return!1}return!0})(e)&&n.disableAlerts(e.contentWindow)}n.raiseTestMeRunFinishedForEditor=function(){window.walkme_editor_event&&window.walkme_editor_event({Type:"TestMeRunFinished"})},n.generateGUID=function(){return s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()},n.parseSettingsStorage=function(e){var t=[];return e&&(e.clearCookies&&t.push(R.Cookie),e.clearLocalStorage&&t.push(R.LocalStorage),e.clearWalkmeStorage&&t.push(R.WalkmeStorage)),t},n.getTestMeDataFile=function(){var e=i().getSettingsFile().DataFiles[0].url.replace(/.js$/,"_testme.js"),t=function(){if(window._walkmeInternals&&window._walkmeInternals.settingsUrl){var e=/(.+)\/users/g.exec(window._walkmeInternals.settingsUrl);if(e&&1<e.length)return e[1]}return undefined}();if(t){var n=i().getServerSettings().cdnServerName;e=e.replace(n,t)}return e},n.registerTestMeAuditers=function(){r=new J},n.auditNewTestRun=function(){var e=n.generateGUID();return r.sendRunAudit(e),e},n.auditFinishTestRunResult=function(e){r.sendRunFinishedAudit(e)},n.auditNewTestRunResult=function(e,t,n,i,s){r.sendTestCaseFinishAudit({TestRunGuid:e,TestSuiteId:t,TestCaseId:n,Result:i,Details:s})},n.getFilter=function(){return e},n.cacheFilter=function(){e=function(){if(window.walkmeTestMeFilter)return _testMe.libUtils.log("Found filter on window, saving it to storage, filter is: "+_testMe.libUtils.toJSON(window.walkmeTestMeFilter),1),e=window.walkmeTestMeFilter,_testMe.libUtils.getClientStorageManager().saveData(u,e,w),window.walkmeTestMeFilter;var e}()||function(){var e=_testMe.libUtils.getClientStorageManager().getData(u,undefined);e&&_testMe.libUtils.log("Found filter in TestMe storage, filter is: "+_testMe.libUtils.toJSON(e),1);return e}()},n.isInt=function(e){return!isNaN(parseInt(e,10))},n.scrollToElementAndExecute=function(e,t){var n=e[0].ownerDocument,i=e.parents("html"),s=e.parents("body");function r(){return s.scrollTop()||i.scrollTop()}function a(){return s.scrollLeft()||i.scrollLeft()}function o(){return s.outerHeight()||i.outerHeight()}var l=r(),u=a();e[0].scrollIntoView(!1);var c=r(),f=c+o();e[0].scrollIntoView(!0);var g=r(),d=r()+o(),m=e.offset().top,p=Math.abs(c-m),w=Math.abs(g-m),S=Math.abs(f-m),M=Math.abs(d-m),_=Math.min(p,Math.min(w,Math.min(S,M)));w!=_&&M!=_||e[0].scrollIntoView(!1);var h=t(n,r(),a());return s.scrollTop(l),s.scrollLeft(u),i.scrollTop(l),i.scrollLeft(u),h},n.removeSpecialChars=function(e){if(!e)return undefined;var t=e.replace(/&[\w#]*;/g,"");return t=t.replace(/;/g,"")},n.cacheUserReactionTime=function(){if(window._walkmeInternals&&window._walkmeInternals.testme_userReactionTime){var e=window._walkmeInternals.testme_userReactionTime;_testMe.libUtils.getClientStorageManager().saveData(c,e,w)}},n.getUserReactionTime=function(){if(!t){var e=_testMe.libUtils.getClientStorageManager().getData(c);t=e||o}return t},this.disableAlerts=function(e){try{e.alert=function(e){console.log("Alert: "+e)},e.confirm=function(e){return console.log("Confirm: "+e),!0},wmjQuery(e.document).find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){a(this),wmjQuery(this).on("load.wmTestMe",function(){a(this)})})}catch(t){}},function(){}.apply(null,arguments)}function L(){var a,t,o=this;function n(e,t){o.successExpression=t,o.lastStep=undefined,_testMe.storageHelper.storeState(o)}function i(e,t,n){o.workingState=t,o.workingStateExtraData=n,_testMe.storageHelper.storeState(o)}function s(e,t){o.actionDetails=t,_testMe.storageHelper.storeState(o)}function r(){clearTimeout(a),a=setTimeout(f,m)}function l(e,t,n){n&&n.finishAfterRefresh&&u(undefined,{},undefined)}function u(e,t,n){var i=t;if(!(i&&i.Settings&&i.Settings.action&&"passOwnership"==i.Settings.action.actionType))if(o.lastStep={Id:i.Id,StepTitle:_testMe.Utils.removeSpecialChars(i.StepTitle),StepText:_testMe.Utils.removeSpecialChars(i.StepText)},_testMe.storageHelper.storeState(o),clearTimeout(a),_testMe.libUtils.checkCondition(o.successExpression))wmjQuery(M).trigger(I,!0);else{var s=m;if(i.End==F.DURATION&&i.Duration){var r=parseInt(i.Duration,10);s+=1e3*(r<=p?r:p)}a=setTimeout(f,s)}}function c(){_testMe.libUtils.log("TestMe run was completed",1),_makeTutorial.getClientStorageManager().saveData(O,!1,w),o.clear()}function f(){a=undefined,o.successExpression=undefined,_testMe.storageHelper.deleteState(o),wmjQuery(M).trigger(k,function(){var n=o.workingState;o.workingStateExtraData&&wmjQuery.each(o.workingStateExtraData,function(e,t){n=n.replace("{"+e+"}",t)});o.actionDetails&&wmjQuery.each(o.actionDetails,function(e,t){n=n.replace("{"+e+"}",t)});return i=n,o.lastStep=o.lastStep||{},e=n=i=(i=i.replace("{stepId}",o.lastStep.Id||"")).replace("{stepName}",o.lastStep.StepTitle||o.lastStep.StepText||""),t=_testMe.libUtils.getCurrentTutorial()||{},n=e=(e=e.replace("{wtId}",t.Id||"")).replace("{wtName}",t.Name||"");var e,t;var i}())}o.lastStep,o.successExpression,o.workingState,o.workingStateExtraData,o.actionDetails,o.clear=function(e){clearTimeout(a),o.successExpression=undefined,a=undefined,_testMe.libUtils.unbindFromWalkMeEvent("StepCompleted",u),_testMe.libUtils.unbindFromWalkMeEvent("WalkthruCompleted",l),wmjQuery(M).off(v,n),wmjQuery(M).off(C,c),wmjQuery(M).off(b,r),wmjQuery(M).off(U,r),wmjQuery(M).off(P,i),wmjQuery(M).off(N,s),t&&(window.onbeforeunload=t,t=undefined),e||_testMe.storageHelper.deleteState(o)},o.getClassName=function(){return L.getClassName()},o.serialize=function(){var e={};return e.lastStep=o.lastStep,e.actionDetails=o.actionDetails,e.workingStateExtraData=o.workingStateExtraData,e.workingState=o.workingState,e.successExpression=o.successExpression,e.timeStemp=Date.now?Date.now():(new Date).getTime(),e._className_=o.getClassName(),e},function(){_testMe.libUtils.bindToWalkMeEvent("StepCompleted",u),_testMe.libUtils.bindToWalkMeEvent("WalkthruCompleted",l),wmjQuery(M).on(v,n),wmjQuery(M).on(C,c),wmjQuery(M).on(b,r),wmjQuery(M).on(U,r),wmjQuery(M).on(P,i),wmjQuery(M).on(N,s),t=window.onbeforeunload,window.onbeforeunload=function(){wmjQuery(M).trigger(y),t&&t()}}.apply(null,arguments)}function H(){var s=this;function r(e){s.reportData.push(e)}function t(e,t){s.runningTestSuite=t,_testMe.storageHelper.storeState(s)}function n(e,t){s.runningTestCase=t,_testMe.storageHelper.storeState(s)}function i(e,t,n){!function(e,t){if(!s.runningTestSuite||!s.runningTestCase)return _testMe.libUtils.log("Can't save the test run result, TestSuiteId or TestCaseId is undefined",2);s.runningTestSuite in s.testSuitesRuns||(s.testSuitesRuns[s.runningTestSuite]={success:[],fail:[],retryThenSuccess:[]});var n=function(n){var i=undefined;if(wmjQuery.each(s.testSuitesRuns[s.runningTestSuite].fail,function(e,t){if(t.Id===n)return i=e,!1}),i!==undefined)return s.testSuitesRuns[s.runningTestSuite].fail.splice(i,1),!0;return!1}(s.runningTestCase.Id);if(e)n?s.testSuitesRuns[s.runningTestSuite].retryThenSuccess.push(s.runningTestCase):s.testSuitesRuns[s.runningTestSuite].success.push(s.runningTestCase);else{var i={Id:s.runningTestCase.Id,Name:s.runningTestCase.Name,Reason:t};s.testSuitesRuns[s.runningTestSuite].fail.push(i)}_testMe.Utils.auditNewTestRunResult(s.testRunGuid,s.runningTestSuite.Id,s.runningTestCase.Id,e?j.Success:j.failed,t)}(t,n),_testMe.storageHelper.storeState(s)}function a(){var n,i;_testMe.Utils.auditFinishTestRunResult(s.testRunGuid),i=n=0,wmjQuery.each(s.testSuitesRuns,function(e,t){n+=t.success.length+t.retryThenSuccess.length,i+=t.fail.length}),0===i?r("All ["+n+"] TestCases ended successfully"):(r("Total TestCases ["+(n+i)+"]"),r("Total succeeded TestCases ["+n+"]"),r("Total failed TestCases ["+i+"]"),r(" "),r("Details"),r("========"),wmjQuery.each(s.testSuitesRuns,function(e,t){wmjQuery.each(t.fail,function(e,t){var n="TestCase ["+t.Name+"] Id ["+t.Id+"] failure: "+t.Reason;r(n)}),wmjQuery.each(t.retryThenSuccess,function(e,t){var n="TestCase ["+t.Name+"] Id ["+t.Id+"] Failed and succeeded after retry";r(n)})})),s.clear(),setTimeout(function(){!function(){console.log("====================================="),console.log("==         TestMe Report           =="),console.log("=====================================");for(var e=0;e<s.reportData.length;e++)console.log(s.reportData[e]);console.log("=====================================")}(),1==_walkMe.getStorageManagerInstance().getData("automatictesting")&&(window.testMeReport=s.reportData.join("\n")),s.reportData=[]},200)}s.reportData=[],s.testSuitesRuns={},s.runningTestSuite,s.runningTestCase,s.testRunGuid,s.init=function(){s.testRunGuid||(s.testRunGuid=_testMe.Utils.auditNewTestRun(),_testMe.storageHelper.storeState(s))},s.clear=function(e){s.runningTestSuite=undefined,s.runningTestCase=undefined,s.testSuitesRuns=undefined,wmjQuery(M).off(h,t),wmjQuery(M).off(T,n),wmjQuery(M).off(C,a),wmjQuery(M).off(I,i),_testMe&&!e&&_testMe.storageHelper.deleteState(s)},s.getClassName=function(){return H.getClassName()},s.serialize=function(){var e={};return e.reportData=s.reportData,e.testSuitesRuns=s.testSuitesRuns,e.runningTestSuite=s.runningTestSuite,e.runningTestCase=s.runningTestCase,e.testRunGuid=s.testRunGuid,e._className_=s.getClassName(),e},function(){wmjQuery(M).on(h,t),wmjQuery(M).on(T,n),wmjQuery(M).on(C,a),wmjQuery(M).on(I,i)}.apply(null,arguments)}function G(){var a=this,o=[];a.registerClass=function(e){var t=e.getClassName();o[t]=e},a.deserialize=function(e){return e?(n=e,"[object Array]"==Object.prototype.toString.call(n)?(t=e,wmjQuery.map(t,function(e){return a.deserialize(e)})):e._className_?function(e){var t=e._className_;if(!(t in o))throw"Cannot deserialize, unknown class : "+t;var n=new o[t];for(var i in e){var s=e[i],r=a.deserialize(s);n.__wmoop__&&"function"==typeof n[i]?n[i](r):n[i]=r}return n}(e):"object"==typeof e?function(e){var t={};for(var n in e){var i=e[n];t[n]=a.deserialize(i)}return t}(e):e):e;var t,n},function(){}.apply(null,arguments)}function V(){var e;function i(){return e||(e=_testMe.libUtils.getClientStorageManager()),e}this.storeState=function(e){var t=e.getClassName();_testMe.libUtils.log("TestMe storage manager: store object ["+t+"]",5);var n=e.serialize();i().saveData(s+t,n,w)},this.recoverState=function(e){var t="string"==typeof e?e:e.getClassName(),n=i().getData(s+t);return n?(_testMe.libUtils.log("TestMe storage manager: recover object ["+t+"]",5),_testMe.serializer.deserialize(n)):undefined},this.deleteState=function(e){var t=e.getClassName();_testMe.libUtils.log("TestMe storage manager: delete object ["+t+"]",5),i().saveData(s+t,"",w)},function(){}.apply(null,arguments)}function J(){var n,i;this.sendTestCaseFinishAudit=function(e){var t={testRunResult:i.toJSON(e)};n.sendData(t)},this.sendRunAudit=function(e){var t={testSuiteResult:i.toJSON({TestRunGuid:e,IsFinished:!1,Url:window.location.href,EndUserGuid:_makeTutorial.getUserGuid(),Browser:_makeTutorial.getHostData().browser.string,Os:_makeTutorial.getHostData().os.name,Source:_makeTutorial.getEnvId()})};n.sendData(t)},this.sendRunFinishedAudit=function(e){var t={testSuiteResult:i.toJSON({TestRunGuid:e,IsFinished:!0,EndUserGuid:_makeTutorial.getUserGuid(),Browser:_makeTutorial.getHostData().browser.string,Source:_makeTutorial.getEnvId()})};n.sendData(t)},function(){i=_walkMe.getCommonUtils(),n=_makeTutorial.getServerDataSenderManager().register("tmra",{actionUrl:"/TestMe/TestMeAudit",dataType:"TestMe run audit",sendingThreshold:1,requestParamsFunc:function(e){return e[0]}})}.apply(null,arguments)}function B(){var e=new d(this),i=e.Prop.Public("Name"),s=(e.Prop.Public("Id"),e.Prop.Public("Settings"));e.Public("execute",function(e,t,n){!function(){if(!s()||!s().executionCondition)return!0;return _testMe.libUtils.checkCondition(s().executionCondition)}()?(_testMe.libUtils.log("Action ["+i()+"] was skipped due to condition",3),wmjQuery(M).trigger(x),e()):r(e,t,n)});var r=e.Virtual.Protected("runAction");(function(){}).apply(null,arguments)}function K(){var s,n=new d(this);n.Override("runElementAction",function(e,t){s=e,n._base.findElement(i,t)});function i(e){if(e){var u,t,n=function(e){var t="input[type=button], input[type=submit], a, button";if(e.is(t))return e;_testMe.libUtils.log("Looking for clickable element",4);var n=e.find(t);if(1===n.length)return n.first();return _testMe.libUtils.log("Found ["+n.length+"] clickable elements. Not changing the element.",2),undefined}(e);if(n)e=n;else{var i=(u=e,(t=_testMe.Utils.scrollToElementAndExecute(u,function(e,t,n){var i=u.offset().top+u.outerHeight()/2,s=u.offset().left+u.outerWidth()/2,r=e.elementFromPoint(s-n,i-t),a=[],o=wmjQuery(r).attr("class");for(;o&&0<=o.toLowerCase().indexOf("walkme");){var l=r;a.push({element:l,displayStyle:l.style.display}),l.style.display="none",r=e.elementFromPoint(s-n,i-t),o=wmjQuery(r).attr("class")}return wmjQuery.each(a,function(e,t){t&&t.element&&t.displayStyle&&(t.element.style.display=t.displayStyle)}),r}))?wmjQuery(t):undefined);i?(_testMe.libUtils.log("Found element in the center of the chosen element, going to click it",5),e=i):_testMe.libUtils.log("Didn't found clickable element or center element. Going to click on the original element.",5)}e=wmjQuery(function(e){if(window.SVGElement)for(;e&&e instanceof window.SVGElement;)e=e.parentNode;return e}(e[0])),Me.click(e,s)}else s()}(function(){n.Extends($)}).apply(null,arguments)}function $(){var r,a,o=new d(this),u=[],l=0,c=!1;o.Protected("findElement",function(t,n){r=n,a=function(e){"string"==typeof e.ElementDescription&&(e.ElementDescription=_testMe.secureEvalJSON(e.ElementDescription));return e}(o._base.Settings().IdentifySettings),function e(t){var n=_testMe.libUtils.findElement(a);var i=n&&0<n.length;var s=!c||function(o){if(!o)return!1;var l=!1;return _testMe.Utils.scrollToElementAndExecute(o,function(s,r,a){wmjQuery.each(u,function(e,t){var n=t(o),i=s.elementFromPoint(n.x-a,n.y-r);if(i==o[0]||wmjQuery.contains(o[0],i))return!(l=!0)})}),l}(n);if(i&&s)r(function(){wmjQuery(M).trigger(x),t(n)},_testMe.Utils.getUserReactionTime());else{if(i?s||_testMe.libUtils.log("Action: element can't be interacted, keep checking",5):_testMe.libUtils.log("Action: element wasn't found, keep looking",5),l++,0===o._base.Name().indexOf("#")&&10<=l)return wmjQuery(M).trigger(x),void t(undefined);r(function(){e(t)},f)}}(t)});var s=o.Virtual.Protected("runElementAction");o.Override("runAction",function(e,t,n,i){c=i,s(e,t,n)}),o.Public("exit",function(){}),function(){o.Extends(B),u.push(function(e){return{x:e.offset().left+e.outerWidth()/2,y:e.offset().top+1}}),u.push(function(e){return{x:e.offset().left+e.outerWidth()/2,y:e.offset().top+e.outerHeight()-1}}),u.push(function(e){return{x:e.offset().left+1,y:e.offset().top+e.outerHeight()/2}}),u.push(function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+e.outerHeight()/2}}),u.push(function(e){return{x:e.offset().left+1,y:e.offset().top+1}}),u.push(function(e){return{x:e.offset().left+1,y:e.offset().top+e.outerHeight()-1}}),u.push(function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+1}}),u.push(function(e){return{x:e.offset().left+e.outerWidth()-1,y:e.offset().top+e.outerHeight()-1}})}.apply(null,arguments)}function q(){var n,i=new d(this);i.Override("runElementAction",function(e,t){n=e,i._base.findElement(s,t)});function s(e){e?Me.hover(e,n):n()}(function(){i.Extends($)}).apply(null,arguments)}function Y(){var n=new d(this);n.Override("runAction",function(t,e){e(function(){wmjQuery(M).trigger(x);var e=n._base.Settings().Value;e?window.location.href=e:window.location.reload(),t&&t()},_testMe.Utils.getUserReactionTime())}),n.Public("exit",function(){});(function(){n.Extends(B)}).apply(null,arguments)}function X(){var n=new d(this);n.Override("runAction",function(t,e){e(function(){var e=function(e){var n="#walkme-balloon-"+e,i=wmjQuery(n);if(!i||0===i.length){var t=_testMe.libUtils.getFramesetsUtils();if(t&&t.isFramesetsPage()){var s=t.getAllFramesDocuments();wmjQuery.each(s,function(e,t){if((i=wmjQuery(n,t))&&1===i.length)return i})}}return i}(n._base.Settings().StepId).find(".walkme-action-start, .walkme-action-next, .walkme-action-done");wmjQuery(M).trigger(x),Me.click(e,t)},_testMe.Utils.getUserReactionTime())}),n.Public("exit",function(){});(function(){n.Extends(B)}).apply(null,arguments)}function Z(){var n,i=new d(this);i.Override("runElementAction",function(e,t){i._base.Settings().Value?(n=e,i._base.findElement(s,t)):e&&e()});function s(e){e?e.is("select")||(e=function(){var e=element.find("select");if(1===e.length)return e.first();return undefined}())?Me.selectByText(e,i._base.Settings().Value,n):callback&&callback():n()}(function(){i.Extends($)}).apply(null,arguments)}function ee(){var n,i=new d(this);i.Override("runElementAction",function(e,t){n=e,i._base.findElement(s,t)});function s(e){if(e){var t=function(e){var t="input[type=text], textarea, input[type=textarea], [contenteditable=true]";if(e.is(t))return e;_testMe.libUtils.log("Looking for writable element",4);var n=e.find(t);if(1===n.length)return n.first();return _testMe.libUtils.log("Found ["+n.length+"] writable elements. return to write on original element",2),undefined}(e);t&&(e=t),Me.text(e,i._base.Settings().Value,_testMe.Utils.getUserReactionTime(),n)}else n()}(function(){i.Extends($)}).apply(null,arguments)}function te(){var t=new d(this),n=t.Prop.Public("storageTypes");t.Override("runAction",function(e){wmjQuery.each(n(),function(e,t){switch(t){case R.WalkmeStorage:!function(){_testMe.libUtils.log("actionClearStorage: Clearing WalkMe storage",5);var e=_makeTutorial.getClientStorageManager().getData(O,!1);_makeTutorial.getStorageManagerInstance().removeAllData(),e&&_makeTutorial.getClientStorageManager().saveData(O,!0,w)}();break;case R.LocalStorage:_testMe.libUtils.log("actionClearStorage: Clearing local storage",5),localStorage&&Object.keys(localStorage).forEach(function(e){-1===e.indexOf(O)&&localStorage.removeItem(e)});break;case R.Cookie:!function(){_testMe.libUtils.log("actionClearStorage: Clearing cookies",5);for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t],i=n.indexOf("="),s=-1<i?n.substr(0,i):n;-1===s.indexOf(O)&&(document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/")}}();break;case R.TestMeStorage:!function(){_testMe.libUtils.log("actionClearStorage: Clearing TestMe storage",5);var n=_testMe.libUtils.getClientStorageManager(),e=n.getInternalKeys(undefined,s);wmjQuery.each(e,function(e,t){n.removeData(e)})}();break;default:_testMe.libUtils.log("actionClearStorage: unknown storage type: ["+t()+"]",1)}}),e&&e()}),t.Public("exit",function(){});(function(e){t.Extends(B),n(e)}).apply(null,arguments)}function ne(){var i,s,r=new d(this);r.Override("runAction",function(t,n){i=t,s=n,function e(){var t=_testMe.libUtils.checkCondition(r._base.Settings().waitForCondition);t?(wmjQuery(M).trigger(x),i()):(_testMe.libUtils.log("Action ["+r._base.Name()+"] - wait for condition",4),s(function(){e()},a))}()});(function(){r.Extends(B)}).apply(null,arguments)}function ie(){var a=new d(this);a.Override("runAction",function(e,t,n){var i=a._base.Settings().JumpToActionId,s=undefined,r=undefined;wmjQuery.each(n,function(e,t){if(t.Id()==i)return s=e,r=t,!1}),s?_testMe.libUtils.log("Jumping to action ["+r.Name()+"] ["+i+"]",5):_testMe.libUtils.log("Can't find action id ["+i+"]. keep with regular flow",2),wmjQuery(M).trigger(x),e(s)});(function(){a.Extends(B)}).apply(null,arguments)}function se(){var i,s=this,e=new d(this),r=e.Prop.Public("currentState"),a=e.Virtual.Protected("getConcreteInstance"),t=e.Virtual.Protected("mustStartWithDefaultState"),n=e.Prop.Protected("defaultStateClass"),o=e.Prop.Public("exitWasCalled"),l=!1;e.Virtual.Public("start",function(){var e;e=!t()&&r()?r():new(n())(r()),r(null),_testMe.libUtils.log("["+a().getClassName()+"] starting the state machine from state "+e.getClassName(),5),s.switchState(e)}),e.Virtual.Public("exit",function(e){o(!0),s.clearTimer(),r()&&r().exit(e)}),e.Public("switchState",function(e,t){wmjQuery(M).trigger(b);var n=a().getClassName();r()&&(_testMe.libUtils.log("["+n+"] switching state: "+r().getClassName()+" --\x3e "+e.getClassName(),5),r().exit(t)),l||(r(e),r().stateMachine(a()),_testMe.libUtils.log("["+n+"] entering state: "+r().getClassName(),5),s.storeState(),r().enter())}),e.Public("setTimer",function(e,t,n){o()||(i=setTimeout(function(){e?e():_testMe.libUtils.log("Error, StateMachine timer callback was undefined.",1),n&&s.storeState()},t))}),e.Public("clearTimer",function(){clearTimeout(i),i=undefined}),e.Virtual.Public("storeState"),function(){o(!1),wmjQuery(M).on(y,function(e){_testMe.libUtils.log("Stop the state machine, waiting for page reload",5),l=!0})}.apply(null,arguments)}function re(){var e=new d(this);e.Prop.Public("stateMachine");e.Virtual.Public("enter",function(){}),e.Virtual.Public("exit",function(){}),e.Virtual.Public("serialize",function(){}),function(){}.apply(null,arguments)}function ae(){var t=this,r=new d(this),e=r.Prop.Public("testCase"),n=!1,a=!1,o=[];function i(){n&&e()?r._base.setTimer(function(){_testMe.libUtils.log("Starting WalkThru ["+e().WalkthruName+"] id ["+e().WalkthruId+"]",1),wmjQuery(M).trigger(P,[E.StartingWT,{wtName:e().WalkthruName,wtId:e().WalkthruId}]),_testMe.libUtils.startWalkThru(e().WalkthruId,function(){if(window.testMeData&&window.testMeData.stepIndex)return window.testMeData.stepIndex;return 0}(),!0,s,r._base.setTimer)},0):r._base.start()}function s(){r._base.start()}function l(e,t,n){if(!a){_testMe.libUtils.log("TestMe: New step jumped, add it to queue. Step ["+t.StepTitle+"] Id ["+t.Id+"]",5);var i,s={TutorialId:(i=t).TutorialId,TutorialIndex:i.TutorialIndex,StepId:i.Id,StepIndex:i.StepIndex,StepTitle:i.StepTitle};(function(e){if(-1<wmjQuery.inArray(e,o))return!0;if(r._base.currentState()&&r._base.currentState().stepDetails&&r._base.currentState().stepDetails.StepId==e.StepId)return!0;return!1})(s)||(o.push(s),r._base.currentState()&&r._base.currentState().handleStep&&r._base.currentState().handleStep())}}r.Public("getStepFromQueue",function(){return o.shift()}),r.Override("start",function(){_testMe.isWalkMeReady?i():_testMe.keepLoadingWalkMe(i)}),r.Override("exit",function(e){_testMe.libUtils.unbindFromWalkMeEvent("StepPerforming",l),a=!0,o=[],r._base.exit(e),e||_testMe.storageHelper.deleteState(t)}),r.Override("getConcreteInstance",function(){return t}),r.Override("mustStartWithDefaultState",function(){return!1}),r.Override("storeState",function(){_testMe.storageHelper.storeState(t)}),r.Public("serialize",function(){var e={};return e.currentState=r._base.currentState().serialize(),e._className_=t.getClassName(),e}),r.Public("getClassName",function(){return ae.getClassName()}),function(e){r.Extends(se),r._base.defaultStateClass(ce),_testMe.libUtils.bindToWalkMeEvent("StepPerforming",l),n=e}.apply(null,arguments)}function oe(){var t=this,i=new d(this),n=i.Prop.Public("testSuiteRunningIndex"),s=i.Prop.Public("testCaseRunningIndex"),r=i.Prop.Public("testMeData"),a=i.Prop.Public("runningTestObject"),o=i.Prop.Public("numberOfRetries");i.Prop.Public("ignoreTestsFilter");i.Override("exit",function(e){i._base.exit(e),wmjQuery(M).off(k,g),e||_testMe.storageHelper.deleteState(t)}),i.Override("getConcreteInstance",function(){return t}),i.Override("mustStartWithDefaultState",function(){return!1});var l=i.Public("increaseTestSuiteIndex",function(){n(n()+1),e()}),u=i.Public("increaseTestCaseIndex",function(){s(s()+1),e()}),c=i.Public("getCurrentTestSuite",function(){return r().TestSuites[n()]}),f=i.Public("getCurrentTestCase",function(){var e=c().TestCases[s()];return r().TestCases[e]});i.Public("getAllTestCases",function(){return r().TestCases});i.Public("testMeRunFinished",function(){wmjQuery(M).trigger(C),t.exit(),_testMe.Utils.raiseTestMeRunFinishedForEditor()}),i.Public("serialize",function(){var e={};return e.testSuiteRunningIndex=n(),e.testCaseRunningIndex=s(),e.currentState=i._base.currentState().serialize(),e.runningTestObject=a(),e.numberOfRetries=o(),e._className_=t.getClassName(),e});var e=i.Override("storeState",function(){_testMe.storageHelper.storeState(t)});function g(e,t){a()===D.TestCase?function(e){wmjQuery(M).trigger(I,[!1,e]);var t=f();if(_testMe.libUtils.log("Test Case was failed due to timeout. Name ["+t.Name+"] Id ["+t.Id+"] Index ["+s()+"]",1),o()<S){o(o()+1),_testMe.libUtils.log("Going to retry TestCase. retry number ["+o()+"]. TestCase ["+t.Name+"] Id ["+t.Id+"]",4);var n=new me;i._base.switchState(n)}else o(0),function(){u();var e=new me;i._base.switchState(e)}()}(t):function(){var e=c();_testMe.libUtils.log("Test Suite was failed due to timeout. Name ["+e.Name+"] Id ["+e.Id+"] Index ["+n()+"]",1),l();var t=new we;i._base.switchState(t)}()}i.Public("getClassName",function(){return oe.getClassName()}),function(){i.Extends(se),i._base.defaultStateClass(we),n(0),s(0),o(0),wmjQuery(M).on(k,g)}.apply(null,arguments)}function le(){var t=this,e=new d(this),n=e.Prop.Public("isPassOwnership");e.Prop.Public("ignoreTestsFilter"),e.Prop.Public("testMeData");function i(){_testMe.libUtils.log("TestMe instance lost ownership",5),0!==_testMe.libUtils.getLibRunningState()&&(_testMe.reporter&&(_testMe.reporter.clear(!0),_testMe.reporter=undefined),_testMe.monitor&&(_testMe.monitor.clear(!0),_testMe.monitor=undefined),t.switchState(new ge,!0))}function s(){if(_testMe.libUtils.log("TestMe instance gain ownership",5),t.currentState().getClassName()!==de.getClassName()){var e=_testMe.libUtils.getClientStorageManager();if(e.getData(_,!1)){if(!e.getData("tm-"+oe.getClassName(),undefined))return void _testMe.libUtils.log("Don't take owner, gain ownership only if we are in a run",5)}else e.saveData(_,!0,w);t.switchState(new de)}else _testMe.libUtils.log("Ignore gain ownership as this instance is already running",5)}e.Override("exit",function(){e._base.exit(),_testMe.storageHelper.deleteState(t),n()&&(_testMe.libUtils.unbindFromWalkMeEvent("loseOwnership",i),_testMe.libUtils.unbindFromWalkMeEvent("gainOwnership",s))}),e.Override("getConcreteInstance",function(){return t}),e.Override("mustStartWithDefaultState",function(){return!0}),e.Public("getClassName",function(){return le.getClassName()}),e.Override("storeState",function(){_testMe.storageHelper.storeState(t)}),e.Public("serialize",function(){var e={};return e._className_=t.getClassName(),e}),function(){e.Extends(se),e._base.defaultStateClass(fe),n(_testMe.libUtils.isFeatureExists("passOwnership")||_testMe.libUtils.isFeatureExists("cd_play")),n()&&(_testMe.libUtils.bindToWalkMeEvent("loseOwnership",i),_testMe.libUtils.bindToWalkMeEvent("gainOwnership",s)),wmjQuery(M).on(C,t.exit)}.apply(null,arguments)}function ue(){var t,n=this,i=new d(this);function s(){return n.responseActionIndex}function r(e){n.responseActionIndex=e}function a(){i._base.stateMachine().switchState(new ce)}n.stepDetails,n.responseActionIndex=0,i.Override("enter",function(){wmjQuery(M).trigger(P,[E.RespondingToStep,{stepId:n.stepDetails.StepId,stepName:n.stepDetails.StepTitle}]);var e=i._base.stateMachine();(t=e.testCase().StepActions[n.stepDetails.StepId])&&t.length>n.responseActionIndex?(_testMe.libUtils.log("Responding to step ["+n.stepDetails.StepTitle+"] Id ["+n.stepDetails.StepId+"] with ["+t.length+"] actions. starting with index ["+n.responseActionIndex+"]",3),new g(t,s,r,i._base.stateMachine(),a).runActions()):(t&&0!==t.length?_testMe.libUtils.log("Done responding to step ["+n.stepDetails.StepTitle+"] Id ["+n.stepDetails.StepId+"]",4):_testMe.libUtils.log("No action to respond to step ["+n.stepDetails.StepTitle+"] Id ["+n.stepDetails.StepId+"]",4),a())}),i.Public("getClassName",function(){return ue.getClassName()}),i.Override("serialize",function(){var e={};return e.responseActionIndex=n.responseActionIndex,e.stepDetails=n.stepDetails,e._className_=n.getClassName(),e}),function(e){i.Extends(re),n.stepDetails=e}.apply(null,arguments)}function ce(){var t=this,i=new d(this);i.Override("enter",function(){wmjQuery(M).trigger(P,E.WaitingForStep),t.handleStep()}),i.Public("handleStep",function(){var e=i._base.stateMachine(),t=e.getStepFromQueue();if(t){var n=new ue(t);e.switchState(n)}}),i.Override("serialize",function(){var e={};return e._className_=t.getClassName(),e}),i.Public("getClassName",function(){return ce.getClassName()}),function(){i.Extends(re)}.apply(null,arguments)}function fe(){var t=this,n=new d(this);function i(e){var t=_testMe.serializer.deserialize(e);n._base.stateMachine().testMeData(t),n._base.stateMachine().switchState(n._base.stateMachine().isPassOwnership()?new ge:new de)}n.Override("enter",function(){var e=window.testMeData;if(e)_testMe.libUtils.log("Using TestMe data from the window var (editor)",5),n._base.stateMachine().ignoreTestsFilter(!0),i(e.playData);else{var t=_testMe.Utils.getTestMeDataFile();(new W).readFile(t,i)}}),n.Override("serialize",function(){var e={};return e._className_=t.getClassName(),e}),n.Public("getClassName",function(){return fe.getClassName()}),function(){n.Extends(re)}.apply(null,arguments)}function ge(){var t=this,e=new d(this);e.Override("enter",function(){_testMe.libUtils.addInstanceDomainForLog(location.hostname),_testMe.libUtils.log("TM-PassOwnership: Waiting to gain ownership",4),_testMe.keepLoadingWalkMe()}),e.Override("serialize",function(){var e={};return e._className_=t.getClassName(),e}),e.Public("getClassName",function(){return ge.getClassName()}),function(){e.Extends(re)}.apply(null,arguments)}function de(){var t,n=this,i=new d(this);i.Override("enter",function(){!function(){_testMe.monitor&&_testMe.monitor.clear(!0);_testMe.monitor=_testMe.storageHelper.recoverState(L.getClassName())||new L,_testMe.reporter&&_testMe.reporter.clear(!0);_testMe.reporter=_testMe.storageHelper.recoverState(H.getClassName())||new H,_testMe.reporter.init(),_testMe.libUtils.log("Done TestMe state initialization",5)}(),t=_testMe.storageHelper.recoverState(oe.getClassName())||new oe;var e=i._base.stateMachine();t.testMeData(e.testMeData()),t.ignoreTestsFilter(e.ignoreTestsFilter()),t.start()}),i.Override("exit",function(e){t&&(t.exit(e),t=undefined)}),i.Public("getClassName",function(){return de.getClassName()}),i.Override("serialize",function(){var e={};return e._className_=n.getClassName(),e}),function(e){i.Extends(re)}.apply(null,arguments)}function me(){var i,t=this,s=new d(this);function r(){var e=new Se(i),t=new pe(i.PreActions,e);s._base.stateMachine().switchState(t)}s.Override("enter",function(){wmjQuery(M).trigger(P,E.TCPreActions);var e=s._base.stateMachine();e.runningTestObject(D.TestCase);var t=e.testCaseRunningIndex(),n=e.getCurrentTestSuite();(i=function(e,t,n){var i=e.testCaseRunningIndex();for(;i<n;){var s=e.getCurrentTestCase(),r=s&&s.Settings&&s.Settings.dontRun;if(!r)return s;_testMe.libUtils.log("TestMe: Skipping TestCase ["+s.Name+"] Id ["+s.Id+"]",4),e.increaseTestCaseIndex(),i=e.testCaseRunningIndex()}return undefined}(e,n.Id,n.TestCases.length))?(wmjQuery(M).trigger(v,i.Settings.SuccessCriteria),wmjQuery(M).trigger(T,{Id:i.Id,Name:i.Name}),_testMe.libUtils.log("TestCase init. TestCaseId ["+i.Id+"] Name ["+i.Name+"] index ["+t+"]",3),new te(_testMe.Utils.parseSettingsStorage(i.Settings)).execute(r)):function(){s._base.stateMachine().increaseTestSuiteIndex();var e=new we;s._base.stateMachine().switchState(e)}()}),s.Override("serialize",function(){var e={};return e._className_=t.getClassName(),e}),s.Public("getClassName",function(){return me.getClassName()}),function(){s.Extends(re)}.apply(null,arguments)}function pe(){var n,i=this,s=new d(this);function e(){s._base.stateMachine().switchState(i._nextState)}function t(){return i._preActionIndex}function r(e){i._preActionIndex=e}i._nextState,i._preActionIndex=0,s.Override("enter",function(){0==i._preActionIndex&&window.testMeData&&window.testMeData.preTestSetActionIndex&&(i._preActionIndex=window.testMeData.preTestSetActionIndex),n||(n=s._base.stateMachine().runningTestObject()===D.TestSuite?s._base.stateMachine().getCurrentTestSuite().PreActions:s._base.stateMachine().getCurrentTestCase().PreActions),function(){if(!n||i._preActionIndex>=n.length)return _testMe.libUtils.log("No PreActions found",4),e();_testMe.libUtils.log("Executing ["+n.length+"] PreActions. starting from index ["+i._preActionIndex+"]",4),new g(n,t,r,s._base.stateMachine(),e).runActions()}()}),s.Override("serialize",function(){var e={};return e._nextState=i._nextState.serialize(),e._preActionIndex=i._preActionIndex,e._className_=i.getClassName(),e}),s.Public("getClassName",function(){return pe.getClassName()}),function(e,t){s.Extends(re),n=e,i._nextState=t}.apply(null,arguments)}function we(){var i,t=this,s=new d(this);function r(){var e=new me,t=new pe(i.PreActions,e);s._base.stateMachine().switchState(t)}s.Override("enter",function(){wmjQuery(M).trigger(P,E.TSPreActions);var e=s._base.stateMachine();e.runningTestObject(D.TestSuite);var t=e.testSuiteRunningIndex();e.testCaseRunningIndex(0);var n=e.testMeData();(i=function(e,t){var n=_testMe.Utils.getFilter(),i=e.testSuiteRunningIndex();if(e.ignoreTestsFilter()){_testMe.libUtils.log("TestMe: ignoreTestsFilter is on, ignoring filter in nextSuiteToRun",1);var s=e.getCurrentTestSuite();return a(s),s}if(!n){_testMe.libUtils.log("TestMe: nextSuiteToRun - No filter found.",1);var s=e.getCurrentTestSuite();return a(s),s}for(;i<t;){var r=e.getCurrentTestSuite();if(0<=wmjQuery.inArray(r.Id,n))return _testMe.libUtils.log("TestMe: Filter by suite ids: "+n,1),a(r),r;_testMe.libUtils.log("TestMe: Skipping TestSuite ["+r.Name+"] Id ["+r.Id+"] due to filter. ",1),e.increaseTestSuiteIndex(),i=e.testSuiteRunningIndex()}function a(e){e?_testMe.libUtils.log("TestMe: Running suite ["+e.Name+"] Id ["+e.Id+"]. ",1):_testMe.libUtils.log("TestMe: No more suites to run were found.",1)}return undefined}(e,n.TestSuites.length))?(_testMe.libUtils.log("Start running Test Suite. Suite ["+i.Name+"] Id ["+i.Id+"] index ["+t+"]",4),wmjQuery(M).trigger(h,{Id:i.Id,Name:i.Name}),new te(_testMe.Utils.parseSettingsStorage(i.Settings)).execute(r)):e.testMeRunFinished()}),s.Override("serialize",function(){var e={};return e._className_=t.getClassName(),e}),s.Public("getClassName",function(){return we.getClassName()}),function(){s.Extends(re)}.apply(null,arguments)}function Se(){var n,r,a=this,o=new d(this);function t(e,t){!0===t&&function(){_testMe.libUtils.log("Test Case ["+n.Name+"] Id ["+n.Id+"] was ended successfully",1);var e=o._base.stateMachine();e.increaseTestCaseIndex();var t=new me;e.switchState(t)}()}function i(e,n){var i,t=o._base.stateMachine(),s=t.getAllTestCases();wmjQuery.each(s,function(e,t){if(t.WalkthruId==n)return i=t,!1}),i?(_testMe.libUtils.log("Branch detected: Switched to TestCase ["+i.Id+"] ["+i.Name+"]",4),a.branchWTId=n,_testMe.storageHelper.storeState(t),r.testCase(i)):_testMe.libUtils.log("Can't find the branch WalkThru ["+n+"] in the TestMe DataFile",2)}a.branchWTId,o.Override("enter",function(){n||(n=o._base.stateMachine().getCurrentTestCase()),_testMe.libUtils.log("Start running TestCase ["+n.Name+"] Id ["+n.Id+"]",1),r=_testMe.storageHelper.recoverState(ae.getClassName())||new ae(!0),a.branchWTId?i(undefined,a.branchWTId):r.testCase(n),wmjQuery(M).on(I,t),_makeTutorial.getClientStorageManager().saveData(O,1,A),r.start()}),o.Override("exit",function(e){n=undefined,e||(_testMe.libUtils.log("Stop the current WalkThru",3),_testMe.libUtils.stopCurrentWalkThru()),_testMe.libUtils.unbindFromWalkMeEvent("switchToWalkthru",i),r&&r.exit(e),wmjQuery(M).off(I,t)}),o.Override("serialize",function(){var e={};return e._className_=a.getClassName(),e.branchWTId=a.branchWTId,e}),o.Public("getClassName",function(){return Se.getClassName()}),function(e){o.Extends(re),n=e,_testMe.libUtils.bindToWalkMeEvent("switchToWalkthru",i)}.apply(null,arguments)}L.getClassName=function(){return"Monitor"},H.getClassName=function(){return"Reporter"},K.getClassName=function(){return"actionClick"},q.getClassName=function(){return"actionHover"},Y.getClassName=function(){return"actionNavigate"},X.getClassName=function(){return"actionBalloonButton"},Z.getClassName=function(){return"actionDropdown"},ee.getClassName=function(){return"actionText"},te.getClassName=function(){return"actionClearStorage"},ne.getClassName=function(){return"actionWaitForCondition"},ie.getClassName=function(){return"actionJumpToAction"},ae.getClassName=function(){return"TestCaseStateMachine"},oe.getClassName=function(){return"TestMeStateMachine"},le.getClassName=function(){return"InitStateMachine"},ue.getClassName=function(){return"TestCaseStateRespondingStep"},ce.getClassName=function(){return"TestCaseStateWaitingForStep"},fe.getClassName=function(){return"InitStateLoadData"},ge.getClassName=function(){return"InitStatePassOwnership"},de.getClassName=function(){return"InitStateStartRunning"},me.getClassName=function(){return"TestMeStateInitTestCase"},pe.getClassName=function(){return"TestMeStatePreActions"},we.getClassName=function(){return"TestMeStateRunningSuite"},Se.getClassName=function(){return"TestMeStateRunningTestCase"};var Me,_e,he,Te=this;function be(){Te.Utils.registerTestMeAuditers(),Te.serializer=new G,Te.serializer.registerClass(H),Te.serializer.registerClass(L),Te.serializer.registerClass(e),Te.serializer.registerClass(i),Te.serializer.registerClass(K),Te.serializer.registerClass(q),Te.serializer.registerClass(X),Te.serializer.registerClass(ee),Te.serializer.registerClass(Z),Te.serializer.registerClass(Y),Te.serializer.registerClass(te),Te.serializer.registerClass(ne),Te.serializer.registerClass(ie),Te.serializer.registerClass(oe),Te.serializer.registerClass(me),Te.serializer.registerClass(pe),Te.serializer.registerClass(we),Te.serializer.registerClass(Se),Te.serializer.registerClass(le),Te.serializer.registerClass(fe),Te.serializer.registerClass(ge),Te.serializer.registerClass(ae),Te.serializer.registerClass(ue),Te.serializer.registerClass(ce),Te.storageHelper=new V,Te.libUtils.addLibFeature("noAudit"),Te.libUtils.addLibFeature("noSurveys"),Te.Utils.disableAlerts(window),Me=Te.libUtils.getInputGenerator(),Te.libUtils.log("Done TestMe stateless initialization",5),_makeTutorial.getClientStorageManager().getData(O,!1)||window.walkMeTestMeLoad?Te.start():Te.libUtils.log("LoadTestMe flag is off - not starting TestMe",4)}Te.isWalkMeReady=!1,Te.keepLoadingWalkMe=function(e){if(_makeTutorial.addTimeStamp("testMeEndInit"),he=e,window._walkmeInternals&&window._walkmeInternals.testme&&window._walkmeInternals.testme.testmeLoadedCallback){Te.libUtils.log("Keep loading WalkMe. TestMe will continue loading when WalkMe ready",5);var t=window._walkmeInternals.testme.testmeLoadedCallback;window._walkmeInternals.testme.testmeLoadedCallback=undefined,t(),window.wmPlaySnippet&&Te.keepLoadingTestMe()}else e&&e()},Te.keepLoadingTestMe=function(){Te.isWalkMeReady=!0,he?(Te.libUtils.log("Walkme is ready, keep on loading TestMe",5),he()):Te.libUtils.log("Can't keep loading test Me, no callback",2)},Te.start=function(){if(Te.libUtils.log("Starting TestMe",4),window.walkMeTestMeClearStorage&&(Te.cleanTestMeStorage(),window.walkMeTestMeClearStorage=undefined),Te.Utils.cacheFilter(),Te.Utils.cacheUserReactionTime(),!(_e=Te.storageHelper.recoverState(le.getClassName()))){if(window.WalkMe_Extension&&!window.startTestMeFromExtension)return void Te.libUtils.log("TestMe had no previous state and it was loaded from extension, not from the configuration page, doing nothing.",1);_e=new le,_makeTutorial.getStorageManagerInstance().saveData("wm-po-r","",w),_makeTutorial.getStorageManagerInstance().saveData("wm-cdplay","",w)}_e.start()},Te.cleanTestMeStorage=function(){new te([R.TestMeStorage]).execute()},Te.exit=function(){Te.monitor&&(Te.monitor.clear(),Te.monitor=undefined),Te.reporter&&(Te.reporter.clear(),Te.reporter=undefined),_e&&(_e.exit(),_e=undefined),Te.libUtils.log("Done TestMe exit",5)},Te.readMailbox=function(){var e=Me.getMessages();return _testMe.libUtils.toJSON(e)},function(){setTimeout(function(){Te.libUtils=new Q,Te.Utils=new z,Te.libUtils.initClientStorageManager(be)},0),window._walkmeInternals.on("WalkMeReady",function(){_e.exitWasCalled()?_testMe.Utils.raiseTestMeRunFinishedForEditor():_testMe.keepLoadingTestMe()})}.apply(null,arguments)}e.exports=function(){_testMe=new n}}});